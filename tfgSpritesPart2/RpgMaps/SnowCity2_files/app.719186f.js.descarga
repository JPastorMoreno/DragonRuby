!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=241)}([function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return l});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}},function(t,e,n){(function(e){t.exports=e.jQuery=n(73)}).call(this,n(24))},function(t,e,n){"use strict";(function(t,i,r){n.d(e,"i",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"m",function(){return c}),n.d(e,"k",function(){return u}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return p}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return f}),n.d(e,"g",function(){return g}),n.d(e,"h",function(){return m}),n.d(e,"l",function(){return S}),n.d(e,"j",function(){return x}),n.d(e,"e",function(){return T});var o=n(3);n(19);function a(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}var s={};function l(){return a()?i:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function c(){var t=l(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function u(t){if(!t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function d(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function p(t){var e=l();if(!("console"in e))return t();var n=e.console,i={};["debug","info","warn","error","log","assert"].forEach(function(t){t in e.console&&n[t].__sentry_original__&&(i[t]=n[t],n[t]=n[t].__sentry_original__)});var r=t();return Object.keys(i).forEach(function(t){n[t]=i[t]}),r}function h(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function f(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach(function(n){t.exception.values[0].mechanism[n]=e[n]})}catch(t){}}function g(){try{return document.location.href}catch(t){return""}}function m(t){try{for(var e=t,n=[],i=0,r=0,o=" > ".length,a=void 0;e&&i++<5&&!("html"===(a=v(e))||i>1&&r+n.length*o+a.length>=80);)n.push(a),r+=a.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function v(t){var e,n,i,r,a,s=t,l=[];if(!s||!s.tagName)return"";if(l.push(s.tagName.toLowerCase()),s.id&&l.push("#"+s.id),(e=s.className)&&Object(o.k)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)l.push("."+n[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)i=c[a],(r=s.getAttribute(i))&&l.push("["+i+'="'+r+'"]');return l.join("")}var y=Date.now(),_=0,b={now:function(){var t=Date.now()-y;return t<_&&(t=_),_=t,t},timeOrigin:y},w=function(){if(a())try{return(t="perf_hooks",r.require(t)).performance}catch(t){return b}var t;return l().performance&&void 0===performance.timeOrigin&&(performance.timeOrigin=performance.timing&&performance.timing.navigationStart||y),l().performance||b}();function S(){return(w.timeOrigin+w.now())/1e3}var E=6e4;function x(t,e){if(!e)return E;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var i=Date.parse(""+e);return isNaN(i)?E:i-t}var k="<anonymous>";function T(t){try{return t&&"function"==typeof t&&t.name||k}catch(t){return k}}}).call(this,n(89),n(24),n(90)(t))},function(t,e,n){"use strict";function i(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(t,Error)}}function r(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function l(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function u(t){return"undefined"!=typeof Event&&g(t,Event)}function d(t){return"undefined"!=typeof Element&&g(t,Element)}function p(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function h(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function f(t){return c(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,"d",function(){return i}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"k",function(){return s}),n.d(e,"i",function(){return l}),n.d(e,"h",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"c",function(){return d}),n.d(e,"j",function(){return p}),n.d(e,"m",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"g",function(){return g})},function(t,e,n){"use strict";var i={};n.r(i),n.d(i,"FunctionToString",function(){return s}),n.d(i,"InboundFilters",function(){return g});var r,o=n(9),a=n(15),s=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){r=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return r.apply(n,t)}},t.id="FunctionToString",t}(),l=n(0),c=n(18),u=n(5),d=n(11),p=n(2),h=n(19),f=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],g=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Object(c.b)(function(e){var n=Object(u.b)();if(!n)return e;var i=n.getIntegration(t);if(i){var r=n.getClient(),o=r?r.getOptions():{},a=i._mergeOptions(o);if(i._shouldDropEvent(e,a))return null}return e})},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(d.a.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(p.d)(t)),!0):this._isIgnoredError(t,e)?(d.a.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(p.d)(t)),!0):this._isBlacklistedUrl(t,e)?(d.a.warn("Event dropped due to being matched by `blacklistUrls` option.\nEvent: "+Object(p.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isWhitelistedUrl(t,e)&&(d.a.warn("Event dropped due to not being matched by `whitelistUrls` option.\nEvent: "+Object(p.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(void 0===e&&(e={}),!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return void 0===e&&(e={}),!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some(function(t){return e.ignoreErrors.some(function(e){return Object(h.a)(t,e)})})},t.prototype._isBlacklistedUrl=function(t,e){if(void 0===e&&(e={}),!e.blacklistUrls||!e.blacklistUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.blacklistUrls.some(function(t){return Object(h.a)(n,t)})},t.prototype._isWhitelistedUrl=function(t,e){if(void 0===e&&(e={}),!e.whitelistUrls||!e.whitelistUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.whitelistUrls.some(function(t){return Object(h.a)(n,t)})},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{blacklistUrls:l.d(this._options.blacklistUrls||[],t.blacklistUrls||[]),ignoreErrors:l.d(this._options.ignoreErrors||[],t.ignoreErrors||[],f),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal,whitelistUrls:l.d(this._options.whitelistUrls||[],t.whitelistUrls||[])}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,i=void 0===n?"":n,r=e.value,o=void 0===r?"":r;return[""+o,i+": "+o]}catch(e){return d.a.error("Cannot extract message for event "+Object(p.d)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return d.a.error("Cannot extract url for event "+Object(p.d)(t)),null}},t.id="InboundFilters",t}();n.d(e,"d",function(){return o.a}),n.d(e,"g",function(){return o.c}),n.d(e,"f",function(){return o.b}),n.d(e,"h",function(){return o.d}),n.d(e,"i",function(){return o.e}),n.d(e,"r",function(){return o.l}),n.d(e,"l",function(){return o.f}),n.d(e,"m",function(){return o.g}),n.d(e,"n",function(){return o.h}),n.d(e,"o",function(){return o.i}),n.d(e,"p",function(){return o.j}),n.d(e,"q",function(){return o.k}),n.d(e,"s",function(){return o.m}),n.d(e,"e",function(){return a.c}),n.d(e,"j",function(){return a.d}),n.d(e,"k",function(){return a.e}),n.d(e,"a",function(){return a.a}),n.d(e,"c",function(){return a.b}),n.d(e,"b",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return d}),n.d(e,"c",function(){return h});var i=n(0),r=n(2),o=n(11),a=n(18),s=3,l=function(){function t(t,e,n){void 0===e&&(e=new a.a),void 0===n&&(n=s),this._version=n,this._stack=[],this._stack.push({client:t,scope:e})}return t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop();o&&o.client&&o.client[t]&&(e=o.client)[t].apply(e,i.d(n,[o.scope]))},t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=this.getStack(),e=t.length>0?t[t.length-1].scope:void 0,n=a.a.clone(e);return this.getStack().push({client:this.getClient(),scope:n}),n},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(r.m)(),o=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,i.a({},o,{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=Object(r.m)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(t){s=t}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,i.a({},a,{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(r.m)();return this._invokeClient("captureEvent",t,i.a({},e,{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var o=n.client.getOptions&&n.client.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,l=o.maxBreadcrumbs,c=void 0===l?100:l;if(!(c<=0)){var u=Object(r.l)(),d=i.a({timestamp:u},t),p=s?Object(r.c)(function(){return s(d,e)}):d;null!==p&&n.scope.addBreadcrumb(p,Math.min(c,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=u(this);try{t(this)}finally{u(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return o.a.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t){return this._callExtensionMethod("startTransaction",t)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=c().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);o.a.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function c(){var t=Object(r.f)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function u(t){var e=c(),n=h(e);return f(e,t),n}function d(){var t=c();return p(t)&&!h(t).isOlderThan(s)||f(t,new l),Object(r.i)()?function(t){try{var e=c(),n=e.__SENTRY__;if(!n||!n.extensions||!n.extensions.domain)return h(t);var i=n.extensions.domain,r=i.active;if(!r)return h(t);if(!p(r)||h(r).isOlderThan(s)){var o=h(t).getStackTop();f(r,new l(o.client,a.a.clone(o.scope)))}return h(r)}catch(e){return h(t)}}(t):h(t)}function p(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function h(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub?t.__SENTRY__.hub:(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new l,t.__SENTRY__.hub)}function f(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}},,function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return s}),n.d(e,"e",function(){return l}),n.d(e,"d",function(){return d}),n.d(e,"c",function(){return f}),n.d(e,"a",function(){return g});n(0);var i=n(3),r=n(71),o=n(2),a=n(19);function s(t,e,n){if(e in t){var i=t[e],r=n(i);if("function"==typeof r)try{r.prototype=r.prototype||{},Object.defineProperties(r,{__sentry_original__:{enumerable:!1,value:i}})}catch(t){}t[e]=r}}function l(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}function c(t){if(Object(i.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Object(i.f)(t)){var a=t,s={};s.type=a.type;try{s.target=Object(i.c)(a.target)?Object(o.h)(a.target):Object.prototype.toString.call(a.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=Object(i.c)(a.currentTarget)?Object(o.h)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(i.g)(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return t}function u(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function d(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var i=f(t,e);return u(i)>n?d(t,e-1,n):i}function p(e,n){return"domain"===n&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(i.l)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(o.e)(e)+"]":e}function h(t,e,n,o){if(void 0===n&&(n=1/0),void 0===o&&(o=new r.a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=p(t);return Object(i.i)(n)?n:e}(e);if(null!==e&&void 0!==e&&"function"==typeof e.toJSON)return e.toJSON();var a=p(e,t);if(Object(i.i)(a))return a;var s=c(e),l=Array.isArray(e)?[]:{};if(o.memoize(e))return"[Circular ~]";for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(l[u]=h(u,s[u],n-1,o));return o.unmemoize(e),l}function f(t,e){try{return JSON.parse(JSON.stringify(t,function(t,n){return h(t,n,e)}))}catch(t){return"**non-serializable**"}}function g(t,e){void 0===e&&(e=40);var n=Object.keys(c(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(a.d)(n[0],e);for(var i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>e))return i===n.length?r:Object(a.d)(r,e)}return""}}).call(this,n(24))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){return function(t,e){void 0===e&&(e=null),this.name=t,this.detail=e}}();e.IloveEvent=i},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"h",function(){return p}),n.d(e,"j",function(){return h}),n.d(e,"g",function(){return f}),n.d(e,"i",function(){return g}),n.d(e,"k",function(){return m}),n.d(e,"m",function(){return v}),n.d(e,"l",function(){return y});var i=n(0),r=n(5);function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=Object(r.b)();if(o&&o[t])return o[t].apply(o,i.d(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function a(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return o("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function s(t,e){var n;try{throw new Error(t)}catch(t){n=t}var r="string"!=typeof e?{captureContext:e}:void 0;return o("captureMessage",t,"string"==typeof e?e:void 0,i.a({originalException:t,syntheticException:n},r))}function l(t){return o("captureEvent",t)}function c(t){o("configureScope",t)}function u(t){o("addBreadcrumb",t)}function d(t,e){o("setContext",t,e)}function p(t){o("setExtras",t)}function h(t){o("setTags",t)}function f(t,e){o("setExtra",t,e)}function g(t,e){o("setTag",t,e)}function m(t){o("setUser",t)}function v(t){o("withScope",t)}function y(t){return o("startTransaction",i.a({},t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(29),o=n(8),a=n(43),s=function(){function t(){var t=this;this.wasDomReadyExecutedBefore=!1,this.loadingElem=null,this.backdropElem=null,this.showBackdrop=function(e,n,i){var r=t.appendBackdropElement();r.innerHTML="",e.classList.add("ilove-backdrop__content"),r.appendChild(e);var o=r.querySelector(".ilove-backdrop__title");o.querySelector(".ilove-backdrop__title__text").innerHTML=null!==n&&void 0!==n?n:"";var a=r.querySelector(".ilove-backdrop__subtitle");a.querySelector(".ilove-backdrop__subtitle__text").innerHTML=null!==i&&void 0!==i?i:"",r.classList.add("ilove-backdrop--visible"),t.domRoot.style.overflow="hidden",o.addEventListener("click",function(){t._backdrop_click_callback1&&t._backdrop_click_callback1()}),a.addEventListener("click",function(){t._backdrop_click_callback2&&t._backdrop_click_callback2()})},this.setBackdropCallback=function(e,n){t._backdrop_click_callback1=e,t._backdrop_click_callback2=n},this.clearBackdrop=function(){var e;null===(e=t.backdropElem)||void 0===e||e.classList.remove("ilove-backdrop--visible"),t.domRoot.style.overflow="",t.setBackdropCallback(null,null)},this._onLayoutTemplateLoaded=function(){t.ctx._onDomReady(t.domRoot),t.dispatchEvent(new o.IloveEvent("unsetContentAbandonment")),a.Tooltip.init(),t.onDomReady(),t.wasDomReadyExecutedBefore=!0},this.showLoadingScreen=function(){t.appendLoadingElement().classList.add("wait--visible"),t.domRoot.style.overflow="hidden"},this.clearLoadingScreen=function(){var e;null===(e=t.loadingElem)||void 0===e||e.classList.remove("wait--visible"),t.domRoot.style.overflow=""},this.goToPreviousStateButtonIsVisible=function(){var e=t.domStateRoot.querySelector(".dialog__back");return!!e&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},this.t=function(e,n){if(t._t){if(!(e in t._t))throw"Key '"+e+"' not found";return i.Lang.tr(t._t[e],n)}var r=t.domRoot.querySelector("[data-state='"+t.name+"'] .text-translations");if(!r)throw"Text translations for state '"+t.name+"' not found";if("html"===r.dataset.format){var o=r.querySelector("[data-key="+e+"]");if(!o)throw"Key '"+e+"' not found";var a=o.innerHTML;return i.Lang.tr(a,n)}if(t._t=JSON.parse(r.textContent),"object"!=typeof t._t)throw"Translation object not found";return t.t(e,n)},this.eventEmitter=new r.ILoveEventEmitter}return t.prototype.render=function(t){var e=this;this.domRoot=t,this.ctx.isInline?this._onLayoutTemplateLoaded():this.loadTemplateOn(this.LAYOUT_TEMPLATE_NAME,this.domRoot).then(function(){e.showLoadingScreen(),e.showCurrentStateScreens().then(e._onLayoutTemplateLoaded).catch(function(t){throw t})}).catch(function(t){throw"Problem loading template "+e.LAYOUT_TEMPLATE_NAME+": "+t})},t.prototype.reset=function(){},t.prototype.appendLoadingElement=function(){var t=this.domRoot;return this.loadingElem||(this.loadingElem=document.createElement("div"),this.loadingElem.classList.add("wait","wait--animated","wait--sm"),t.parentNode.appendChild(this.loadingElem)),this.loadingElem},t.prototype.appendBackdropElement=function(){var t=this.domRoot;return this.backdropElem||(this.backdropElem=document.createElement("div"),this.backdropElem.classList.add("ilove-backdrop","ilove-backdrop--animated","ilove-backdrop--sm"),t.parentNode.appendChild(this.backdropElem)),this.backdropElem},t.prototype.isTemplateAppended=function(t){return this.ctx.appendedTemplates.includes(t)},t.prototype.loadTemplateOn=function(t,e){var n=this;return this.isTemplateAppended(t)?Promise.resolve():new Promise(function(i,r){n.ctx.getTemplateViaAjax(t).then(function(r){n.ctx.appendedTemplates.push(t),e.innerHTML=r,i()},function(t){r()})})},t.prototype.showCurrentStateScreens=function(){this.domRoot.querySelectorAll("[data-state]").forEach(function(t){return t.style.display="none"});var t=this.domRoot.querySelector("[data-state='"+this.name+"']");if(!t)throw"Template container for '"+this.name+"' state not found";t.style.display="";var e=t.getAttribute("data-template-name");return e?this.loadTemplateOn(e,t):Promise.resolve()},t.prototype.changeScreen=function(t){this.domRoot.querySelectorAll("[data-state='"+this.name+"'] [data-screen]").forEach(function(t){t.style.display="none"});var e=this.domRoot.querySelector("[data-state="+this.name+"] [data-screen='"+t+"']");if(!e)throw"Screen '"+t+"' for state '"+this.name+"' not found";e.style.display="",this.currentScreen=e},t.prototype.setContext=function(t){this.ctx=t},Object.defineProperty(t.prototype,"domStateRoot",{get:function(){var t=this.domRoot.querySelector("[data-state="+this.name+"]");if(!t)throw"Dom State root for "+this.name+" not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogCloseBtn",{get:function(){return this.domStateRoot.querySelector(".dialog__close")},enumerable:!0,configurable:!0}),t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t}();e.StateBase=s},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(2),r=Object(i.f)(),o="Sentry Logger ",a=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(i.c)(function(){r.console.log(o+"[Log]: "+t.join(" "))})},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(i.c)(function(){r.console.warn(o+"[Warn]: "+t.join(" "))})},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(i.c)(function(){r.console.error(o+"[Error]: "+t.join(" "))})},t}();r.__SENTRY__=r.__SENTRY__||{};var s=r.__SENTRY__.logger||(r.__SENTRY__.logger=new a)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),r=function(){function e(){}return e.t=function(t,e){var n="iloveLang";return e&&e.source&&(n=e.source),window[n]&&window[n][t]&&(t=window[n][t]),t=this.tr(t,e)},e.tr=function(e,n){return null!=n&&t.each(n,function(t,n){e=(e=e.replace("${"+t+"}",n)).replace("{"+t+"}",n)}),e},e.w=function(n,i){void 0===n&&(n="translate"),t("."+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))}),t("#"+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))})},e.fontsForWritingSystem=function(t){switch(t){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];case"unknown":default:return["arial-unicode-ms"]}},e.getFontsInfo=function(){var t=window.fonts;if(!t)throw"[Lang Service] You have to load the fonts information from the backend to use this method";return t},e.loadAllFonts=function(){for(var t in window.fonts)window.fonts.hasOwnProperty(t)&&"arial"!=t&&this.loadFont(t)},e.loadFont=function(t){t in this.loadedFonts||(i.lazyloadCss("/font/"+t+".css"),this.loadedFonts[t]=!0)},e.hasHindiCharacters=function(t){return t.split("").filter(function(t){var e=t.charCodeAt();return e>=2309&&e<=2361}).length>0},e.hasJapanCharacters=function(t){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(t)},e.hasChineseCharacters=function(t){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(t)},e.hasKoreanCharacters=function(t){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(t)},e.hasArabicCharacters=function(t){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(t)},e.hasGreekCharacters=function(t){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(t)},e.hasCyrillicCharacters=function(t){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(t)},e.hasCommonLatinCharacters=function(t){return!1},e.keyCodeToWritingSystem=function(t){for(var e in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[e],i=0;i<n.length;i++){var r=n[i],o=r[0],a=r[1];if(t>=o&&t<=a)return e}return"unknown"},e.detectWritingSystems=function(t){if(0===t.length)return[];for(var e={},n=0;n<t.length;n++){e[this.keyCodeToWritingSystem(t.charCodeAt(n))]=!0}return Object.keys(e)},e.loadedFonts={},e.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},e}();e.Lang=r}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var n=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(t){void 0===t&&(t={}),this.loginUrl="auth",this.registerUrl="signup",this.sendResetPasswordEmailUrl="login/forgetpassword",Object.assign(this,t);var e="en-US"==window.lang?"":"/"+window.lang;this.domain=window.location.hostname+e}return Object.defineProperty(e,"userType",{get:function(){return e.isPremium()?"premium":e.isUser()?"user":"guest"},enumerable:!0,configurable:!0}),e.hasSubscription=function(){var t=window.userModel;return"object"==typeof t&&null!=t&&null!=t.current_subscription},e.prototype.login=function(e){var n="//"+this.domain+"/"+this.loginUrl;return new Promise(function(i,r){t.post(n,e,function(t){window.ilovepdfConfig&&(window.ilovepdfConfig.fileLimits=t.user.limits,window.ilovepdfConfig.userToken=t.token),i(t)}).fail(r)})},e.prototype.register=function(e){var n="//"+this.domain+"/"+this.registerUrl;return new Promise(function(i,r){t.post(n,e,function(t){i(t)}).fail(r)})},e.prototype.sendResetPasswordEmail=function(e){var n="//"+this.domain+"/"+this.sendResetPasswordEmailUrl;return new Promise(function(i,r){t.post(n,e,function(t){i(t)}).fail(r)})},e.isLoggedIn=function(){return!!window.userModel},e.get=function(){return window.userModel},e.set=function(t){window.userModel=t},e.logout=function(){document.location.href=t(".logout").attr("href")},e.isUser=function(){var t=e.get();return"object"==typeof t&&null!=t},e.isPremium=function(){return e.isRealPremium()},e.isPremiumTemp=function(){return window.ilovepdfConfig&&"premium"==window.ilovepdfConfig.levelTemp},e.isTempPremium=function(){return e.isPremiumTemp()},e.isRealPremium=function(){var t=window.userModel;return"object"==typeof t&&null!=t?t.premium:"object"==typeof t&&null!=t&&t.premium},e.canDoTrial=function(){var t=window.userModel;return"object"==typeof t&&null!=t?t.can_trial:!!window.uct},e.refresh=function(t){return void 0===t&&(t=null),n(this,void 0,void 0,function(){var n,r,o,a;return i(this,function(i){switch(i.label){case 0:return[4,fetch(t?"/user/info/"+t:"/user/info")];case 1:return n=i.sent(),a=(o=JSON).parse,[4,n.json()];case 2:return r=a.apply(o,[i.sent()]),e.set(r.user),[2]}})})},e.removeAds=function(){var t=document.getElementsByClassName("add");t&&Array.from(t).forEach(function(t){t.remove()})},e.updateUser=function(t){window.userModel=t,window.ilovepdfConfig&&(window.ilovepdfConfig.user=t),1==e.isRealPremium()&&e.removeAds()},e}();e.UserModel=r}).call(this,n(1))},function(t,e,n){"use strict";var i;n.r(e),function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Debug=2]="Debug",t[t.Verbose=3]="Verbose"}(i||(i={}));var r=n(35),o=n(21);n.d(e,"LogLevel",function(){return i}),n.d(e,"Severity",function(){return r.a}),n.d(e,"Status",function(){return o.a})},function(t,e,n){"use strict";var i=n(18);n.d(e,"c",function(){return i.b}),n.d(e,"b",function(){return i.a});var r=n(5);n.d(e,"d",function(){return r.b}),n.d(e,"e",function(){return r.c}),n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return l});var i=n(0),r=n(9),o=n(2),a=0;function s(){return a>0}function l(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var s=function(){var s=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var c=s.map(function(t){return l(t,e)});return t.handleEvent?t.handleEvent.apply(this,c):t.apply(this,c)}catch(t){throw a+=1,setTimeout(function(){a-=1}),Object(r.m)(function(n){n.addEventProcessor(function(t){var n=i.a({},t);return e.mechanism&&(Object(o.b)(n,void 0,void 0),Object(o.a)(n,e.mechanism)),n.extra=i.a({},n.extra,{arguments:s}),n}),Object(r.c)(t)}),t}};try{for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(s[c]=t[c])}catch(t){}t.prototype=t.prototype||{},s.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:s}),Object.defineProperties(s,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:function(){return t.name}})}catch(t){}return s}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i,r=n(3);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(i||(i={}));var o=function(){function t(t){var e=this;this._state=i.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(i.RESOLVED,t)},this._reject=function(t){e._setResult(i.REJECTED,t)},this._setResult=function(t,n){e._state===i.PENDING&&(Object(r.m)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==i.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach(function(t){t.done||(e._state===i.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===i.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)})}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.toString=function(){return"[object SyncPromise]"},t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.all=function(e){return new t(function(n,i){if(Array.isArray(e))if(0!==e.length){var r=e.length,o=[];e.forEach(function(e,a){t.resolve(e).then(function(t){o[a]=t,0===(r-=1)&&n(o)}).then(null,i)})}else n([]);else i(new TypeError("Promise.all requires an array as input."))})},t.prototype.then=function(e,n){var i=this;return new t(function(t,r){i._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void r(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void r(t)}else r(e)}})})},t.prototype.catch=function(t){return this.then(function(t){return t},t)},t.prototype.finally=function(e){var n=this;return new t(function(t,i){var r,o;return n.then(function(t){o=!1,r=t,e&&e()},function(t){o=!0,r=t,e&&e()}).then(function(){o?i(r):t(r)})})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var i=n(0),r=n(17),o=n(3),a=n(2),s=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout(function(){t._scopeListeners.forEach(function(e){e(t)}),t._notifyingListeners=!1}))},t.prototype._notifyEventProcessors=function(t,e,n,a){var s=this;return void 0===a&&(a=0),new r.a(function(r,l){var c=t[a];if(null===e||"function"!=typeof c)r(e);else{var u=c(i.a({},e),n);Object(o.m)(u)?u.then(function(e){return s._notifyEventProcessors(t,e,n,a+1).then(r)}).then(null,l):s._notifyEventProcessors(t,u,n,a+1).then(r).then(null,l)}})},t.prototype.setUser=function(t){return this._user=t||{},this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=i.a({},this._tags,t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=i.a({},this._tags,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=i.a({},this._extra,t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=i.a({},this._extra,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this._transaction=t,this._notifyScopeListeners(),this},t.prototype.setContext=function(t,e){var n;return this._contexts=i.a({},this._contexts,((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=i.d(e._breadcrumbs),n._tags=i.a({},e._tags),n._extra=i.a({},e._extra),n._contexts=i.a({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._transaction=e._transaction,n._fingerprint=e._fingerprint,n._eventProcessors=i.d(e._eventProcessors)),n},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=i.a({},this._tags,e._tags),this._extra=i.a({},this._extra,e._extra),this._contexts=i.a({},this._contexts,e._contexts),e._user&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(o.h)(e)&&(e=e,this._tags=i.a({},this._tags,e.tags),this._extra=i.a({},this._extra,e.extra),this._contexts=i.a({},this._contexts,e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transaction=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=i.a({timestamp:Object(a.l)()},t);return this._breadcrumbs=void 0!==e&&e>=0?i.d(this._breadcrumbs,[n]).slice(-e):i.d(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=i.a({},this._extra,t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=i.a({},this._tags,t.tags)),this._user&&Object.keys(this._user).length&&(t.user=i.a({},this._user,t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=i.a({},this._contexts,t.contexts)),this._level&&(t.level=this._level),this._transaction&&(t.transaction=this._transaction),this._applyFingerprint(t),t.breadcrumbs=i.d(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(i.d(l(),this._eventProcessors),t,e)},t}();function l(){var t=Object(a.f)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function c(t){l().push(t)}},function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s});var i=n(3);function r(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){var n=t,i=n.length;if(i<=150)return n;e>i&&(e=i);var r=Math.max(e-60,0);r<5&&(r=0);var o=Math.min(r+140,i);return o>i-5&&(o=i),o===i&&(r=Math.max(o-140,0)),n=n.slice(r,o),r>0&&(n="'{snip} "+n),o<i&&(n+=" {snip}"),n}function a(t,e){if(!Array.isArray(t))return"";for(var n=[],i=0;i<t.length;i++){var r=t[i];try{n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function s(t,e){return!!Object(i.k)(t)&&(Object(i.j)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},function(t,e,n){"use strict";var i=n(0),r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});n.d(e,"a",function(){return o});var o=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,r(i,n.prototype),i}return i.b(e,t),e}(Error)},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(i||(i={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(i||(i={}))},function(t,e,n){"use strict";n.d(e,"b",function(){return g}),n.d(e,"e",function(){return m}),n.d(e,"h",function(){return v}),n.d(e,"f",function(){return y}),n.d(e,"d",function(){return _}),n.d(e,"g",function(){return b}),n.d(e,"c",function(){return w}),n.d(e,"a",function(){return S}),n.d(e,"i",function(){return E});var i=n(4),r=n(49),o=n(5),a=n(2),s=n(17),l=n(45),c=n(16),u=n(56),d=n(55),p=n(57),h=n(58),f=n(59),g=[new i.b.InboundFilters,new i.b.FunctionToString,new u.a,new d.a,new p.a,new h.a,new f.a];function m(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=g),void 0===t.release){var e=Object(a.f)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}Object(r.a)(l.a,t)}function v(t){void 0===t&&(t={}),t.eventId||(t.eventId=Object(o.b)().lastEventId());var e=Object(o.b)().getClient();e&&e.showReportDialog(t)}function y(){return Object(o.b)().lastEventId()}function _(){}function b(t){t()}function w(t){var e=Object(o.b)().getClient();return e?e.flush(t):s.a.reject(!1)}function S(t){var e=Object(o.b)().getClient();return e?e.close(t):s.a.reject(!1)}function E(t){return Object(c.b)(t)()}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n(0),r="?",o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/;function u(t){var e=null,n=t&&t.framesToPop;try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.stacktrace.split("\n"),a=[],s=0;s<o.length;s+=2){var l=null;(e=n.exec(o[s]))?l={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=i.exec(o[s]))&&(l={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),l&&(!l.func&&l.line&&(l.func=r),a.push(l))}if(!a.length)return null;return{message:p(t),name:t.name,stack:a}}(t))return d(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,i,u=[],d=t.stack.split("\n"),h=0;h<d.length;++h){if(n=o.exec(d[h])){var f=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=c.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),i={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||r,args:f?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=s.exec(d[h]))i={url:n[2],func:n[1]||r,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[h])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=l.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==h||n[5]||void 0===t.columnNumber||(u[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||r,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!i.func&&i.line&&(i.func=r),u.push(i)}if(!u.length)return null;return{message:p(t),name:t.name,stack:u}}(t))return d(e,n)}catch(t){}return{message:p(t),name:t&&t.name,stack:[],failed:!0}}function d(t,e){try{return i.a({},t,{stack:t.stack.slice(e)})}catch(e){return t}}function p(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n(14),o=n(4),a=n(45),s=n(22),l=n(30),c=n(2),u=n(46),d=n(61);n.d(e,"Integrations",function(){return f}),n.d(e,"Severity",function(){return r.Severity}),n.d(e,"Status",function(){return r.Status}),n.d(e,"addGlobalEventProcessor",function(){return o.e}),n.d(e,"addBreadcrumb",function(){return o.d}),n.d(e,"captureException",function(){return o.g}),n.d(e,"captureEvent",function(){return o.f}),n.d(e,"captureMessage",function(){return o.h}),n.d(e,"configureScope",function(){return o.i}),n.d(e,"getHubFromCarrier",function(){return o.k}),n.d(e,"getCurrentHub",function(){return o.j}),n.d(e,"Hub",function(){return o.a}),n.d(e,"Scope",function(){return o.c}),n.d(e,"startTransaction",function(){return o.r}),n.d(e,"setContext",function(){return o.l}),n.d(e,"setExtra",function(){return o.m}),n.d(e,"setExtras",function(){return o.n}),n.d(e,"setTag",function(){return o.o}),n.d(e,"setTags",function(){return o.p}),n.d(e,"setUser",function(){return o.q}),n.d(e,"withScope",function(){return o.s}),n.d(e,"BrowserClient",function(){return a.a}),n.d(e,"defaultIntegrations",function(){return s.b}),n.d(e,"forceLoad",function(){return s.d}),n.d(e,"init",function(){return s.e}),n.d(e,"lastEventId",function(){return s.f}),n.d(e,"onLoad",function(){return s.g}),n.d(e,"showReportDialog",function(){return s.h}),n.d(e,"flush",function(){return s.c}),n.d(e,"close",function(){return s.a}),n.d(e,"wrap",function(){return s.i}),n.d(e,"SDK_NAME",function(){return l.a}),n.d(e,"SDK_VERSION",function(){return l.b}),n.d(e,"Transports",function(){return d});var p={},h=Object(c.f)();h.Sentry&&h.Sentry.Integrations&&(p=h.Sentry.Integrations);var f=i.a({},p,o.b,u)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=function(){function e(){}return e.bytesToSize=function(t){if(0==t)return"0 Byte";var e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][e]},e.mbytesToSize=function(t){return e.bytesToSize(1e6*t)},e.convertPointsToPixels=function(t){return t*(1+1/3)},e.strCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.isRTL=function(){return t("body").hasClass("rtl")},e.isTextRTL=function(t){return new RegExp("^[^A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿]*[֑-߿יִ-﷽ﹰ-ﻼ]").test(t)},Object.defineProperty(e,"textDirection",{get:function(){return e.isRTL()?"right":"left"},enumerable:!0,configurable:!0}),e.getClosestNumber=function(t,e){for(var n=Math.abs(e[0]-t),i=0,r=1;r<e.length;r++){var o=Math.abs(e[r]-t);o<n&&(i=r,n=o)}return e[i]},e.modalView=function(t){var n='<div class="modal fade" id="'+t.id+'" aria-labelledby="'+t.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">';return n="title"in t?n+'<div class="modal-header"><h4 class="modal-title">'+t.title+'</h4><button type="button" class="close" data-dismiss="modal">'+e.svgClose()+"</button></div>":n+'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+e.svgClose()+"</button></div>","content"in t?n=n+'<div class="modal-body">'+t.content+"</div>":n+='<div class="modal-body"></div>',"btn"in t&&(n=n+'<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+t.btn+"</button></div>"),n+="</div></div></div>"},e.modalViewOk=function(t){return t.btn=i.Lang.t("Ok"),e.modalView(t)},e.setInputCursorAtTheEnd=function(t){var e=t.val().length;t.focus(),t[0].setSelectionRange(e,e)},e.svgClose=function(){return e.svgRemove(12,12)},e.svgRotate=function(t,e){return void 0===t&&(t=14),void 0===e&&(e=16),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#383E45" fill-rule="evenodd"/></svg>'},e.svgRemove=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 12 12"><polygon fill="#383E45" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},e.svgArrowRight=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},e.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},e.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},e.colorpicker=function(e){var n=null;n=1==t(e).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"},1==t(e).data("input")&&(n.showInput=!0),1==t(e).data("empty")&&(n.allowEmpty=!0,1==t(e).data("limit")&&n.palette.push(["transparent"]),n.change=function(n){n=0===n._a?"transparent":n.toHexString(),t(e).val(n)}),1==t(e).data("inline")&&(n.flat=!0),1==t(e).data("aplha")&&(n.showAlpha=!0),n.clickoutFiresChange=!0;try{t(e).spectrum(n)}catch(e){}},e.isElementInView=function(e,n){return void 0===n&&(n=!1),0!=e.length&&(0==n?e.offset().top<t(window).height()&&e.offset().top+e.height()>60:e.offset().top+e.height()<t(window).height()&&e.offset().top>60)},e.keepInNumericBounds=function(t,e,n){return null!==t&&n<t&&(n=t),null!==e&&n>e&&(n=e),n},e.scrollControl=function(t,e,n){var i=0;t.scroll(function(){var r=t.scrollTop();r>i&&"function"==typeof n&&n(),i>r&&"function"==typeof e&&e(),i=r})},e.loadingFromPreviousStart=function(){var e=t(".fromPrevious");e.length>=0?e.css("display","flex"):(e=t('<div class="wait fromPrevious">'+i.Lang.t("previousTaskLoading")+"</div>"),t(".main").append(e),e.css("display","flex"))},e.loadingFromPreviousFail=function(){var e="<div><p>"+i.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+i.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+i.Lang.t("previousFailContinue")+"</button></p></div>";t(".fromPrevious").html(e).css("background-image","none")},e.loadingFromPreviousEnd=function(){t(".fromPrevious").remove()},e.serializeFormData=function(t){var e={};try{for(var n=0,i=t.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];e[o]=a}}catch(t){}return e={info:"form data serialize failed"}},e.parseTemplate=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i="simple"),null!=n&&("simple"==i&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),"dollar"==i&&t.each(n,function(t,n){e=e.replace("${"+t+"}",n)})),e},e.isEmail=function(t){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w+)+$/.test(t)},e.getBrowserTimezone=function(){var t="UTC";if(window.Intl&&window.Intl.DateTimeFormat()){var e=window.Intl.DateTimeFormat().resolvedOptions().timeZone;e&&(t=e)}return t},e}();e.Tools=r}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return l}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return u});var i=n(3),r=n(7),o=n(23),a=50;function s(t){var e=u(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function l(t,e,n){var a={exception:{values:[{type:Object(i.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Object(r.a)(t)}]},extra:{__serialized__:Object(r.d)(t)}};if(e){var s=u(Object(o.a)(e).stack);a.stacktrace={frames:s}}return a}function c(t){return{exception:{values:[s(t)]}}}function u(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",i=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,a).map(function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}}).reverse()}},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i,r=n(0),o=n(3),a=n(11),s=n(2),l=n(7),c=n(41),u=Object(s.f)(),d={},p={};function h(t){if(!p[t])switch(p[t]=!0,t){case"console":!function(){if(!("console"in u))return;["debug","info","warn","error","log","assert"].forEach(function(t){t in u.console&&Object(l.b)(u.console,t,function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];g("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,u.console,n)}})})}();break;case"dom":!function(){if(!("document"in u))return;u.document.addEventListener("click",b("click",g.bind(null,"dom")),!1),u.document.addEventListener("keypress",w(g.bind(null,"dom")),!1),["EventTarget","Node"].forEach(function(t){var e=u[t]&&u[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(Object(l.b)(e,"addEventListener",function(t){return function(e,n,i){return n&&n.handleEvent?("click"===e&&Object(l.b)(n,"handleEvent",function(t){return function(e){return b("click",g.bind(null,"dom"))(e),t.call(this,e)}}),"keypress"===e&&Object(l.b)(n,"handleEvent",function(t){return function(e){return w(g.bind(null,"dom"))(e),t.call(this,e)}})):("click"===e&&b("click",g.bind(null,"dom"),!0)(this),"keypress"===e&&w(g.bind(null,"dom"))(this)),t.call(this,e,n,i)}}),Object(l.b)(e,"removeEventListener",function(t){return function(e,n,i){var r=n;try{r=r&&(r.__sentry_wrapped__||r)}catch(t){}return t.call(this,e,r,i)}}))})}();break;case"xhr":!function(){if(!("XMLHttpRequest"in u))return;var t=XMLHttpRequest.prototype;Object(l.b)(t,"open",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[1];return this.__sentry_xhr__={method:Object(o.k)(e[0])?e[0].toUpperCase():e[0],url:e[1]},Object(o.k)(i)&&"POST"===this.__sentry_xhr__.method&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0),t.apply(this,e)}}),Object(l.b)(t,"send",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,o={args:e,startTimestamp:Date.now(),xhr:i};return g("xhr",r.a({},o)),i.addEventListener("readystatechange",function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}g("xhr",r.a({},o,{endTimestamp:Date.now()}))}}),t.apply(this,e)}})}();break;case"fetch":!function(){if(!Object(c.c)())return;Object(l.b)(u,"fetch",function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={args:e,fetchData:{method:function(t){void 0===t&&(t=[]);if("Request"in u&&Object(o.g)(t[0],Request)&&t[0].method)return String(t[0].method).toUpperCase();if(t[1]&&t[1].method)return String(t[1].method).toUpperCase();return"GET"}(e),url:function(t){void 0===t&&(t=[]);if("string"==typeof t[0])return t[0];if("Request"in u&&Object(o.g)(t[0],Request))return t[0].url;return String(t[0])}(e)},startTimestamp:Date.now()};return g("fetch",r.a({},i)),t.apply(u,e).then(function(t){return g("fetch",r.a({},i,{endTimestamp:Date.now(),response:t})),t},function(t){throw g("fetch",r.a({},i,{endTimestamp:Date.now(),error:t})),t})}})}();break;case"history":!function(){if(!Object(c.b)())return;var t=u.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=i,a=String(r);i=a,g("history",{from:o,to:a})}return t.apply(this,e)}}u.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=u.location.href,o=i;if(i=r,g("history",{from:o,to:r}),t)return t.apply(this,e)},Object(l.b)(u.history,"pushState",e),Object(l.b)(u.history,"replaceState",e)}();break;case"error":S=u.onerror,u.onerror=function(t,e,n,i,r){return g("error",{column:i,error:r,line:n,msg:t,url:e}),!!S&&S.apply(this,arguments)};break;case"unhandledrejection":E=u.onunhandledrejection,u.onunhandledrejection=function(t){return g("unhandledrejection",t),!E||E.apply(this,arguments)};break;default:a.a.warn("unknown instrumentation type:",t)}}function f(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(d[t.type]=d[t.type]||[],d[t.type].push(t.callback),h(t.type))}function g(t,e){var n,i;if(t&&d[t])try{for(var o=r.e(d[t]||[]),l=o.next();!l.done;l=o.next()){var c=l.value;try{c(e)}catch(e){a.a.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(s.e)(c)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}var m,v,y=1e3,_=0;function b(t,e,n){return void 0===n&&(n=!1),function(i){m=void 0,i&&v!==i&&(v=i,_&&clearTimeout(_),n?_=setTimeout(function(){e({event:i,name:t})}):e({event:i,name:t}))}}function w(t){return function(e){var n;try{n=e.target}catch(t){return}var i=n&&n.tagName;i&&("INPUT"===i||"TEXTAREA"===i||n.isContentEditable)&&(m||b("input",t)(e),clearTimeout(m),m=setTimeout(function(){m=void 0},y))}}var S=null;var E=null},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._eventEmitterCallbacks={}}return t.prototype.addEventListener=function(t,e){t in this._eventEmitterCallbacks||(this._eventEmitterCallbacks[t]=[]),this._eventEmitterCallbacks[t].push(e)},t.prototype.dispatchEvent=function(t){t.name in this._eventEmitterCallbacks&&this._eventEmitterCallbacks[t.name].forEach(function(e){return e(t)})},t}();e.ILoveEventEmitter=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i="sentry.javascript.browser",r="5.16.1"},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return l});var i=n(3),r=n(2),o=n(27),a=n(23);function s(t,e,n){var s;if(void 0===n&&(n={}),Object(i.e)(t)&&t.error)return t=t.error,s=Object(o.b)(Object(a.a)(t));if(Object(i.a)(t)||Object(i.b)(t)){var c=t,u=c.name||(Object(i.a)(c)?"DOMError":"DOMException"),d=c.message?u+": "+c.message:u;return s=l(d,e,n),Object(r.b)(s,d),s}if(Object(i.d)(t))return s=Object(o.b)(Object(a.a)(t));if(Object(i.h)(t)||Object(i.f)(t)){var p=t;return s=Object(o.a)(p,e,n.rejection),Object(r.a)(s,{synthetic:!0}),s}return s=l(t,e,n),Object(r.b)(s,""+t,void 0),Object(r.a)(s,{synthetic:!0}),s}function l(t,e,n){void 0===n&&(n={});var i={message:t};if(n.attachStacktrace&&e){var r=Object(a.a)(e),s=Object(o.d)(r.stack);i.stacktrace={frames:s}}return i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(88),r=function(){function t(){}return t.get=function(t){var e="production";return i[e][t]},t.mode=function(){var t="production";return t},t.env=function(){return"production"},t}();e.Settings=r},function(t,e,n){"use strict";var i=n(66),r=n(20),o=n(17),a=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then(function(){return e.remove(t)}).then(null,function(){return e.remove(t).then(null,function(){})}),t):o.a.reject(new r.a("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new o.a(function(n){var i=setTimeout(function(){t&&t>0&&n(!1)},t);o.a.all(e._buffer).then(function(){clearTimeout(i),n(!0)}).then(null,function(){n(!0)})})},t}();n.d(e,"a",function(){return s});var s=function(){function t(t){this.options=t,this._buffer=new a(30),this._api=new i.a(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new r.a("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lazyload=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n="async");for(var i=document.getElementsByTagName("script"),r=i.length;r--;)if(i[r].src.match(t))return!0;var o=document.createElement("script");o.type="text/javascript",document.createElement("script");var a="defer"in document.createElement("script");for(var s in a&&(o.defer=!0),o.src=t,e)if(e.hasOwnProperty(s)){var l=e[s];o.setAttribute(s,l)}var c=document.getElementsByTagName("script")[0];return c.parentNode.insertBefore(o,c),!0}},function(t,e,n){"use strict";var i;n.d(e,"a",function(){return i}),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(i||(i={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(i||(i={}))},function(t,e,n){"use strict";(function(t){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(113),s=n(25),l=n(115),c=n(8),u=n(29),d=n(53);!function(t){t.SUMMARY_INFO="/<locale?>/purchase-summary/info",t.CANCEL_SUBSCRIPTION="/user/subscription/cancel",t.CANCEL_SUBSCRIPTION_REASON="/user/subscription/cancel/reason",t.CANCEL_SUBSCR_OFFER="/user/subscription/canceloffer",t.REACTIVATE_SUBSCRIPTION="/user/subscription/reactivate",t.REMOVE_PAYMENT_DATA="/user/subscription/payment-remove"}(o||(o={}));var p=function(){function e(t){void 0===t&&(t={}),this.views={},this.eventEmitter=new u.ILoveEventEmitter,Object.assign(this,t),this.stripeService=new a.StripeService,this.paypalService=new l.PaypalService,this.initEventListenersOnProviders()}return e.prototype.notifyPaymentError=function(t,e,n){var i,r="generic_payment_error";"update_card"===n&&(r="generic_card_update_error");try{var o=JSON.parse(e.responseText).msg;return void("stripe"===t?this.stripeService.view.notifyCardErrorMsg(o):"paypal"===t&&this.paypalService.notifyErrorMsg(o))}catch(t){}if("stripe"===t){var a=null===(i=null===e||void 0===e?void 0:e.error)||void 0===i?void 0:i.message,s=a||this.stripeService.view.getTranslationText(r);this.stripeService.view.notifyCardErrorMsg(s)}else if("paypal"===t){s=this.paypalService.getTranslationText(r);this.paypalService.notifyErrorMsg(s)}},e.prototype.clearPaymentError=function(t){var e=this;void 0===t&&(t=null);var n=function(){return e.paypalService.clearErrorMsg()},i=function(){return e.stripeService.view.clearCardErrorMsg()};if(null===t)n(),i();else if("paypal"===t)n();else{if("stripe"!==t)throw"Unknown provider "+t;i()}},e.prototype.enableActionButton=function(t){if("stripe"!==t){if("paypal"!==t)throw"Not implemented provider"}else this.stripeService.view.enableActionButton()},e.prototype.disableActionButton=function(t){if("stripe"!==t){if("paypal"!==t)throw"Not implemented provider"}else this.stripeService.view.disableActionButton()},e.prototype.initEventListenersOnProviders=function(){var t=this;this.stripeService.addEventListener("View:ActionButtonClicked",function(){t.dispatchEvent(new c.IloveEvent("UserPayment:ActionButtonClicked"))}),this.paypalService.addEventListener("onPaymentInited",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new c.IloveEvent("UserPayment:BeforeExternalAction",n))}),this.paypalService.addEventListener("onPaymentAuthorized",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.updateUser(n.response),t.dispatchEvent(new c.IloveEvent("UserPayment:AfterExternalAction",n))}),this.paypalService.addEventListener("onPaymentInited_error",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new c.IloveEvent("UserPayment:Error",n))}),this.paypalService.addEventListener("onPaymentAuthorized_error",function(e){var n=Object.assign({provider:"paypal"},e.detail);t.dispatchEvent(new c.IloveEvent("UserPayment:Error",n))})},e.prototype.updateCard=function(t){return i(this,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:if("updateCard","stripe"!==t.provider)return[3,5];e=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.stripeService.updateCard(t.element)];case 2:return e=i.sent(),[3,4];case 3:throw n=i.sent(),s.configureScope(function(e){var i;e.setExtra("error",{err:null!==(i=null===n||void 0===n?void 0:n.responseText)&&void 0!==i?i:n,params:t})}),s.captureMessage("Failed Stripe updateCard"),n;case 4:return this.updateUser(e),[2,e];case 5:throw"'Update card' is not implemented for provider '"+t.provider+"'"}})})},e.prototype.payPackage=function(t){return i(this,void 0,void 0,function(){var e,n,i,o,a;return r(this,function(r){switch(r.label){case 0:if("paypal"===t.provider)throw"This action is performed by PaypalService by mounting the view";if(e="payPackage",n=null,"stripe"!==t.provider)return[3,5];i=this.stripeService.paymentVia,o={paymentVia:i,packageName:t.packageName,quantity:t.packageQuantity,disableTrial:t.disableTrial},this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{action:e,params:t})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.stripeService.payPackage(o)];case 2:return n=r.sent(),[3,4];case 3:throw a=r.sent(),s.configureScope(function(e){var n;e.setExtra("error",{err:null!==(n=null===a||void 0===a?void 0:a.responseText)&&void 0!==n?n:a,params:t})}),s.captureMessage("Failed Stripe payPackage"),a;case 4:return this.updateUser(n),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{action:e,params:t,response:n})),[2,n];case 5:throw"Unknown provider "+t.provider}})})},e.prototype.subscribeNextMonthsWithDiscount=function(){return i(this,void 0,void 0,function(){var e,n,i,a,l,u,d;return r(this,function(r){switch(r.label){case 0:e="subscribeNextMonthsWithDiscount",this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{action:e,params:null})),n=t.post(o.CANCEL_SUBSCR_OFFER),r.label=1;case 1:return r.trys.push([1,3,,4]),l=(a=JSON).parse,[4,n.promise()];case 2:return i=l.apply(a,[r.sent()]),[3,4];case 3:throw u=r.sent(),s.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===u||void 0===u?void 0:u.responseText)&&void 0!==e?e:u,params:null})}),s.captureMessage("Failed subscribeNextMonthsWithDiscount"),u;case 4:return d=i.data,this.updateUser(i),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,d]}})})},e.prototype.cancelSubscription=function(){return i(this,void 0,void 0,function(){var e,n,i,a,l,u,d;return r(this,function(r){switch(r.label){case 0:e="cancelSubscription",this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{action:e,params:null})),n=t.post(o.CANCEL_SUBSCRIPTION),r.label=1;case 1:return r.trys.push([1,3,,4]),l=(a=JSON).parse,[4,n.promise()];case 2:return i=l.apply(a,[r.sent()]),[3,4];case 3:throw u=r.sent(),s.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===u||void 0===u?void 0:u.responseText)&&void 0!==e?e:u,params:null})}),s.captureMessage("Failed cancelSubscription"),u;case 4:return d=i.data,this.updateUser(i),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,d]}})})},e.prototype.reactivateSubscription=function(){return i(this,void 0,void 0,function(){var e,n,i,a,l,u,d;return r(this,function(r){switch(r.label){case 0:e="reactivateSubscription",this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{action:e,params:null})),n=t.post(o.REACTIVATE_SUBSCRIPTION),r.label=1;case 1:return r.trys.push([1,3,,4]),l=(a=JSON).parse,[4,n.promise()];case 2:return i=l.apply(a,[r.sent()]),[3,4];case 3:throw u=r.sent(),s.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===u||void 0===u?void 0:u.responseText)&&void 0!==e?e:u,params:null})}),s.captureMessage("Failed reactivateSubscription"),u;case 4:return d=i.data,this.updateUser(i),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,d]}})})},e.prototype.cancelSubscriptionReason=function(e){return i(this,void 0,void 0,function(){var n,i,a,l,u,d,p,h;return r(this,function(r){switch(r.label){case 0:n="cancelSubscriptionReason",i={reason:e.reason,message:e.message},this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{action:n,params:e})),a=t.post(o.CANCEL_SUBSCRIPTION_REASON,i),r.label=1;case 1:return r.trys.push([1,3,,4]),d=(u=JSON).parse,[4,a.promise()];case 2:return l=d.apply(u,[r.sent()]),[3,4];case 3:throw p=r.sent(),s.configureScope(function(t){var n;t.setExtra("error",{err:null!==(n=null===p||void 0===p?void 0:p.responseText)&&void 0!==n?n:p,params:e})}),s.captureMessage("Failed cancelSubscriptionReason"),p;case 4:return h=l.data,this.updateUser(l),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{action:n,params:null,response:l})),[2,h]}})})},e.prototype.paySubscription=function(t){return i(this,void 0,void 0,function(){var e,n,i,o,a;return r(this,function(r){switch(r.label){case 0:if("paypal"===t.provider)throw"This action is performed by PaypalService by mounting the view";if(n="paySubscription","stripe"!==t.provider)return[3,5];i=this.stripeService.paymentVia,o={paymentVia:i,numUsers:t.numUsers,subscriptionInterval:t.subscriptionInterval,disableTrial:t.disableTrial},this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{detail:{action:n,params:t}})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(o)];case 2:return e=r.sent(),[3,4];case 3:throw a=r.sent(),s.configureScope(function(e){var n;e.setExtra("error",{err:null!==(n=null===a||void 0===a?void 0:a.responseText)&&void 0!==n?n:a,params:t})}),s.captureMessage("Failed Stripe PaySubscription"),a;case 4:return this.updateUser(e),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{detail:{action:n,params:null,response:e}})),[2,e];case 5:throw"Unknown provider "+t.provider}})})},e.prototype.updateSubscription=function(t){return i(this,void 0,void 0,function(){var e,n,i,o,a;return r(this,function(r){switch(r.label){case 0:if("paypal"===t.provider)throw"This action is performed by PaypalService by mounting the view";if(e="updateSubscription","stripe"!==t.provider)return[3,5];n=this.stripeService.paymentVia,i=void 0,o={paymentVia:n,numDigitalSignatures:t.numSignatures,numUsers:t.numUsers,subscriptionInterval:t.subscriptionInterval,disableTrial:t.disableTrial},this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{action:e,params:t})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.stripeService.paySubscription(o)];case 2:return i=r.sent(),[3,4];case 3:throw a=r.sent(),s.configureScope(function(e){var n;e.setExtra("error",{err:null!==(n=null===a||void 0===a?void 0:a.responseText)&&void 0!==n?n:a,params:t})}),s.captureMessage("Failed Stripe UpdateSubscription"),a;case 4:return this.updateUser(i),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{action:e,params:null,response:i})),[2,i];case 5:throw"Unknown provider "+t.provider}})})},e.prototype.paymentRemove=function(){return i(this,void 0,void 0,function(){var e,n,i,a,l,u,d;return r(this,function(r){switch(r.label){case 0:e="paymentRemove",this.dispatchEvent(new c.IloveEvent("UserPayment:BeforeAction",{detail:{action:e,params:null}})),n=t.post(o.REMOVE_PAYMENT_DATA),r.label=1;case 1:return r.trys.push([1,3,,4]),l=(a=JSON).parse,[4,n.promise()];case 2:return i=l.apply(a,[r.sent()]),[3,4];case 3:throw u=r.sent(),s.configureScope(function(t){var e;t.setExtra("error",{err:null!==(e=null===u||void 0===u?void 0:u.responseText)&&void 0!==e?e:u,params:null})}),s.captureMessage("Failed paymentRemove"),u;case 4:return d=i.data,this.updateUser(i),this.dispatchEvent(new c.IloveEvent("UserPayment:AfterAction",{detail:{action:e,params:null,response:i}})),[2,d]}})})},e.prototype.getPaymentSummary_updateSubscription=function(t,e,n){return this._getPaymentSummary({type:"subscription",numDigitalSignatures:t,numUsers:e,subscriptionInterval:n,subscriptionPlan:void 0})},e.prototype.getPaymentSummary_package=function(t,e){return this._getPaymentSummary({type:"package",package:t,quantity:e})},e.prototype._getPaymentSummary=function(e){var n=o.SUMMARY_INFO;n="en-US"===window.lang?n.replace("/<locale?>",""):n.replace("<locale?>",window.lang);var i=null;return"subscription"===e.type?i=t.post(n,{type:"subscription",users:e.numUsers,signatures:e.numDigitalSignatures,interval:e.subscriptionInterval}):"package"===e.type&&(i=t.post(n,{type:"package",package:e.package,quantity:e.quantity})),new Promise(function(t,e){i.done(function(e){var n=JSON.parse(e);t(n)}).fail(function(t,n,i){s.configureScope(function(e){e.setExtra("error",t.responseText)}),s.captureMessage("Error while fetching payment summary"),e(t.responseText)})})},e.prototype.mountView=function(t,e,n){return i(this,void 0,void 0,function(){var i,o,a,s;return r(this,function(r){switch(r.label){case 0:switch(t){case"stripe":return[3,1];case"paypal":return[3,3]}return[3,5];case 1:return i=this.views,o="stripe",[4,this.stripeService.view.mount(e,n)];case 2:return i[o]=r.sent(),[2,this.views.stripe];case 3:return a=this.views,s="paypal",[4,this.paypalService.mountView(e,n)];case 4:return a[s]=r.sent(),[2,this.views.paypal];case 5:return[2]}})})},e.prototype.updateUser=function(t){d.UserAuth.updateUser(t.user),t.content&&d.UserAuth.updateUserMenu(t.content)},e.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},e.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},e}();e.UserPayment=p}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=n(29),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(n(104).Dialog);e.TemporaryDialog=s;var l=function(){function t(t){var e=this;void 0===t&&(t={}),this.isShown=!1,this.show=function(){if(!e.isShown){var t=new s(e.dialogProps);return t.addEventListener("closed",function(){e.currentDialog=null,e.dispatchEvent(new o.IloveEvent("closed"))}),t.addEventListener("hidden",function(){e.isShown=!1,t.destroy(),e.dispatchEvent(new o.IloveEvent("hidden"))}),t.addEventListener("shown",function(){e.dispatchEvent(new o.IloveEvent("shown"))}),t.setContent(e.contentBuilderFn()),t.show(),e.isShown=!0,e.currentDialog=t,t}},this.close=function(){e.currentDialog&&e.currentDialog.close()},this.setContentBuilder=function(t){return e.contentBuilderFn=t,e},this.eventEmitter=new a.ILoveEventEmitter,this.dialogProps=t}return t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t}();e.default=l},function(t,e,n){var i;!function(r){"use strict";function o(t,e,n){var i,r=document.createElement("img");return r.onerror=function(i){return o.onerror(r,i,t,e,n)},r.onload=function(i){return o.onload(r,i,t,e,n)},"string"==typeof t?(o.fetchBlob(t,function(e){e?(t=e,i=o.createObjectURL(t)):(i=t,n&&n.crossOrigin&&(r.crossOrigin=n.crossOrigin)),r.src=i},n),r):o.isInstanceOf("Blob",t)||o.isInstanceOf("File",t)?(i=r._objectURL=o.createObjectURL(t))?(r.src=i,r):o.readFile(t,function(t){var n=t.target;n&&n.result?r.src=n.result:e&&e(t)}):void 0}var a=r.createObjectURL&&r||r.URL&&URL.revokeObjectURL&&URL||r.webkitURL&&webkitURL;function s(t,e){!t._objectURL||e&&e.noRevoke||(o.revokeObjectURL(t._objectURL),delete t._objectURL)}o.fetchBlob=function(t,e,n){e()},o.isInstanceOf=function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},o.transform=function(t,e,n,i,r){n(t,r)},o.onerror=function(t,e,n,i,r){s(t,r),i&&i.call(t,e)},o.onload=function(t,e,n,i,r){s(t,r),i&&o.transform(t,r,i,n,{})},o.createObjectURL=function(t){return!!a&&a.createObjectURL(t)},o.revokeObjectURL=function(t){return!!a&&a.revokeObjectURL(t)},o.readFile=function(t,e,n){if(r.FileReader){var i=new FileReader;if(i.onload=i.onerror=e,i[n=n||"readAsDataURL"])return i[n](t),i}return!1},void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}("undefined"!=typeof window&&window||this)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(21),r=n(17),o=function(){function t(){}return t.prototype.sendEvent=function(t){return r.a.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:i.a.Skipped})},t.prototype.close=function(t){return r.a.resolve(!0)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(2);function r(t,e){var n="transaction"===t.type,r={body:JSON.stringify(t),url:n?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(n){var o=JSON.stringify({event_id:t.event_id,sent_at:new Date(1e3*Object(i.l)()).toISOString()})+"\n"+JSON.stringify({type:t.type})+"\n"+r.body;r.body=o}return r}},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return c});var i=n(11),r=n(2);function o(){if(!("fetch"in Object(r.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function a(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function s(){if(!o())return!1;var t=Object(r.f)();if(a(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(e=a(s.contentWindow.fetch)),n.head.removeChild(s)}catch(t){i.a.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}function l(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function c(){var t=Object(r.f)(),e=t.chrome,n=e&&e.app&&e.app.runtime,i="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&i}},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),a=n(110),s=n(64),l=n(29),c=n(8),u=function(){function t(e){var n=this;void 0===e&&(e={}),this.state=null,this.stateHistory=[],this.objsListeningTo=new WeakMap,this.appendedTemplates=[],this._isInline=!1,this._ctxPlacement="dom",this._inEndState=!1,this.setEndState=function(){n._inEndState=!0},this.isInEndState=function(){return n._inEndState},this.listenToEvents=function(t){n.objsListeningTo.has(t)&&!0===n.objsListeningTo.get(t)||(t.addEventListener("end",function(t){n.setEndState(),n.dispatchEvent(new c.IloveEvent("end",t.detail))}),t.addEventListener("disableContentAbandonment",function(t){return n.dispatchEvent(new c.IloveEvent("disableContentAbandonment"))}),t.addEventListener("unsetContentAbandonment",function(t){return n.dispatchEvent(new c.IloveEvent("unsetContentAbandonment"))}),n.objsListeningTo.set(t,!0))},this.notifyOfContainerClosing=function(){n.dispatchEvent(new c.IloveEvent("contextContainerClosed")),n.isInEndState()&&n.dispatchEvent(new c.IloveEvent("end"))},this._onDomReady=function(t){n.dispatchEvent(new c.IloveEvent("domReady",{domRoot:t}))},this.eventEmitter=new l.ILoveEventEmitter,this._instanceID=++t._static_instanceID,this._wasUserLoggedOnInitialization=this.isLoggedIn(),this._isInline=!!e.isInline&&e.isInline}return t.prototype.setContextPlacement=function(t){this._ctxPlacement=t},t.prototype.getContextPlacement=function(){return this._ctxPlacement},t.prototype.render=function(t){this.state||(this.state=this.getInitialState(),this.changeState(this.state)),this.state.render(t)},Object.defineProperty(t.prototype,"isInline",{get:function(){return this._isInline},enumerable:!0,configurable:!0}),t.prototype.getState=function(){return this.state},t.prototype.changeState=function(t){if(!t)throw"State cannot be empty";if(this._inEndState)throw"Context is in end state; Cannot transition to state '"+t.name+"'";this.state=t,this.state.setContext(this),this.stateHistory.push(this.state),this.listenToEvents(this.state)},t.prototype.canGoToAPreviousState=function(){return!(this.stateHistory.length<2)},t.prototype.goToPreviousState=function(){if(!this.canGoToAPreviousState())throw"Cannot transition to previous state";this.stateHistory.pop();var t=this.stateHistory.pop();return this.changeState(t),t},t.prototype.getTemplateViaAjax=function(e){return i(this,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:return n="template_"+e,t.cache.existsEntry(n)?[2,t.cache.getEntry(n)]:[4,s.AjaxTemplate.load(e)];case 1:return i=r.sent(),t.cache.setEntry(n,i),[2,i]}})})},t.prototype.getStateHistory=function(){return this.stateHistory.map(function(t){return t.name})},t.prototype.wasUserLoggedOnInitialization=function(){return this._wasUserLoggedOnInitialization},t.prototype.reset=function(){this.state&&this.state.reset()},Object.defineProperty(t.prototype,"userType",{get:function(){var t=o.UserModel.userType;return"premium"==t&&0==o.UserModel.hasSubscription()?"user":t},enumerable:!0,configurable:!0}),t.prototype.canUserDoTrial=function(){switch(this.userType){case"guest":case"user":return o.UserModel.canDoTrial();case"premium":return!1;default:throw"Unknown userType "+this.userType+" to determine if can do trial"}},t.prototype.isTrialEnabledForThisTool=function(){return!(window.ilovepdfConfig&&"dtr"in window.ilovepdfConfig)||!window.ilovepdfConfig.dtr},t.prototype.isLoggedIn=function(){return"guest"!==this.userType},Object.defineProperty(t.prototype,"user",{get:function(){return o.UserModel.get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userCurrentPaymentMethod",{get:function(){var t=this.user.last_payment;return t&&t.provider?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userCurrentSubscription",{get:function(){return this.user&&this.user.current_subscription?this.user.current_subscription:null},enumerable:!0,configurable:!0}),t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t.prototype.getInstanceID=function(){return this._instanceID},t.cache=new a.Cache,t._static_instanceID=0,t}();e.ContextBase=u},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=n(79),o=function(){function e(){}return e.compat=function(){(-1!==navigator.appVersion.indexOf("MSIE 10")||navigator.userAgent.indexOf(" UCBrowser/")>=0||navigator.userAgent.indexOf("Opera Mini")>=0||navigator.userAgent.indexOf("Android")>=0&&parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8))>4.4)&&i.lazyload("//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js")},e.init=function(n){void 0===n&&(n=null),window.tippy&&(null==n&&(n=".tooltip"),t(n).each(function(n,i){t(i)[0]._tippy||window.tippy(t(i)[0],e.getOptions(i))}),r.LinkTitle.disable(n),t(n).hover(function(){if(t(this).hasClass("rotate")||t(this).hasClass("remove"))try{var e=t(this).parent().parent()[0]._tippy;e&&(e.hide(),e.disable())}catch(t){}},function(){if(t(this).hasClass("rotate")||t(this).hasClass("remove"))try{var e=t(this).parent().parent()[0]._tippy;e&&e.enable()}catch(t){}}),t(".tooltip").on("mouseenter",function(t){t.preventDefault()}))},e.getOptions=function(n){return{animation:"fade",delay:[0,0],offset:[0,20],allowHTML:!0,content:t(n).is("[data-title]")?t(n).attr("data-title"):t(n).attr("title"),arrow:!0,placement:e.getPlacement(n)}},e.getPlacement=function(e){var n=t(e);return n.hasClass("tooltip--top")?"top":n.hasClass("tooltip--top-start")?"top-start":n.hasClass("tooltip--top-end")?"top-end":n.hasClass("tooltip--bottom")?"bottom":n.hasClass("tooltip--left")?"left":n.hasClass("tooltip--right")?"right":"top"},e.setContent=function(n,i){if(1==t(n).length)return t(n)[0]._tippy&&t(n)[0]._tippy.destroy(),t(n).attr("title",i),t(n).attr("data-title",i),void e.init(n);t(n).each(function(t,n){e.setContent(n,i)})},e.show=function(n,i){void 0===i&&(i=null);var r=t(n)[0];if(0!=t(n).length){window.tippy(r,e.getOptions(r)),"_tippy"in t(n)[0]||e.init(t(n));var o=t(n)[0]._tippy;t(n).is(":disabled")?(t(n).attr("disabled",!1),o.show(),setTimeout(function(){t(n).attr("disabled",!0)},100)):o.show(),null!=i&&setTimeout(function(){t(n)[0]._tippy.hide()},i)}},e.shake=function(e){var n=t(e)[0]._tippy;window.setTimeout(function(){t(n.popper).children().addClass("shake")},500)},e.hide=function(e){try{t(e)[0]._tippy.hide()}catch(t){}},e.enable=function(n){if(1!=t(n).length)t(n).each(function(t,n){e.enable(n)});else try{t(n)[0]._tippy.enable()}catch(t){}},e.disable=function(n){if(1!=t(n).length)t(n).each(function(t,n){e.disable(n)});else try{t(n)[0]._tippy.hide(),t(n)[0]._tippy.disable()}catch(t){}},e.wrapDisabled=function(e){t(e).wrap("<div class='tootlip-wrap'></div>")},e}();e.Tooltip=o,window.tootip=o}).call(this,n(1))},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],a.set(o,r),r+=o.length;return a}},a={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(i)},function(t,e,n){"use strict";var i=n(0),r=n(66),o=n(70),a=n(2),s=n(11),l=n(67),c=n(35),u=n(41),d=n(17),p=n(31),h=n(75),f=n(76),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.b(e,t),e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=i.a({},this._options.transportOptions,{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):Object(u.a)()?new h.a(e):new f.a(e)},e.prototype.eventFromException=function(t,e){var n=e&&e.syntheticException||void 0,i=Object(p.b)(t,n,{attachStacktrace:this._options.attachStacktrace});return Object(a.a)(i,{handled:!0,type:"generic"}),i.level=c.a.Error,e&&e.event_id&&(i.event_id=e.event_id),d.a.resolve(i)},e.prototype.eventFromMessage=function(t,e,n){void 0===e&&(e=c.a.Info);var i=n&&n.syntheticException||void 0,r=Object(p.a)(t,i,{attachStacktrace:this._options.attachStacktrace});return r.level=e,n&&n.event_id&&(r.event_id=n.event_id),d.a.resolve(r)},e}(l.a),m=n(55),v=n(30);n.d(e,"a",function(){return y});var y=function(t){function e(e){return void 0===e&&(e={}),t.call(this,g,e)||this}return i.b(e,t),e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",e.sdk=i.a({},e.sdk,{name:v.a,packages:i.d(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:v.b}]),version:v.b}),t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(m.a);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e.prototype.showReportDialog=function(t){void 0===t&&(t={});var e=Object(a.f)().document;if(e)if(this._isEnabled()){var n=t.dsn||this.getDsn();if(t.eventId)if(n){var i=e.createElement("script");i.async=!0,i.src=new r.a(n).getReportDialogEndpoint(t),t.onLoad&&(i.onload=t.onLoad),(e.head||e.body).appendChild(i)}else s.a.error("Missing `Dsn` option in showReportDialog call");else s.a.error("Missing `eventId` option in showReportDialog call")}else s.a.error("Trying to call showReportDialog with Sentry Client is disabled")},e}(o.a)},function(t,e,n){"use strict";n.r(e);var i=n(57);n.d(e,"GlobalHandlers",function(){return i.a});var r=n(56);n.d(e,"TryCatch",function(){return r.a});var o=n(55);n.d(e,"Breadcrumbs",function(){return o.a});var a=n(58);n.d(e,"LinkedErrors",function(){return a.a});var s=n(59);n.d(e,"UserAgent",function(){return s.a})},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=function(){return function(t){void 0===t&&(t={}),this.reUploaded=!1,this.server_filename=null,this.filename=null,this.rotate=null,this.password=null,this.file=null,Object.assign(this,t),null!=this.filename&&(this.filename=this.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim())}}();e.File=r;var o=function(){function e(){this.files=[],this.ignored=[],this.removed=[]}return e.prototype.addFile=function(t){t=this.cleanName(t),this.files.push(t),this.onFileAdd()},e.prototype.getFile=function(e){var n=null;return t.each(this.files,function(t,i){i.id!=e||(n=i)}),n},e.prototype.getFileIndex=function(e){var n=0;return t.each(this.files,function(t,i){if(i.id==e)return n=t}),n},e.prototype.getFileByServerFilename=function(e){var n=null;return t.each(this.files,function(t,i){i.server_filename!=e||(n=i)}),n},e.prototype.getFirst=function(){return this.files[0]},e.prototype.getLast=function(){return this.files[this.files.length-1]},e.prototype.onFileAdd=function(){t(".numPages").html(this.files[0].numPages)},e.prototype.updateFile=function(e,n){var i=null,r=this;return t.each(this.files,function(t,o){if(o.id==e)return n=r.cleanName(n),Object.assign(o,n),i=o}),i},e.prototype.removeFile=function(e,n){void 0===n&&(n=!1);var i=this;t.each(this.files,function(t,r){if(r&&r.id==e){if(i.removed.push(e),t>-1&&i.files.splice(t,1),0==n){var o=null;!!window.MSInputMethodContext&&!!document.documentMode?(o=document.createEvent("CustomEvent")).initEvent("fileRemoved",!0,!0,{fileId:e}):(o=new CustomEvent("fileRemoved",{detail:{fileId:e}}),window.dispatchEvent(o))}}else;})},e.prototype.removeFilesExcept=function(e){var n=this;t.each(this.files,function(t,i){i&&i.id!==e&&t>-1&&n.files.splice(t,1)})},e.prototype.count=function(){return this.files.length},e.prototype.countNotIgnored=function(){var e=0;return t.each(this.files,function(t,n){1!=n.ignored&&e++}),e},e.prototype.countIgnored=function(){var e=0;return t.each(this.files,function(t,n){1==n.ignored&&e++}),e},e.prototype.size=function(){var e=0;return t.each(this.files,function(t,n){e+=parseInt(n.size)}),e},e.prototype.fileSize=function(t){var e=this,n=0;if(t instanceof Array)t.forEach(function(t,i){n+=e.fileSize(t)});else{var i=this.getFile(t);n=parseInt(i.size)}return n},e.prototype.getFileSizeNotIgnored=function(){var t=0;return this.files.forEach(function(e,n){1!=e.ignored&&e.size&&(t+=parseInt(e.size.toString()))}),t},e.prototype.cleanName=function(t){return"filename"in t&&null!=t.filename&&(t.filename,t.filename.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),t.filename=t.filename.replace(/"/g,"")),"name"in t&&null!=t.name&&(t.name,t.name.replace(/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\ufeff]/g," ").trim(),t.name=t.name.replace(/"/g,"")),t},e.prototype.onUploaded=function(){return new Promise(function(t,e){})},e.prototype.checkFilesUploaded=function(){var t=!0,e=this;return this.files.forEach(function(n){if(void 0===n||null===n)return!0;if("percent"in n&&!(n.percent<100)&&("server_filename"in n||"error"in n&&!("error"in n&&0==n.error))||(t=!1),1==n.error){t=!1;try{window.Toastr.error(i.Lang.t(n.errorData.error.param.type[0])+"<br>"+n.name,i.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"})}catch(t){}e.removeFile(n.id)}}),t},e.prototype.getUploadedFiles=function(){var t={};return this.files.forEach(function(e){var n={filename:e.name,server_filename:e.server_filename};e.rename&&(n.filename=e.rename),e.password&&(n.password=e.password),e.pages&&(n.pages=e.pages),e.rotate&&(n.rotate=e.rotate),t[e.id]=n}),t},e}();e.FileStack=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(52),r=n(32);e.API_VERSION="v1",e.APP_VERSION="web.0";var o=function(){function n(t){this.taskId=null,this.tool=null,this.serviceServer=r.Settings.get("service"),this.workerServer=null,this.downloadUrl="",this.apiVersion=e.API_VERSION,this.appVersion=e.APP_VERSION,this.token=null,this.encrypted=!1,this.encryptKey=null,Object.assign(this,t)}return n.prototype.pingService=function(){var t=this;return new Promise(function(e,n){var i=new XMLHttpRequest,r=0,o=0;i.open("GET",t.serviceServer+"/ping",!0),i.onreadystatechange=function(){4==i.readyState&&(0==r&&0==o&&0!=i.status?e():n())},i.ontimeout=function(){r=1},i.onerror=function(t){o=1},i.send()})},n.prototype.sendRequest=function(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(t,this.workerServer+"/"+this.apiVersion+"/"+e,!0),o.setRequestHeader("Authorization","Bearer "+this.token),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},n.prototype.sendServiceRequest=function(t,e,n,i,r){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1);var o=new XMLHttpRequest;return o.open(t,this.serviceServer+"/"+e,!0),o.setRequestHeader("Authorization","Bearer "+this.userToken),o.setRequestHeader("Accept","application/json"),1==r&&o.setRequestHeader("Content-Type","application/json"),i&&(o.responseType="blob"),1==r?o.send(JSON.stringify(n)):o.send(n),o},n.prototype.query=function(t,e,n,i,r,o){void 0===n&&(n=null),void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===o&&(o="api");var a=this;return new Promise(function(s,l){var c=null;if("api"==o)c=a.sendRequest(t,e,n,i,r);else{if("service"!=o)throw new Error("invalid target api");c=a.sendServiceRequest(t,e,n,i,r)}c.onerror=function(t){l({status:-1})},c.onload=function(){if(4==c.readyState)if(200==c.status)try{s(JSON.parse(c.responseText))}catch(t){l({error:"invalidJSONResponse",status:500,response:c.responseText})}else if(400==c.status||500==c.status)try{(t=JSON.parse(c.responseText)).status=c.status,l(t)}catch(t){l({error:"invalidJSONResponse",status:500,response:c.responseText})}else{var t={};try{t=JSON.parse(c.responseText)}catch(t){}t.status=c.status,l(t)}}})},n.prototype.process=function(t){return this.query("POST","process",t)},n.prototype.getSigner=function(t){return this.query("GET","signature/signer/"+t)},n.prototype.request=function(t,e,n){var r=i.FormDataHelper.jsonToFormData(n);return this.query(t,e,r)},n.prototype.getTask=function(){var t=this;return new Promise(function(e,n){var i=t.sendRequest("GET","task/"+t.taskId);i.onreadystatechange=function(){if(4==i.readyState){if(200==i.status)return void e(JSON.parse(i.responseText));if(400==i.status||500==i.status)return window.ga("event","send","download_deleted",t.workerServer),void n(i.responseText);window.ga("event","send","download_deleted",t.workerServer),n(i.responseText)}}})},n.prototype.getLink=function(t){return this.workerServer+"/"+this.apiVersion+"/"+t},n.prototype.deleteTask=function(){return this.request("delete","task/"+this.taskId,{})},n.prototype.getSubdomain=function(t){return t.split("/")[2].split(".")[0]},n.prototype.getDomain=function(t){return t.split("/")[2]},n.prototype.uploadFromUrl=function(t){var e=new FormData;return e.append("cloud_file",t),e.append("cloud_source","public"),e.append("task",this.taskId),this.query("post","upload",e)},n.prototype.getPreview=function(t,e){var n=new FormData;for(var i in n.append("server_filename",t),n.append("task",this.taskId),delete e.output_filename,delete e.packaged_filename,e)e.hasOwnProperty(i)&&n.append(i,e[i]);return this.query("post","preview",n)},n.prototype.removeFile=function(t){var e=this,n=new FormData;return new Promise(function(i,r){var o=e.sendRequest("delete","upload/"+e.taskId+"/"+t,n);o.onreadystatechange=function(){if(4==o.readyState){if(404==o.status)return void i();if(400==o.status||500==o.status)return void r();i()}}})},n.prototype.next=function(t,e){var n=new FormData;return n.append("task",t),n.append("tool",e),n.append("thumbnails","1"),this.query("post","task/next",n)},n.prototype.nextFile=function(t,e){return this.workerServer+"/thumbnails/"+t+"/"+e},n.prototype.info=function(){return this.query("get","info")},n.prototype.getStatus=function(e,n){void 0===e&&(e=null),void 0===n&&(n=0);return e=e||this.workerServer,new Promise(function(i,r){t.ajax({url:e+"/status.json",dataType:"json",success:function(t){i(t)},timeout:n,error:function(){r()}})})},n.prototype.getFilePreviewInfo=function(t,e,n,i){void 0===n&&(n=150),void 0===i&&(i=null),n=n||150;var r="pdfrender/"+t+"/"+e.replace(".pdf","");return this.query("get",r)},n.prototype.saveToolConfig=function(t,e,n){var r={tool:t,options:e},o=i.FormDataHelper.jsonToFormData(r);return this.userToken=n,this.query("post","tool/save",o,!1,!1,"service")},n.prototype.touchTask=function(t){var e="task/touch/"+t;return this.query("get",e)},n}();e.Api=o}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(5),r=n(11);function o(t,e){!0===e.debug&&r.a.enable();var n=Object(i.b)(),o=new t(e);n.bindClient(o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lazyloadCss=function(t,e){void 0===e&&(e={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(t))return!0;var r=document.createElement("link");for(var o in r.rel="stylesheet",r.href=t,e)if(e.hasOwnProperty(o)){var a=e[o];r.setAttribute(o,a)}var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(r,s),!0}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),l=n(36),c=n(8),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.abstractPaymentInited=!1,e.paymentNumUsersDefault=1,e.DEFAULT_SELECTED_PROVIDER_BTN="stripe",e._onExternalPaymentAction=function(t,n){var i=n.detail;"UserPayment:AfterExternalAction"===t&&e._onPaymentSuccess(i.provider,i)},e._abstractOnPayButtonClicked=function(t){e._executePaymentAction("payButton",t)},e._abstractOnPaymentSuccess=function(t,n){e._onPaymentSuccess(t,n)},e._abstractOnPaymentFailed=function(t,n){e.userPayment.notifyPaymentError(t,n,e.paymentAction),e._onPaymentFailed(t,n)},e}return r(e,t),e.prototype.initAbstractPayment=function(t){var e;return o(this,void 0,void 0,function(){var n=this;return a(this,function(i){switch(i.label){case 0:if(this.ctx.canGoToAPreviousState()&&this.goToPreviousStateButtonIsVisible()?(this.dispatchEvent(new c.IloveEvent("disableContentAbandonment")),this.dialogCloseBtn&&(this.dialogCloseBtn.style.display="none")):this.dialogCloseBtn&&(this.dialogCloseBtn.style.display=""),this.abstractPaymentInited)return[2];if(this.userPayment=t.userPayment?t.userPayment:new l.UserPayment,this.abstractPaymentInited=!0,Object.assign(this,t),"gui"===(null===(e=this.paymentInterval)||void 0===e?void 0:e.type))switch(this.paymentInterval.gui){case"radio":break;case"boxes":this.initPaymentIntervalSelectorButtons();break;default:throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"}return[4,this.initUserPayment(this.userPayment).then(function(){n.userPayment.addEventListener("UserPayment:ActionButtonClicked",n._abstractOnPayButtonClicked),n.userPayment.addEventListener("UserPayment:BeforeExternalAction",function(t){return n._onExternalPaymentAction("UserPayment:BeforeExternalAction",t)}),n.userPayment.addEventListener("UserPayment:AfterExternalAction",function(t){return n._onExternalPaymentAction("UserPayment:AfterExternalAction",t)})})];case 1:return i.sent(),[2]}})})},e.prototype.initAbstractCard=function(t){return o(this,void 0,void 0,function(){var e=this;return a(this,function(n){switch(n.label){case 0:return this.abstractPaymentInited=!0,Object.assign(this,t),this.userPayment=t.userPayment?t.userPayment:new l.UserPayment,[4,this.initUserPayment(this.userPayment).then(function(){e.userPayment.addEventListener("UserPayment:ActionButtonClicked",e._abstractOnPayButtonClicked)})];case 1:return n.sent(),[2]}})})},Object.defineProperty(e.prototype,"stripeViewParams",{get:function(){return{paymentButtonText:this.paymentProviderProps.find(function(t){return"stripe"===t.name}).paymentButtonText,currentPaymentMethod:this.currentPaymentMethod}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paypalViewParams",{get:function(){var t,e=this,n=(this.paymentProviderProps.find(function(t){return"paypal"===t.name}),function(){return!(e.ctx.isTrialEnabledForThisTool()&&e.ctx.canUserDoTrial())});switch(this.paymentAction){case"become_premium":case"subsc_update":t={actionName:"become_premium"===this.paymentAction?"PaySubscription":"UpdateSubscription",actionParams:{subscriptionInterval:function(){return e.selectedPaymentInterval},numUsers:function(){return e.numUsers?e.numUsers():e.paymentNumUsersDefault},numDigitalSignatures:function(){return e.numSignatures?e.numSignatures():void 0},disableTrial:n}};break;case"pay_package":t={actionName:"PayPackage",actionParams:{packageName:function(){return e.package.name},quantity:function(){return e.package.qty},disableTrial:n}};break;default:throw"Unknown paypal paymentAction '"+this.paymentAction+"'"}return{action:t}},enumerable:!0,configurable:!0}),e.prototype._executePaymentAction=function(t,e){var n,i=this,r=this.selectedPaymentProvider,o=this.paymentAction,a=this.paymentInterval?this.selectedPaymentInterval:void 0,s=this.numUsers?this.numUsers():this.paymentNumUsersDefault;this.showLoadingScreen(),this.userPayment.disableActionButton(r),this.dispatchEvent(new c.IloveEvent("disableContentAbandonment"));var l=!(this.ctx.isTrialEnabledForThisTool()&&this.ctx.canUserDoTrial());switch(o){case"become_premium":n=this.userPayment.paySubscription({numUsers:s,provider:r,subscriptionInterval:a,disableTrial:l});break;case"subsc_update":var u=this.numSignatures();n=this.userPayment.updateSubscription({numSignatures:u,numUsers:s,provider:r,subscriptionInterval:a,disableTrial:l});break;case"pay_package":var d=this.package.name,p=this.package.qty;n=this.userPayment.payPackage({packageName:d,packageQuantity:p,provider:r,disableTrial:l});break;case"update_card":var h=this.userPayment.stripeService.view.card;n=this.userPayment.updateCard({provider:r,element:h})}n.then(function(t){return i._abstractOnPaymentSuccess(r,t)}),n.catch(function(t){return i._abstractOnPaymentFailed(r,t)});var f=function(t){i.clearLoadingScreen(),i.userPayment.enableActionButton(r),i.dispatchEvent(new c.IloveEvent("unsetContentAbandonment"))};return n.then(f,f),n},e.prototype.initUserPayment=function(t){var e,n;return o(this,void 0,void 0,function(){var i,r;return a(this,function(o){switch(o.label){case 0:return(i=this.initializedPaymentProviders).includes("stripe")?[4,t.mountView("stripe",this.stripeViewMountPoint,this.stripeViewParams)]:[3,2];case 1:o.sent(),o.label=2;case 2:return i.includes("paypal")?[4,t.mountView("paypal",this.paypalViewMountPoint,this.paypalViewParams)]:[3,4];case 3:o.sent(),o.label=4;case 4:return r=null!==(n=null===(e=this.currentPaymentMethod)||void 0===e?void 0:e.provider)&&void 0!==n?n:this.DEFAULT_SELECTED_PROVIDER_BTN,this.initPaymentProviderSelectorButtons(),this.clickProviderButton(r),[2]}})})},Object.defineProperty(e.prototype,"initializedPaymentProviders",{get:function(){return this.paymentProviderProps.map(function(t){return t.name})},enumerable:!0,configurable:!0}),e.prototype.initPaymentIntervalSelectorButtons=function(){var t=this.domStateRoot.querySelectorAll(".payment__interval-selector__select-box"),e=function(e){t.forEach(function(t){return t.setAttribute("data-selected","false")}),e.setAttribute("data-selected","true")};t.forEach(function(t){return t.addEventListener("click",function(t){return e(t.currentTarget)})})},e.prototype.clickProviderButton=function(t){var e=this,n=this.domRoot,i=(n.querySelector(".payment__provider-views"),n.querySelector(".payment__provider-selector")),r=(n.querySelectorAll(".payment__provider-selector .payment__provider-selector__item"),Array.from(i.querySelectorAll(".payment__provider-selector__item")));r.forEach(function(t){return t.setAttribute("data-checked","false")});var o=r.find(function(e){return e.dataset.value===t});o.setAttribute("data-checked","true"),function(t){e.domRoot.querySelectorAll(".payment__provider-views .payment__provider-views__item").forEach(function(t){return t.classList.remove("payment__provider-views__item--appeared")});var n=e.domRoot.querySelector('.payment__provider-views .payment__provider-views__item[data-provider-name="'+t+'"]');n&&n.classList.add("payment__provider-views__item--appeared")}(o.getAttribute("data-value"))},e.prototype.initPaymentProviderSelectorButtons=function(){var t=this,e=this.domRoot,n=e.querySelector(".payment__provider-selector").querySelectorAll(".payment__provider-selector__item"),i=e.querySelectorAll(".payment__provider-selector .payment__provider-selector__item");n.forEach(function(e){e.addEventListener("click",function(n){t.clickProviderButton(e.dataset.value)})});var r=this.initializedPaymentProviders;i.forEach(function(t){var e=t.getAttribute("data-value");if(!e)throw"Provider selector button is missing data-value attribute";r.includes(e)||(t.style.display="none")})},Object.defineProperty(e.prototype,"stripeViewMountPoint",{get:function(){var t=this.domRoot.querySelector(".payment__stripe-view");if(!t)throw"Mountpoint for Stripe view not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paypalViewMountPoint",{get:function(){var t=this.domRoot.querySelector(".payment__paypal-view");if(!t)throw"Mountpoint for Paypal view not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedPaymentProvider",{get:function(){return 1==this.paymentProviderProps.length?this.paymentProviderProps[0].name:this.domRoot.querySelector(".payment__provider-selector .payment__provider-selector__item[data-checked='true']").getAttribute("data-value")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedPaymentInterval",{get:function(){if("gui"===this.paymentInterval.type){if("boxes"===this.paymentInterval.gui)return this.selected_paymentInterval_boxes;if("radio"===this.paymentInterval.gui)return this.selected_paymentInterval_radio}else if("predefined"===this.paymentInterval.type)return this.paymentInterval.value;throw"Unknown way to determine paymentInterval '"+this.paymentInterval.type+"'"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected_paymentInterval_radio",{get:function(){var t=Array.from(this.domRoot.querySelectorAll(".payment__interval-selector [name='paymentInterval']"));if(0===t.length)throw"Radio buttons for payment interval not found";for(var e=0;e<t.length;e++)if(t[e].checked)return t[e].value;return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selected_paymentInterval_boxes",{get:function(){var t=this.domStateRoot.querySelector(".payment__interval-selector__select-box[data-selected='true']");if(!t)throw"No selected interval box found";return t.getAttribute("data-value")},enumerable:!0,configurable:!0}),e}(s.StateBase);e.AbstractPaymentState=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.buildFormData=function(e,n,i){if(void 0===i&&(i=null),!n||"object"!=typeof n||n instanceof Date||n instanceof File){var r=null==n?"":n;e.append(i,r)}else Object.keys(n).forEach(function(r){t.buildFormData(e,n[r],null!=i?i+"["+r+"]":r)})},t.jsonToFormData=function(e){var n=new FormData;return t.buildFormData(n,e),n},t}();e.FormDataHelper=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=function(){function e(n){var r=this;this.onLoginSucess=null,this.onLoginError=null,this.onRegisterSuccess=null,this.onRegisterError=null,this.loginSuccess=function(t){t.token&&(t.user.token=t.token),window.userModel=t.user,window.ilovepdfConfig&&(e.updateUserMenu(t.content),e.updateUser(t.user)),null!==r.onLoginSucess&&("function"!=typeof r.onLoginSucess&&"object"!=typeof r.onLoginSucess||r.onLoginSucess(t.user))},this.registerSuccess=function(n){e.updateUserMenu(n.content),e.updateUser(n.user),n.token&&(n.user.token=n.token),t(".user-menu__item--premium").remove(),e.sendGA_registered(r.runningFrom),"function"==typeof r.onRegisterSuccess&&r.onRegisterSuccess(n)},this.registerError=function(t){"function"==typeof r.onRegisterError&&r.onRegisterError(t)},Object.assign(this,n),this.userModel=new i.UserModel}return e.initActions=function(){t(".logout").click(function(t){t.preventDefault(),i.UserModel.logout()})},e.sendGA_registered=function(t){window.ga("send","event","user","registered",t)},e.prototype.login=function(t){var e=this;void 0===t&&(t=null),t||this.extraLoginParams&&this.extraLoginParams.forEach(function(e){t.push(e)}),this.userModel.login(t).then(this.loginSuccess,function(t){return e.loginError(t.responseJSON)})},e.prototype.sendResetPasswordEmail=function(t){return this.userModel.sendResetPasswordEmail(t)},e.prototype.loginError=function(t){"function"==typeof this.onLoginError&&this.onLoginError(t)},e.updateUser=function(t){window.userModel=t,window.ilovepdfConfig&&(window.ilovepdfConfig.user=t),i.UserModel.updateUser(t),e.initActions()},e.updateUserMenu=function(e){t(".top-menu .nav__item.nav__item--red").remove(),t(".top-menu .nav__item.nav__item--gray").remove(),t(".top-menu .nav__item[data-account]").remove(),t(".top-menu .nav").prepend(e)},e.prototype.register=function(t){var e=this.userModel.register(t);return e.then(this.registerSuccess,this.registerError),e},e}();e.UserAuth=r}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(108),r=function(){function e(){}return e.bytesToSize=function(t){if(0==t)return"0 Byte";var e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)+" "+["Bytes","KB","MB","GB","TB"][e]},e.mbytesToSize=function(t){return e.bytesToSize(1e6*t)},e.convertPointsToPixels=function(t){return t*(1+1/3)},e.strCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.isRTL=function(){return t("body").hasClass("rtl")},Object.defineProperty(e,"textDirection",{get:function(){return e.isRTL()?"right":"left"},enumerable:!0,configurable:!0}),e.getClosestNumber=function(t,e){for(var n=Math.abs(e[0]-t),i=0,r=1;r<e.length;r++){var o=Math.abs(e[r]-t);o<n&&(i=r,n=o)}return e[i]},e.createHTMLFromText=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.modalView=function(t){var n='<div class="modal fade" id="'+t.id+'" aria-labelledby="'+t.id+'Modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog" role="document"><div class="modal-content">';return n="title"in t?n+'<div class="modal-header"><h4 class="modal-title">'+t.title+'</h4><button type="button" class="close" data-dismiss="modal">'+e.svgClose()+"</button></div>":n+'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close">'+e.svgClose()+"</button></div>","content"in t?n=n+'<div class="modal-body">'+t.content+"</div>":n+='<div class="modal-body"></div>',"btn"in t&&(n=n+'<div class="modal-footer"><button type="button" class="btn btn-link" data-dismiss="modal">'+t.btn+"</button></div>"),n+="</div></div></div>"},e.feedbackModalView=function(t){var e=t.id,n=t.title,i=void 0===n?"":n,r=t.content,o=void 0===r?"":r,a=t.img,s=void 0===a?"":a,l=t.primaryBtn,c=void 0===l?"Yes":l,u=t.secondaryBtn,d="";if(i){var p="";s&&(p='<img id="'+e+'-img" src='+s+' alt="Visual feedback" />'),d=p+'<span id="'+e+'-title" class="modal-title">'+i+"</span>"}var h="";return o&&(h='<div id="'+e+'-content" class="modal-body">'+o+"</div>"),('\n            <div class="modal modal--alert fade" id="'+e+'" aria-labelledby="'+e+'Modal" tabindex="-1" role="dialog"\n            aria-hidden="true">\n                <div class="modal-dialog modal-dialog-centered" role="document">\n                    <div class="modal-content modal-content--alert">\n                        <div class="modal-header">\n                            '+d+'\n                            <button id="'+e+'-close-btn" type="button" class="close" data-dismiss="modal">\n                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><polygon fill="#383E45" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>\n                            </button>\n                        </div>\n                        '+h+'\n                        <div class="modal-actions">\n                            <button id="'+e+'-secondary-btn" type="button" class="btn btn--secondary" data-dismiss="modal">'+(void 0===u?"No":u)+'</button>\n                            <button id="'+e+'-primary-btn" type="button" class="btn" data-dismiss="modal">'+c+"</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ").trim()},e.codeModalView=function(t){return('\n        <div class="modal fade" id="'+t.id+'" aria-labelledby="'+t.id+'Modal" tabindex="-1" role="dialog"\n        aria-hidden="true">\n            <div class="modal-dialog modal-dialog-centered" role="document">\n                <div class="modal-content modal-content--code">\n                    <div class="code-editor code-editor--light">\n                        <div class="code-editor__libraries">\n                            <div class="code-editor__libraries__title black-3">\n                                <span>'+t.title+'</span>\n                            </div>\n                        </div>\n                        <div class="code-editor__content">\n                            <textarea class="code-editor__content__textarea" data-mode="javascript" readonly>\n'+t.code+"\n                            </textarea>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n        ").trim()},e.modalViewOk=function(t){return t.btn=i.Lang.t("Ok"),e.modalView(t)},e.setInputCursorAtTheEnd=function(t){var e=t.val().length;t.focus(),t[0].setSelectionRange(e,e)},e.svgClose=function(){return e.svgRemove(12,12)},e.svgRotate=function(t,e){return void 0===t&&(t=14),void 0===e&&(e=16),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 14 16"><path d="M11.328 6.364l1.24-1.2c.79.98 1.283 2.113 1.433 3.288h-1.775c-.123-.735-.43-1.454-.896-2.088zm.896 3.778H14c-.15 1.175-.633 2.308-1.424 3.288l-1.24-1.2c.457-.634.765-1.344.888-2.088zm-.888 4.497C10.318 15.4 9.13 15.856 7.9 16v-1.716a5.31 5.31 0 0 0 2.162-.871l1.266 1.226zM6.152 2.595V0l4 3.846-4 3.76V4.302c-2.496.406-4.394 2.485-4.394 4.995s1.898 4.59 4.394 4.995V16C2.68 15.586 0 12.746 0 9.297s2.68-6.29 6.152-6.703z" fill="#383E45" fill-rule="evenodd"/></svg>'},e.svgRemove=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 12 12"><polygon fill="#383E45" fill-rule="evenodd" points="12 1.208 10.79 0 6 4.792 1.21 0 0 1.208 4.79 6 0 10.792 1.21 12 6 7.208 10.79 12 12 10.792 7.21 6"/></svg>'},e.svgArrowRight=function(t,e){return void 0===t&&(t=12),void 0===e&&(e=12),'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'" viewBox="0 0 448 512"><path d="M313.94 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.94v46.06c0 21.382 25.85 32.1 40.97 16.97l86.06-86.06c9.373-9.373 9.373-24.57 0-33.94l-86.06-86.06c-15.12-15.12-40.97-4.41-40.97 16.97V216z"/></svg>'},e.svgHome=function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="26" height="21"><path d="M22.028 12.67v6.468a1.08 1.08 0 0 1-1.083 1.083h-5.236c-.298 0-.542-.244-.542-.542v-5.056c0-.298-.244-.542-.542-.542h-3.25c-.298 0-.542.244-.542.542v5.056c0 .298-.244.542-.542.542H5.056a1.08 1.08 0 0 1-1.083-1.083V12.67a.54.54 0 0 1 .199-.42l8.486-6.987a.55.55 0 0 1 .691 0l8.486 6.987c.122.104.194.257.194.42zm3.774-2.75l-3.774-3.1V.56c0-.298-.244-.542-.542-.542h-2.528c-.298 0-.542.244-.542.542v3.277L14.377.5c-.8-.66-1.955-.66-2.753 0L.2 9.922c-.23.2-.262.533-.072.763l1.15 1.4c.2.23.533.262.763.072l10.617-8.743a.55.55 0 0 1 .691 0l10.617 8.743c.23.2.573.158.763-.072l1.15-1.4c.2-.235.153-.573-.077-.763z"/></svg>'},e.randomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)},e.colorpicker=function(e){var n=null;n=1==t(e).data("limit")?{preferredFormat:"hex",showPaletteOnly:!0,color:"blanchedalmond",palette:[["#000","#444","#666","#999","#ccc","#eee","#f3f3f3","#fff"],["#f00","#f90","#ff0","#0f0","#0ff","#00f","#90f","#f0f"],["#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc"],["#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd"],["#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0"],["#c00","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79"],["#900","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47"],["#600","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"]]}:{allowEmpty:!0,showInitial:!0,preferredFormat:"hex"},1==t(e).data("input")&&(n.showInput=!0),1==t(e).data("empty")&&(n.allowEmpty=!0,1==t(e).data("limit")&&n.palette.push(["transparent"]),n.change=function(n){n=0===n._a?"transparent":n.toHexString(),t(e).val(n)}),1==t(e).data("inline")&&(n.flat=!0),1==t(e).data("aplha")&&(n.showAlpha=!0),n.clickoutFiresChange=!0;try{t(e).spectrum(n)}catch(e){}},e.isElementInView=function(e,n){return void 0===n&&(n=!1),0!=e.length&&(0==n?e.offset().top<t(window).height()&&e.offset().top+e.height()>60:e.offset().top+e.height()<t(window).height()&&e.offset().top>60)},e.keepInNumericBounds=function(t,e,n){return null!==t&&n<t&&(n=t),null!==e&&n>e&&(n=e),n},e.scrollControl=function(t,e,n){var i=0;t.scroll(function(){var r=t.scrollTop();r>i&&"function"==typeof n&&n(),i>r&&"function"==typeof e&&e(),i=r})},e.loadingFromPreviousStart=function(){var e=t(".fromPrevious");e.length>=0?e.css("display","flex"):(e=t('<div class="wait fromPrevious">'+i.Lang.t("previousTaskLoading")+"</div>"),t(".main").append(e),e.css("display","flex"))},e.loadingFromPreviousFail=function(){var e="<div><p>"+i.Lang.t("previousFail")+'</p><p></p><p><button class="btn" onclick="window.history.go(-1); return false;">'+i.Lang.t("previousFailBack")+'</button> <button class="btn btn--red" id="closePrevious">'+i.Lang.t("previousFailContinue")+"</button></p></div>";t(".fromPrevious").html(e).css("background-image","none")},e.loadingFromPreviousEnd=function(){t(".fromPrevious").remove()},e.serializeFormData=function(t){var e={};try{for(var n=0,i=t.entries();n<i.length;n++){var r=i[n],o=r[0],a=r[1];e[o]=a}}catch(t){}return e={info:"form data serialize failed"}},e.parseTemplate=function(e,n,i){return void 0===n&&(n=null),void 0===i&&(i="simple"),null!=n&&("simple"==i&&t.each(n,function(t,n){e=e.replace("{"+t+"}",n)}),"dollar"==i&&t.each(n,function(t,n){e=e.replace("${"+t+"}",n)})),e},e.isEmail=function(t){return!!/^\w+([\+\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},e}();e.Tools=r}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),r=n(5),o=n(35),a=n(2),s=n(19),l=n(28),c=function(){function t(e){this.name=t.id,this._options=i.a({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Object(r.b)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(a.d)(t)},{event:t})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:o.a.fromString(t.level),message:Object(s.b)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(s.b)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Object(r.b)().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(a.h)(t.event.target):Object(a.h)(t.event)}catch(t){e="<unknown>"}0!==e.length&&Object(r.b)().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;Object(r.b)().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Object(r.b)().addBreadcrumb({category:"fetch",data:t.fetchData,level:o.a.Error,type:"http"},{data:t.error,input:t.args}):Object(r.b)().addBreadcrumb({category:"fetch",data:i.a({},t.fetchData,{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(a.f)(),n=t.from,i=t.to,o=Object(a.k)(e.location.href),s=Object(a.k)(n),l=Object(a.k)(i);s.path||(s=o),o.protocol===l.protocol&&o.host===l.host&&(i=l.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Object(r.b)().addBreadcrumb({category:"navigation",data:{from:n,to:i}})},t.prototype.setupOnce=function(){var t=this;this._options.console&&Object(l.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,i.d(e))},type:"console"}),this._options.dom&&Object(l.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,i.d(e))},type:"dom"}),this._options.xhr&&Object(l.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,i.d(e))},type:"xhr"}),this._options.fetch&&Object(l.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,i.d(e))},type:"fetch"}),this._options.history&&Object(l.a)({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,i.d(e))},type:"history"})},t.id="Breadcrumbs",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),r=n(2),o=n(7),a=n(16),s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],l=function(){function t(e){this.name=t.id,this._options=i.a({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0];return e[0]=Object(a.b)(i,{mechanism:{data:{function:Object(r.e)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,Object(a.b)(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(r.e)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(r.f)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Object(o.b)(n,"addEventListener",function(e){return function(n,i,o){try{"function"==typeof i.handleEvent&&(i.handleEvent=Object(a.b)(i.handleEvent.bind(i),{mechanism:{data:{function:"handleEvent",handler:Object(r.e)(i),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,Object(a.b)(i,{mechanism:{data:{function:"addEventListener",handler:Object(r.e)(i),target:t},handled:!0,type:"instrument"}}),o)}}),Object(o.b)(n,"removeEventListener",function(t){return function(e,n,i){var r=n;try{r=r&&(r.__sentry_wrapped__||r)}catch(t){}return t.call(this,e,r,i)}}))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(t){t in i&&"function"==typeof i[t]&&Object(o.b)(i,t,function(e){var n={mechanism:{data:{function:t,handler:Object(r.e)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Object(r.e)(e.__sentry_original__)),Object(a.b)(e,n)})}),t.apply(this,e)}},t.prototype.setupOnce=function(){var t=Object(r.f)();(this._options.setTimeout&&Object(o.b)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(o.b)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(o.b)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&Object(o.b)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:s).forEach(this._wrapEventTarget.bind(this))},t.id="TryCatch",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(0),r=n(5),o=n(35),a=n(11),s=n(28),l=n(3),c=n(2),u=n(31),d=n(16),p=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=i.a({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(a.a.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(a.a.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Object(s.a)({callback:function(n){var i=n.error,o=Object(r.b)(),a=o.getIntegration(t),s=i&&!0===i.__sentry_own_request__;if(a&&!Object(d.a)()&&!s){var p=o.getClient(),h=Object(l.i)(i)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Object(u.b)(i,void 0,{attachStacktrace:p&&p.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(c.a)(h,{handled:!1,type:"onerror"}),o.captureEvent(h,{originalException:i})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Object(s.a)({callback:function(n){var i=n;try{"reason"in n?i=n.reason:"detail"in n&&"reason"in n.detail&&(i=n.detail.reason)}catch(t){}var a=Object(r.b)(),s=a.getIntegration(t),p=i&&!0===i.__sentry_own_request__;if(!s||Object(d.a)()||p)return!0;var h=a.getClient(),f=Object(l.i)(i)?e._eventFromIncompleteRejection(i):Object(u.b)(i,void 0,{attachStacktrace:h&&h.getOptions().attachStacktrace,rejection:!0});f.level=o.a.Error,Object(c.a)(f,{handled:!1,type:"onunhandledrejection"}),a.captureEvent(f,{originalException:i})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,i){var r,o=Object(l.e)(t)?t.message:t;if(Object(l.k)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(r=a[1],o=a[2])}var s={exception:{values:[{type:r||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,e,n,i)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,i){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var r=isNaN(parseInt(i,10))?void 0:i,o=isNaN(parseInt(n,10))?void 0:n,a=Object(l.k)(e)&&e.length>0?e:Object(c.g)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:r,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n(0),r=n(18),o=n(5),a=n(3),s=n(27),l=n(23),c="cause",u=5,d=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||c,this._limit=e.limit||u}return t.prototype.setupOnce=function(){Object(r.b)(function(e,n){var i=Object(o.b)().getIntegration(t);return i?i._handler(e,n):e})},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Object(a.g)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=i.d(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Object(a.g)(t[e],Error)||n.length+1>=this._limit)return n;var r=Object(l.a)(t[e]),o=Object(s.c)(r);return this._walkErrorTree(t[e],e,i.d([o],n))},t.id="LinkedErrors",t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n(0),r=n(18),o=n(5),a=n(2),s=Object(a.f)(),l=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Object(r.b)(function(e){if(Object(o.b)().getIntegration(t)){if(!s.navigator||!s.location)return e;var n=e.request||{};return n.url=n.url||s.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=s.navigator.userAgent,i.a({},e,{request:n})}return e})},t.id="UserAgent",t}()},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(13),o=n(12),a=n(26);!function(t){t.ERROR_FEATURE="this feature is for premium only",t.ERROR_SIZE="file size too big",t.ERROR_FILES="too much files",t.ERROR_EXTENSION="invalid filetype"}(i=e.REASON||(e.REASON={}));var s=function(){function e(t){this.LEVEL_PREMIUM="premium_limits",this.LEVEL_REGISTERED="registered_limits",this.LEVEL_PUBLIC="limits",this.err=null,this.files=null,this.fileLimits=null,this.allFileLimits=null,this.tool=null,this.subtool=null,this.ignored=[],this.userLevel="public",Object.assign(this,t),this.concreteTool=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool)}return e.prototype.addIgnoredFile=function(t){this.ignored.push(t)},e.prototype.getIgnoredFiles=function(){return this.ignored},e.prototype.isIgnored=function(t){return-1!=this.ignored.indexOf(t)},e.prototype.checkFileLimits=function(e,n){var o=this;this.fileLimits=window.ilovepdfConfig.fileLimits;var a=r.UserModel.get();a&&1==a.premium&&(this.fileLimits=a.limits),function(){if(o.fileLimits[o.concreteTool])return!0;return!1}()&&(function(e){if(e>o.fileLimits[o.concreteTool].files)throw 0==t(".download").length&&window.ga("send","event","limits","filenumber-exceeded",o.concreteTool,e),i.ERROR_FILES}(n),function(e){if(e>1024*parseInt(o.fileLimits[o.concreteTool].mb)*1024){var n=Math.floor(e/1024/1024);throw 0==t(".download").length&&window.ga("send","event","limits","filesize-exceeded",o.concreteTool,n),i.ERROR_SIZE}}(e))},e.prototype.findNextLevelLimit=function(t,e,n){for(var i in this.allFileLimits)if(this.allFileLimits.hasOwnProperty(i)){var r=this.allFileLimits[i];if(r.hasOwnProperty(t)){var o=r[t];if(o.hasOwnProperty(e)&&o[e]>=n)return i}}return!1},e.prototype.getPremiumLimitByTool=function(t,e){return this.allFileLimits.premium_limits[t][e]},e.prototype.getLevelLimit=function(t,e,n){return 0==n&&(n=this.LEVEL_PREMIUM),this.allFileLimits[n][t][e]},e.prototype.makeErrorData=function(t,e,n,i,r){var a=this;function s(t,e){return 1==t?"files"==e?o.Lang.t("1 file"):o.Lang.t("1 mb"):("mb"==e&&t>=1e3&&(t/=1e3,e="Gb"),o.Lang.t("${limit} "+e.toLowerCase(),{limit:t}))}function l(t){return t==a.LEVEL_REGISTERED?o.Lang.t("registeredLevel"):t==a.LEVEL_PREMIUM?o.Lang.t("premiumLevel"):o.Lang.t("publicLevel")}return{currentLimit:s(e,t),currentLevel:l(n).ucFirst(),nextLimit:s(i,t),nextLevel:l(r).ucFirst()}},e.prototype.limitErrorText=function(t){return o.Lang.t("limitTaskMsg",t)},e.prototype.setLimit=function(e){this.err=e;var n=e==i.ERROR_SIZE?"mb":"files",r=e==i.ERROR_SIZE?this.files.size()/1024/1024:this.files.count(),s=this.findNextLevelLimit(this.concreteTool,n,r);if(0==s){var l=this.getPremiumLimitByTool(this.concreteTool,n);if(0==t("#superlimit").length){var c=a.Tools.modalView({id:"superlimit",title:"",content:""}),u=t(c);u.find(".modal-dialog").addClass("modal-dialog-centered"),u.appendTo(t("body"))}return setTimeout(function(){"files"==n?(t("#superlimit .modal-title").html(o.Lang.t("File number exceeded")),t("#superlimit .modal-body").html(o.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+o.Lang.t("limitFiles",{files:l})+"<br>--\x3e\n                         "+o.Lang.t("superlimitWhoa")+"<br>\n                         "+o.Lang.t("superlimitDownload"))):(t("#superlimit .modal-title").html(o.Lang.t("File size exceeded")),t("#superlimit .modal-body").html(o.Lang.t("Sorry, we are not ready for that.")+"<br>\n                         \x3c!--"+o.Lang.t("limitMb",{mb:l})+"<br>--\x3e\n                         "+o.Lang.t("superlimitWhoa")+"<br>\n                         "+o.Lang.t("superlimitDownload"))),t("#superlimit").modal("toggle")},500),null}var d=this.getLevelLimit(this.concreteTool,n,s);return s==this.LEVEL_PUBLIC?null:{limitName:n,limitValue:r,nextLevelLimit:s,nextLimit:d}},e.prototype.getCurrentLimitsLevel=function(){var t=this.LEVEL_PUBLIC;return r.UserModel.isUser()&&(t=this.LEVEL_REGISTERED,r.UserModel.isPremium()&&(t=this.LEVEL_PREMIUM)),t},e}();e.Limits=s}).call(this,n(1))},function(t,e,n){"use strict";n.r(e);var i=n(33);n.d(e,"BaseTransport",function(){return i.a});var r=n(75);n.d(e,"FetchTransport",function(){return r.a});var o=n(76);n.d(e,"XHRTransport",function(){return o.a})},function(t,e,n){var i,r,o;r=[n(1)],void 0===(o="function"==typeof(i=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),a=n(60),s=n(42),l=n(111),c=n(81),u=n(82),d=n(83),p=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="PremiumContext",n.onDomReadyCalledOnce=!1,n._onDomReady=function(t){n.onDomReadyCalledOnce||n.updateTriggerReasonText(t),n.onDomReadyCalledOnce=!0,n.updateTitleText(t)},n.triggerReason="triggerReason"in e?e.triggerReason:void 0,n.limits="limits"in e?e.limits:void 0,n.premiumFeatureName="premiumFeatureName"in e?e.premiumFeatureName:void 0,n.tool=e.tool,n}return r(e,t),e.prototype.initAllFeaturesTooltip=function(t){if(!this.tooltipRoot){if(this.tooltipRoot=t.querySelector(".new-premium__all-features-tooltip"),!this.tooltipRoot)throw"'All features' dom element not found";var e=t.querySelector(".new-premium__all-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'All features' tooltip";window.tippy(this.tooltipRoot,{allowHTML:!0,theme:"light new-premium-all-features-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},e.prototype.initOCRTooltip=function(t){if(!this.tooltipRoot_OCR){if(this.tooltipRoot_OCR=t.querySelector(".new-premium__ocr-tooltip"),!this.tooltipRoot_OCR)throw"'OCR' dom element not found";var e=t.querySelector(".new-premium__ocr-features-tooltip__html-template");if(!e)throw"htmlTemplate not found for 'OCR' tooltip";window.tippy(this.tooltipRoot_OCR,{allowHTML:!0,theme:"light new-premium__ocr-tooltip",content:e.innerHTML,placement:"bottom",arrow:!0,animation:"fade",trigger:"mouseenter",interactive:!0})}},e.prototype.updateTitleText=function(t){var e=t.querySelector(".dialog__title");if(!e)throw"'Title' element not found";var n=this.isTrialEnabledForThisTool()&&this.canUserDoTrial();switch(this.userType){case"guest":case"user":return void(e.innerHTML=n?this.getTranslation(t,"title_canTrial"):this.getTranslation(t,"title_cannotTrial"));case"premium":return;default:throw"Unhandled userType '"+this.userType+"' for updateTitleText"}},e.prototype.updateTriggerReasonText=function(t){var e,n,i,r,s,l=t.querySelector(".new-premium__trigger-reason_sub1"),c=t.querySelector(".new-premium__trigger-reason_sub2");if(!l)throw"'Trigger Reason subtitle1' element not found";if(!c)throw"'Trigger Reason subtitle2' element not found";var u,d,p=null!==(i=this.tool)&&void 0!==i?i:null===(r=this.limits)||void 0===r?void 0:r.tool,h=null===(s=window.ilovepdfConfig)||void 0===s?void 0:s.subtool,f=!1;switch(this.triggerReason){case a.REASON.ERROR_FEATURE:var g="triggerReason_errorFeature";switch(p){case"sign":case"pdfa":case"pdfoffice":g+="_"+p}["pdfexcel","pdfword"].includes(h)&&(g+="_"+h),this.premiumFeatureName&&(g+="_"+this.premiumFeatureName),l.innerHTML=this.getTranslation(t,g+"_subtitle1"),"ocr"===this.premiumFeatureName&&"pdfoffice"===p&&(f=!0,l.innerHTML=l.innerHTML.replace("OCR",'<span class="new-premium__ocr-tooltip" data-template="new-premium__ocr-features-tooltip__html-template">OCR</span>')),c.innerHTML=this.getTranslation(t,g+"_subtitle2");break;case a.REASON.ERROR_FILES:if(!this.limits)throw"Limits object is needed to translate subtitles' text";u=(e=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],d=e[1],l.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesNum_subtitle1"),{n:u.files}),c.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesNum_subtitle2"),{n:d.files});break;case a.REASON.ERROR_SIZE:if(!this.limits)throw"Limits object is needed to translate subtitles' text";u=(n=[this.limits.fileLimits[this.tool],this.limits.allFileLimits.premium_limits[this.tool]])[0],d=n[1],l.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesSize_subtitle1"),{n:u.mb}),c.innerHTML=o.Lang.tr(this.getTranslation(t,"triggerReason_errorFilesSize_subtitle2"),{n:d.mb/1e3});break;case null:l.style.display="none",c.style.display="none";break;default:throw"Unknown triggerReason '"+this.triggerReason+"'"}this.initAllFeaturesTooltip(t),f&&this.initOCRTooltip(t)},e.prototype.getTranslation=function(t,e,n){if(void 0===n&&(n={}),this._translations){if(!(e in this._translations))throw"Translation for key '"+e+"' not found";return this._translations[e]}var i=t.querySelector(".new-premium__text-translations");if(!i)throw"'Text translations' DOM not found";if("html"===i.dataset.format){var r=i.querySelector("[data-key="+e+"]");if(!r)throw"Key '"+e+"' not found";return r.innerHTML}return this._translations=JSON.parse(i.innerHTML),this._translations?this.getTranslation(t,e):null},e.prototype.getInitialState=function(){switch(this.userType){case"guest":return new l.AuthState;case"user":return this.canUserDoTrial()&&this.isTrialEnabledForThisTool()?new u.CanTrialState:new c.CannotTrialState;case"premium":return new d.PremiumState;default:throw"Not implemented 'initialState' when userType is "+this.userType}},e}(s.ContextBase);e.PremiumContext=p},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.load=function(e){return i(this,void 0,void 0,function(){var n,i,o,a;return r(this,function(r){return n=new XMLHttpRequest,i=!1,o=!1,a=function(t){return!i&&!o&&200===t.status},n.open("GET",t.getLangBaseUrl()+"/"+e,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Accept","text/html"),n.ontimeout=function(){return i=!0},n.onerror=function(){return o=!0},[2,new Promise(function(t,e){n.onreadystatechange=function(){4===n.readyState&&(a(n)?t(n.responseText):e(n.response))},n.send()})]})})},t.getLangBaseUrl=function(){var e=window.lang;return"en-US"==e?"/"+t.BASE_URL:"/"+e+"/"+t.BASE_URL},t.BASE_URL="templates",t}();e.AjaxTemplate=o},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(53),a=n(10),s=n(80),l=n(8),c=n(26),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.abstractAuthInited=!1,n.INITIAL_SCREEN="register",n.ELEMENTS_TO_HIDE_IN_TEMPLATE=[".form__title",".brand"],n.setUserTimeZoneInCookie=function(){var t=c.Tools.getBrowserTimezone();"UTC"!==t&&window.Cookies.set("auth_tz",t)},n._onSocialAuthSuccess=function(t){!0===t.detail.socialAuth_isNewUser?n._abstractOnRegisterSuccess({from_auth_social_login:!0}):n._abstractOnLoginSuccess({from_auth_social_login:!0})},n.setSocialAuthLinkContextPlacement=function(){var t=n.domRoot.querySelectorAll(".auth-link"),e="dialog"===n.ctx.getContextPlacement()?"popup":"auth",i=s.SocialAuthPopup.runningFromAttr;t.forEach(function(t){t.setAttribute(i,e),t.removeAttribute("onclick"),t.removeAttribute("href");var r=t.getAttribute("data-provider"),o=n.t("social_provider_"+r),a="login"===t.getAttribute("data-auth-action")?"backdrop_social_signin_title":"backdrop_social_signup_title",l=n.t(a,{social_provider:o}),c=n.t("backdrop_social_subtitle");t.addEventListener("click",function(){var e=n.domStateRoot.querySelector(".auth-screens__backdrop--social"),i=document.createElement("div");i.innerHTML=e.innerHTML,n.showBackdrop(i,l,c),n.setBackdropCallback(function(){s.SocialAuthPopup.focusWindow()},function(){s.SocialAuthPopup.closeWindow(),n.clearBackdrop()}),s.SocialAuthPopup.open(r,{},t).then(n.clearBackdrop,function(t){n.clearBackdrop(),t.errors&&n.showFlashMessage(t.errors[0])})})})},n.clearInputs=function(){n.domStateRoot.querySelectorAll("input").forEach(function(t){return t.value=""})},n._abstractOnResetSubmit=function(e){var i=n.domRoot.querySelector('[data-screen="reset"] form'),r=t(i).serializeArray();n.showLoadingScreen(),n.userAuth.sendResetPasswordEmail(r).then(function(t){var e=n.domStateRoot.querySelector(".reset-password-success-msg");if(!e)throw"'Reset password success' element not found";e.innerHTML=t.data.status_msg,n.changeScreen("reset-success"),n.clearLoadingScreen()},function(t){var e,i,r,o,a;n.clearLoadingScreen();var s=null===(e=null===t||void 0===t?void 0:t.responseJSON)||void 0===e?void 0:e.data;throw(null===(i=null===s||void 0===s?void 0:s.errors)||void 0===i?void 0:i.email)?n.resetPasswordErrorDom.innerHTML=s.errors.email.join(","):n.resetPasswordErrorDom.innerHTML=null!==(a=null===(o=null===(r=null===t||void 0===t?void 0:t.responseJSON)||void 0===r?void 0:r.data)||void 0===o?void 0:o.status_msg)&&void 0!==a?a:"",t})},n._abstractOnLoginSubmit=function(e){var i=n.domRoot.querySelector('[data-screen="login"] form'),r=t(i).serializeArray();n.showLoadingScreen(),n.userAuth.login(r)},n._abstractOnRegisterSubmit=function(e){var i=n.domRoot.querySelector('[data-screen="register"] form'),r=t(i).serializeArray();n.showLoadingScreen(),n.userAuth.register(r)},n._abstractOnLoginSuccess=function(t){if(n.clearLoadingScreen(),!(!0===(null===t||void 0===t?void 0:t.from_auth_social_login))){var e=new CustomEvent("userAuth");window.dispatchEvent(e)}n._onLoginSuccess(t),n.dispatchEvent(new l.IloveEvent("login:success"))},n._abstractOnRegisterSuccess=function(t){if(n.clearLoadingScreen(),!(!0===(null===t||void 0===t?void 0:t.from_auth_social_login))){var e=new CustomEvent("userAuth");window.dispatchEvent(e)}n._onRegisterSuccess(t),n.dispatchEvent(new l.IloveEvent("register:success"))},n._abstractOnLoginError=function(t){n.genericAuthErrorHandler(t)},n._abstractOnRegisterError=function(t){n.genericAuthErrorHandler(t)},n.genericAuthErrorHandler=function(t){n.clearLoadingScreen(),n.clearFlashMessage();var e=t.responseJSON;if(e||"object"!=typeof t||(e=t),e){var i=e[Object.keys(e)[0]][0];n.showFlashMessage(i)}},n}return r(n,e),n.prototype.initAbstractAuth=function(){var t=this;if(!this.abstractAuthInited){var e=this.domStateRoot;this.ELEMENTS_TO_HIDE_IN_TEMPLATE.forEach(function(n){return t.hideHtmlElement(e,n)}),this.setSocialAuthLinkContextPlacement(),s.SocialAuthPopup.addEventListener("auth:success",this._onSocialAuthSuccess),this.userAuth=new o.UserAuth({onLoginSucess:this._abstractOnLoginSuccess,onRegisterSuccess:this._abstractOnRegisterSuccess,onLoginError:this._abstractOnLoginError,onRegisterError:this._abstractOnRegisterError,runningFrom:"dialog"===this.ctx.getContextPlacement()?"popup":"auth"}),this.setUserTimeZoneInCookie(),this.initOverrideFormActions(),this.abstractAuthInited=!0}},n.prototype.showFlashMessage=function(t){var e=document.createElement("div");e.classList.add("flash"),e.innerText=t,this.currentScreen.querySelector(".social-auth").appendChild(e)},n.prototype.clearFlashMessage=function(){this.domStateRoot.querySelectorAll(".flash").forEach(function(t){return t.remove()})},Object.defineProperty(n.prototype,"extraLoginParams",{set:function(t){this._extraLoginParams=t,t||(this.userAuth.extraLoginParams=null);var e=[];for(var n in t)e.push({name:n,value:t[n]});this.userAuth.extraLoginParams=e},enumerable:!0,configurable:!0}),n.prototype.initOverrideFormActions=function(){var t=this,e=this.domRoot;e.querySelectorAll("form").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault(),t.clearFlashMessage()})}),e.querySelectorAll("a").forEach(function(t){t.getAttribute("href").startsWith("javascript")||(t.setAttribute("data-a-href",t.href),t.href="javascript:;")}),this.goRegisterScreenBtn.addEventListener("click",function(e){return t.changeScreen("register")}),this.goLoginScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.goForgetPasswordBtn.addEventListener("click",function(e){return t.changeScreen("reset")}),this.goBackFromResetScreenBtn.addEventListener("click",function(e){return t.changeScreen("login")}),this.okResetSuccessBtn.addEventListener("click",function(e){return t.dispatchEvent(new l.IloveEvent("end"))}),this.redefineActionsForLoginScreen(),this.redefineActionsForRegisterScreen(),this.redefineActionsForResetScreen()},Object.defineProperty(n.prototype,"goBackFromResetScreenBtn",{get:function(){var t=this.domRoot.querySelector("#goBackReset");if(!t)throw"'Go back from reset screen' button not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"okResetSuccessBtn",{get:function(){var t=this.domRoot.querySelector("#resetSuccessBtn");if(!t)throw"'OkResetSuccessBtn' button not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"goRegisterScreenBtn",{get:function(){var t=this.domRoot.querySelector("#goRegister");if(!t)throw"'Go register screen' button not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"goLoginScreenBtn",{get:function(){var t=this.domRoot.querySelector("#goLogin");if(!t)throw"'Go login screen' button not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"goForgetPasswordBtn",{get:function(){var t=this.domRoot.querySelector("#forget-password");if(!t)throw"'Go forget password screen' button not found";return t},enumerable:!0,configurable:!0}),n.prototype.redefineActionsForLoginScreen=function(){this.domRoot.querySelector('[data-screen="login"]').querySelector("form").addEventListener("submit",this._abstractOnLoginSubmit)},n.prototype.redefineActionsForResetScreen=function(){var t=this,e=this.domRoot.querySelector('[data-screen="reset"]');e.querySelector("form").addEventListener("submit",this._abstractOnResetSubmit);var n=e.querySelector("form #userpasswordresetform-email");if(!n)throw"Reset password email input not found";n.addEventListener("input",function(){return t.resetPasswordErrorDom.innerHTML=""})},Object.defineProperty(n.prototype,"resetPasswordErrorDom",{get:function(){var t=this.domStateRoot.querySelector("[data-screen='reset'] span.error");if(!t)throw"Error div not found";return t},enumerable:!0,configurable:!0}),n.prototype.redefineActionsForRegisterScreen=function(){var t=this.domRoot.querySelector('[data-screen="register"]').querySelector("form"),e=t.querySelector("#signupform-timezone"),n=c.Tools.getBrowserTimezone();"UTC"!==n&&(e.value=n),t.addEventListener("submit",this._abstractOnRegisterSubmit)},n.prototype.hideHtmlElement=function(t,e){t.querySelectorAll(e).forEach(function(t){t.style.display="none"})},n.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},n.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},n}(a.StateBase);e.AbstractAuthState=u}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(103),r=n(7),o=function(){function t(t){this.dsn=t,this._dsnObject=new i.a(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype._encodedAuth=function(){var t={sentry_key:this._dsnObject.user,sentry_version:"7"};return Object(r.e)(t)},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,i=["Sentry sentry_version=7"];return i.push("sentry_client="+t+"/"+e),i.push("sentry_key="+n.user),n.pass&&i.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":i.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",i=[];for(var r in i.push("dsn="+e.toString()),t)if("user"===r){if(!t.user)continue;t.user.name&&i.push("name="+encodeURIComponent(t.user.name)),t.user.email&&i.push("email="+encodeURIComponent(t.user.email))}else i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return i.length?n+"?"+i.join("&"):n},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(11),r=n(20),o=n(39),a=function(){function t(t){this._options=t,this._options.dsn||i.a.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype._setupTransport=function(){return new o.a},t.prototype.eventFromException=function(t,e){throw new r.a("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new r.a("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,function(t){i.a.error("Error while sending event: "+t)})},t.prototype.getTransport=function(){return this._transport},t}()},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(151),a=n(152),s=n(54),l=n(153),c=function(){function t(){var t=this;this.inputListener=function(){},this.pricesMap={},this.initialQtyIsValid=!0,this._isValid=!0,this.overrideBubbleTemplateQuantity={},this.showCustom=function(){return t.customElement.classList.remove("hidden"),t.sliderElement.classList.add("hidden"),t.mode="custom",!0},this.showSlider=function(){return t.customElement.classList.add("hidden"),t.sliderElement.classList.remove("hidden"),t.mode="slider",!0},this.setBubbleText=function(){var e=t.getText();t.bubble.setText(e),t._inputChanged()},this._inputChanged=function(){var e=t.getStatusByMaxMin();t.initialQtyIsValid||(e=e&&t.getQuantity()!==t.initialQty),e?t.setValid():t.setInvalid(),t.inputListener()},this.getStatusByMaxMin=function(){var e=t.getQuantity();return!(e<t.getMin()||e>t.getMax())},this.setCustomText=function(){t.customElement&&(t.textCustom.innerHTML=t.getText(),t._inputChanged())},this.addInputListeners_IE11=function(){t.inputRange.addEventListener("change",function(){t.setBubbleText()}),t.customElement&&t.inputCustom.addEventListener("input",function(){t.setCustomText()})},this.addInputListeners=function(){t.inputRange.addEventListener("input",function(){t.setBubbleText()}),t.customElement&&t.inputCustom.addEventListener("input",function(){t.setCustomText()})},this.getDataPrices=function(){var e=[];return JSON.parse(t.inputRange.dataset.packages).forEach(function(n){e[n]=t.getPackPrice(n)}),e},this.getPackPrice=function(e){var n=JSON.parse(t.inputRange.dataset.discount),i=JSON.parse(t.inputRange.dataset.basePrice),r=""==t.inputRange.dataset.priceInterval?1:parseInt(t.inputRange.dataset.priceInterval),o=""==t.inputRange.dataset.overallPriceDiscount?1:parseFloat(t.inputRange.dataset.overallPriceDiscount),a=0,s=0;return Object.keys(n).forEach(function(t){var r=parseInt(t),o=n[t];e>s&&(a+=e>=r?(r-s)*i*o:(e-s)*i*o,s=r)}),a=a*r*o,t.roundPrice(a)},this.onInput=function(e){t.inputListener=e},this.getPrice=function(){if("custom"==t.mode)return t.getPackPrice(Number(t.inputCustom.value));var e=t.getCurrentPriceItem(),n=(e[0],e[1]);return t.roundPrice(n)},this.getQuantity=function(){if("custom"==t.mode)return Number(t.inputCustom.value);var e=t.getCurrentPriceItem()[0];return Number(e)},this.getCurrentPriceItem=function(){return Object.entries(t.pricesMap).find(function(e,n){return Number(t.inputRange.value)===n})},this.setQuantity=function(e){var n=Object.entries(t.pricesMap).findIndex(function(t){var n=t[0];return Number(n)===e});t.inputRange.value=n.toString(),t.setBubbleText(),t.inputCustom&&(t.inputCustom.value=e.toString(),t.setCustomText())},this.setPrices=function(e){t.pricesMap=e;var n=Object.keys(t.pricesMap);t.setMin(Number(n[0])),t.setMax(Number(n[n.length-1])),t.setInputElements(n.length)},this.getPricesMap=function(){return t.pricesMap},this.getQuantities=function(){return Object.keys(t.getPricesMap()).map(function(t){return Number(t)})},this.setMin=function(e){t.container.setAttribute("data-min",e.toString())},this.setMax=function(e){t.container.setAttribute("data-max",e.toString())},this.setInputElements=function(e){t.inputRange.max=""+(e-1),t.inputRange.min="0";for(var n=t.container.querySelector(".slider__element__slider-datalist"),i="",r=0;r<e;r++)i+='<span class="slider__element__slider-datalist__option"></span>';n.innerHTML=i}}return t.prototype.init=function(t,e){return i(this,void 0,void 0,function(){var n=this;return r(this,function(i){if(t.hasAttribute("data-min"))return[2];e.mode||(e.mode="slider"),"initialQtyIsValid"in e&&"initialQty"in e&&(this.initialQtyIsValid=e.initialQtyIsValid),this.container=t,this.inputRange=t.querySelector('input[type="range"]'),this.inputCustom=t.querySelector('input[type="number"]'),this.sliderElement=t.querySelector(".slider__element__slider"),this.customElement=t.querySelector(".slider__element__custom"),this.switchElement=t.querySelector(".slider__element__mode"),this.textCustom=t.querySelector("[data-select-text]"),this.bubble=new o.default,this.bubble.init(this.inputRange),this.bubbleTemplate=this.inputRange.dataset.bubbleTemplate,this.currencyCode=this.inputRange.dataset.currencyCode;try{this.overrideBubbleTemplateQuantity=JSON.parse(this.inputRange.dataset.overrideBubbleTemplateQuantity)}catch(t){}return l.isIE11()?this.addInputListeners_IE11():this.addInputListeners(),this.setPrices(this.getDataPrices()),this.mode=e.mode,this.switchElement&&this.enableSwitchMode(),[2,new Promise(function(t,i){var r=null;if(e.minQty&&n.setMin(e.minQty),e.maxQty&&n.setMax(e.maxQty),e.initialQty){var o=n.getQuantities().sort(function(t,e){return t-e});r="function"==typeof e.initialQty?o.find(e.initialQty):e.initialQty}r=null!==r&&void 0!==r?r:n.getQuantities()[0],n.initialQty=r,n.setQuantity(r),t()})]})})},t.prototype.enableSwitchMode=function(){this.switchElement.classList.remove("hidden"),this.switchElement.style.display="block",this.initSwitchModeActions()},t.prototype.initSwitchModeActions=function(){var t=this,e=this.switchElement.querySelector('[data-select-mode="slide"]'),n=this.switchElement.querySelector('[data-select-mode="custom"]');e.addEventListener("click",function(){e.classList.add("payment-period__payments__item--active"),n.classList.remove("payment-period__payments__item--active"),t.showSlider(),t._inputChanged()}),n.addEventListener("click",function(){n.classList.add("payment-period__payments__item--active"),e.classList.remove("payment-period__payments__item--active"),t.showCustom(),t._inputChanged()})},t.prototype.getText=function(){var t=this.getQuantity(),e=a.localePrice(this.getPrice(),this.currencyCode),n=this.bubbleTemplate;return"string"==typeof this.overrideBubbleTemplateQuantity[t]&&(n=this.overrideBubbleTemplateQuantity[t]),s.Tools.parseTemplate(n,{quantity:a.localeNumber(t),price:e})},t.prototype.isValid=function(){return this._isValid},t.prototype.setInvalid=function(){this._isValid=!1,this.sliderElement.classList.add("invalid")},t.prototype.setValid=function(){this._isValid=!0,this.sliderElement.classList.remove("invalid")},t.prototype.roundPrice=function(t){return Number(Math.round(t))},t.prototype.getMin=function(){return Number(this.container.getAttribute("data-min"))},t.prototype.getMax=function(){return Number(this.container.getAttribute("data-max"))},t}();e.default=c},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38)],void 0===(o="function"==typeof(i=function(t){var e="undefined"!=typeof Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);t.blobSlice=e&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},t.metaDataParsers={jpeg:{65505:[],65517:[]}},t.parseMetaData=function(e,n,i,r){i=i||{},r=r||{};var o=this,a=i.maxMetaDataSize||262144,s=!("undefined"!=typeof DataView&&e&&e.size>=12&&"image/jpeg"===e.type&&t.blobSlice);!s&&t.readFile(t.blobSlice.call(e,0,a),function(e){if(e.target.error)n(r);else{var a,s,l,c,u=e.target.result,d=new DataView(u),p=2,h=d.byteLength-4,f=p;if(65496===d.getUint16(0)){for(;p<h&&((a=d.getUint16(p))>=65504&&a<=65519||65534===a)&&(s=d.getUint16(p+2)+2,!(p+s>d.byteLength));){if(l=t.metaDataParsers.jpeg[a])for(c=0;c<l.length;c+=1)l[c].call(o,d,p,s,r,i);f=p+=s}!i.disableImageHead&&f>6&&(u.slice?r.imageHead=u.slice(0,f):r.imageHead=new Uint8Array(u).subarray(0,f))}n(r)}},"readAsArrayBuffer")||n(r)},t.hasMetaOption=function(t){return t&&t.meta};var n=t.transform;t.transform=function(e,i,r,o,a){t.hasMetaOption(i)?t.parseMetaData(o,function(a){n.call(t,e,i,r,o,a)},i,a):n.apply(t,arguments)}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){"use strict";var i=n(0),r=n(18),o=n(103),a=n(3),s=n(11),l=n(17),c=n(2),u=n(7),d=n(19),p=n(5),h=[];function f(t){var e={};return function(t){var e=t.defaultIntegrations&&i.d(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map(function(t){return t.name}),a=[];e.forEach(function(t){-1===o.indexOf(t.name)&&-1===a.indexOf(t.name)&&(r.push(t),a.push(t.name))}),n.forEach(function(t){-1===a.indexOf(t.name)&&(r.push(t),a.push(t.name))})}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=i.d(e);var s=r.map(function(t){return t.name});return-1!==s.indexOf("Debug")&&r.push.apply(r,i.d(r.splice(s.indexOf("Debug"),1))),r}(t).forEach(function(t){e[t.name]=t,function(t){-1===h.indexOf(t.name)&&(t.setupOnce(r.b,p.b),h.push(t.name),s.a.log("Integration installed: "+t.name))}(t)}),e}n.d(e,"a",function(){return g});var g=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new o.a(e.dsn))}return t.prototype.captureException=function(t,e,n){var i=this,r=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then(function(t){r=i.captureEvent(t,e,n)}),r},t.prototype.captureMessage=function(t,e,n,i){var r=this,o=n&&n.event_id;return this._processing=!0,(Object(a.i)(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then(function(t){o=r.captureEvent(t,n,i)}),o},t.prototype.captureEvent=function(t,e,n){var i=this,r=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then(function(t){r=t&&t.event_id,i._processing=!1}).then(null,function(t){s.a.error(t),i._processing=!1}),r},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then(function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then(function(t){return n.ready&&t})})},t.prototype.close=function(t){var e=this;return this.flush(t).then(function(t){return e.getOptions().enabled=!1,t})},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=f(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return s.a.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new l.a(function(n){var i=0,r=0;clearInterval(r),r=setInterval(function(){e._processing?t&&(i+=1)>=t&&n({interval:r,ready:!1}):n({interval:r,ready:!0})},1)})},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var o=this,a=this.getOptions().normalizeDepth,s=void 0===a?3:a,u=i.a({},t,{event_id:t.event_id||(n&&n.event_id?n.event_id:Object(c.m)()),timestamp:t.timestamp||Object(c.l)()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var d=e;n&&n.captureContext&&(d=r.a.clone(d).update(n.captureContext));var p=l.a.resolve(u);return d&&(p=d.applyToEvent(u,n)),p.then(function(t){return"number"==typeof s&&s>0?o._normalizeEvent(t,s):t})},t.prototype._normalizeEvent=function(t,e){return t?i.a({},t,t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(function(t){return i.a({},t,t.data&&{data:Object(u.c)(t.data,e)})})},t.user&&{user:Object(u.c)(t.user,e)},t.contexts&&{contexts:Object(u.c)(t.contexts,e)},t.extra&&{extra:Object(u.c)(t.extra,e)}):null},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,i=e.release,r=e.dist,o=e.maxValueLength,a=void 0===o?250:o;void 0===t.environment&&void 0!==n&&(t.environment=n),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=Object(d.d)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=Object(d.d)(s.value,a));var l=t.request;l&&l.url&&(l.url=Object(d.d)(l.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._processEvent=function(t,e,n){var i=this,r=this.getOptions(),o=r.beforeSend,c=r.sampleRate;if(!this._isEnabled())return l.a.reject("SDK not enabled, will not send event.");var u="transaction"===t.type;return!u&&"number"==typeof c&&Math.random()>c?l.a.reject("This event has been sampled, will not send event."):new l.a(function(r,l){i._prepareEvent(t,n,e).then(function(t){if(null!==t){var n=t;if(e&&e.data&&!0===e.data.__sentry__||!o||u)return i._sendEvent(n),void r(n);var c=o(t,e);if(void 0===c)s.a.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(a.m)(c))i._handleAsyncBeforeSend(c,r,l);else{if(null===(n=c))return s.a.log("`beforeSend` returned `null`, will not send event."),void r(null);i._sendEvent(n),r(n)}}else l("An event processor returned null, will not send event.")}).then(null,function(t){i.captureException(t,{data:{__sentry__:!0},originalException:t}),l("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)})})},t.prototype._handleAsyncBeforeSend=function(t,e,n){var i=this;t.then(function(t){null!==t?(i._sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")}).then(null,function(t){n("beforeSend rejected with "+t)})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},function(t,e,n){var i,r;!function(o){if(void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r),!0,t.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}return function e(n){function i(e,r,o){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},i.defaults,o)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*o.expires),o.expires=s}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(t){}r=n.write?n.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var c in o)o[c]&&(l+="; "+c,!0!==o[c]&&(l+="="+o[c]));return document.cookie=e+"="+r+l}e||(a={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),f=h.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var g=h[0].replace(d,decodeURIComponent);if(f=n.read?n.read(f,g):n(f,g)||f.replace(d,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(e===g){a=f;break}e||(a[g]=f)}catch(t){}}return a}}return i.set=i,i.get=function(t){return i.call(i,t)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(e,n){i(e,"",t(n,{expires:-1}))},i.withConverter=e,i}(function(){})})},function(t,e,n){(function(e){t.exports=e.$=n(74)}).call(this,n(24))},function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,l=o.slice,c=o.concat,u=o.push,d=o.indexOf,p={},h=p.toString,f=p.hasOwnProperty,g=f.toString,m=g.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||a).createElement("script");if(r.text=t,n)for(i in b)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function S(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[h.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(t){var e=!!t&&"length"in t&&t.length,n=S(t);return!y(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.3.1",constructor:E,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(c&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&E.isPlainObject(n)?n:{},a[e]=E.extend(c,o,i)):void 0!==i&&(a[e]=i));return a},E.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==h.call(t))&&(!(e=s(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&g.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(k(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(x,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(k(Object(t))?E.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:d.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(k(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return c.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()});var T=function(t){var e,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v,y,_,b="sizzle"+1*new Date,w=t.document,S=0,E=0,x=at(),k=at(),T=at(),C=function(t,e){return t===e&&(d=!0),0},P={}.hasOwnProperty,O=[],I=O.pop,A=O.push,M=O.push,L=O.slice,D=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+N+"*("+j+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+N+"*\\]",B=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",U=new RegExp(N+"+","g"),z=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),q=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),W=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),V=new RegExp(B),G=new RegExp("^"+j+"$"),Y={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){p()},rt=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{M.apply(O=L.call(w.childNodes),w.childNodes),O[w.childNodes.length].nodeType}catch(t){M={apply:O.length?function(t,e){A.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,s,c,u,d,f,v,y=e&&e.ownerDocument,S=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==S&&9!==S&&11!==S)return i;if(!r&&((e?e.ownerDocument||e:w)!==h&&p(e),e=e||h,g)){if(11!==S&&(d=Z.exec(t)))if(o=d[1]){if(9===S){if(!(c=e.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&_(e,c)&&c.id===o)return i.push(c),i}else{if(d[2])return M.apply(i,e.getElementsByTagName(t)),i;if((o=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!T[t+" "]&&(!m||!m.test(t))){if(1!==S)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(et,nt):e.setAttribute("id",u=b),s=(f=a(t)).length;s--;)f[s]="#"+u+" "+vt(f[s]);v=f.join(","),y=$.test(t)&&gt(e.parentNode)||e}if(v)try{return M.apply(i,y.querySelectorAll(v)),i}catch(t){}finally{u===b&&e.removeAttribute("id")}}}return l(t.replace(z,"$1"),e,i,r)}function at(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function st(t){return t[b]=!0,t}function lt(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ht(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return st(function(e){return e=+e,st(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},p=ot.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:w;return a!==h&&9===a.nodeType&&a.documentElement?(f=(h=a).documentElement,g=!o(h),w!==h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(h.getElementsByClassName),n.getById=lt(function(t){return f.appendChild(t).id=b,!h.getElementsByName||!h.getElementsByName(b).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=K.test(h.querySelectorAll))&&(lt(function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(f.compareDocumentPosition),_=e||K.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},C=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===h||t.ownerDocument===w&&_(w,t)?-1:e===h||e.ownerDocument===w&&_(w,e)?1:u?D(u,t)-D(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===h?-1:e===h?1:r?-1:o?1:u?D(u,t)-D(u,e):0;if(r===o)return ut(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ut(a[i],s[i]):a[i]===w?-1:s[i]===w?1:0},h):h},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==h&&p(t),e=e.replace(W,"='$1']"),n.matchesSelector&&g&&!T[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,h,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==h&&p(t),_(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==h&&p(t);var r=i.attrHandle[e.toLowerCase()],o=r&&P.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(C),d){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:st,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|"+N+")"+t+"("+N+"|$)"))&&x(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,p,h,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(m){if(o){for(;g;){for(p=e;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(_=(h=(c=(u=(d=(p=m)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]||[])[0]===S&&c[1])&&c[2],p=h&&m.childNodes[h];p=++h&&p&&p[g]||(_=h=0)||f.pop();)if(1===p.nodeType&&++_&&p===e){u[t]=[S,h,_];break}}else if(y&&(_=h=(c=(u=(d=(p=e)[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]||[])[0]===S&&c[1]),!1===_)for(;(p=++h&&p&&p[g]||(_=h=0)||f.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++_||(y&&((u=(d=p[b]||(p[b]={}))[p.uniqueID]||(d[p.uniqueID]={}))[t]=[S,_]),p!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?st(function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=D(t,o[a])]=!(n[i]=o[a])}):function(t){return r(t,0,n)}):r}},pseudos:{not:st(function(t){var e=[],n=[],i=s(t.replace(z,"$1"));return i[b]?st(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:st(function(t){return function(e){return ot(t,e).length>0}}),contains:st(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}}),lang:st(function(t){return G.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ht(!1),disabled:ht(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,n){return[n<0?n+e:n]}),even:ft(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ft(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ft(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:ft(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function mt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=E++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,l){var c,u,d,p=[S,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(d=e[b]||(e[b]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((c=u[o])&&c[0]===S&&c[1]===s)return p[2]=c[2];if(u[o]=p,p[2]=t(e,n,l))return!0}return!1}}function _t(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),c&&e.push(s)));return a}function wt(t,e,n,i,r,o){return i&&!i[b]&&(i=wt(i)),r&&!r[b]&&(r=wt(r,o)),st(function(o,a,s,l){var c,u,d,p=[],h=[],f=a.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!o&&e?g:bt(g,p,t,s,l),v=n?r||(o?t:f||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(c=bt(v,h),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(m[h[u]]=d));if(o){if(r||t){if(r){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(m[u]=d);r(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=r?D(o,d):p[u])>-1&&(o[c]=!(a[c]=d))}}else v=bt(v===a?v.splice(f,v.length):v),r?r(null,a,v,l):M.apply(a,v)})}function St(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,u=yt(function(t){return t===e},s,!0),d=yt(function(t){return D(e,t)>-1},s,!0),p=[function(t,n,i){var r=!a&&(i||n!==c)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])p=[yt(_t(p),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return wt(l>1&&_t(p),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(z,"$1"),n,l<r&&St(t.slice(l,r)),r<o&&St(t=t.slice(r)),r<o&&vt(t))}p.push(n)}return _t(p)}return mt.prototype=i.filters=i.pseudos,i.setFilters=new mt,a=ot.tokenize=function(t,e){var n,r,o,a,s,l,c,u=k[t+" "];if(u)return e?0:u.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(a in n&&!(r=H.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),n=!1,(r=q.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),s=s.slice(n.length)),i.filter)!(r=Y[a].exec(s))||c[a]&&!(r=c[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):k(t,l).slice(0)},s=ot.compile=function(t,e){var n,r=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=St(e[n]))[b]?r.push(s):o.push(s);(s=T(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,s,l,u){var d,f,m,v=0,y="0",_=o&&[],b=[],w=c,E=o||r&&i.find.TAG("*",u),x=S+=null==w?1:Math.random()||.1,k=E.length;for(u&&(c=a===h||a||u);y!==k&&null!=(d=E[y]);y++){if(r&&d){for(f=0,a||d.ownerDocument===h||(p(d),s=!g);m=t[f++];)if(m(d,a||h,s)){l.push(d);break}u&&(S=x)}n&&((d=!m&&d)&&v--,o&&_.push(d))}if(v+=y,n&&y!==v){for(f=0;m=e[f++];)m(_,b,a,s);if(o){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=I.call(l));b=bt(b)}M.apply(l,b),u&&!o&&b.length>0&&v+e.length>1&&ot.uniqueSort(l)}return u&&(S=x,c=w),_};return n?st(o):o}(o,r))).selector=t}return s},l=ot.select=function(t,e,n,r){var o,l,c,u,d,p="function"==typeof t&&t,h=!r&&a(t=p.selector||t);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(c.matches[0].replace(J,tt),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=Y.needsContext.test(t)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((d=i.find[u])&&(r=d(c.matches[0].replace(J,tt),$.test(l[0].type)&&gt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&vt(l)))return M.apply(n,r),n;break}}return(p||s(t,h))(r,e,!g,n,!e||$.test(t)&&gt(e.parentNode)||e),n},n.sortStable=b.split("").sort(C).join("")===b,n.detectDuplicates=!!d,p(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ct(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(n);E.find=T,E.expr=T.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=T.uniqueSort,E.text=T.getText,E.isXMLDoc=T.isXML,E.contains=T.contains,E.escapeSelector=T.escape;var C=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(n))break;i.push(t)}return i},P=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},O=E.expr.match.needsContext;function I(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(t,e,n){return y(e)?E.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?E.grep(t,function(t){return t===e!==n}):"string"!=typeof e?E.grep(t,function(t){return d.call(e,t)>-1!==n}):E.filter(e,t,n)}E.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?E.find.matchesSelector(i,t)?[i]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<i;e++)if(E.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)E.find(t,r[e],n);return i>1?E.uniqueSort(n):n},filter:function(t){return this.pushStack(M(this,t||[],!1))},not:function(t){return this.pushStack(M(this,t||[],!0))},is:function(t){return!!M(this,"string"==typeof t&&O.test(t)?E(t):t||[],!1).length}});var L,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||L,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:D.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),A.test(i[1])&&E.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=a.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,L=E(a);var R=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&E(t);if(!O.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?d.call(E(t),this[0]):d.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return C(t,"parentNode")},parentsUntil:function(t,e,n){return C(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return C(t,"nextSibling")},prevAll:function(t){return C(t,"previousSibling")},nextUntil:function(t,e,n){return C(t,"nextSibling",n)},prevUntil:function(t,e,n){return C(t,"previousSibling",n)},siblings:function(t){return P((t.parentNode||{}).firstChild,t)},children:function(t){return P(t.firstChild)},contents:function(t){return I(t,"iframe")?t.contentDocument:(I(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(t,e){E.fn[t]=function(n,i){var r=E.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=E.filter(i,r)),this.length>1&&(N[t]||E.uniqueSort(r),R.test(t)&&r.reverse()),this.pushStack(r)}});var F=/[^\x20\t\r\n\f]+/g;function B(t){return t}function U(t){throw t}function z(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(F)||[],function(t,n){e[n]=!0}),e}(t):E.extend({},t);var e,n,i,r,o=[],a=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){E.each(n,function(n,i){y(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==S(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return E.each(arguments,function(t,e){for(var n;(n=E.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return E.Deferred(function(n){E.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function a(t,e,i,r){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(t<o)){if((n=i.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(c)?r?c.call(n,a(o,e,B,r),a(o,e,U,r)):(o++,c.call(n,a(o,e,B,r),a(o,e,U,r),a(o,e,B,e.notifyWith))):(i!==B&&(s=void 0,l=[n]),(r||e.resolveWith)(s,l))}},u=r?c:function(){try{c()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,u.stackTrace),t+1>=o&&(i!==U&&(s=void 0,l=[n]),e.rejectWith(s,l))}};t?u():(E.Deferred.getStackHook&&(u.stackTrace=E.Deferred.getStackHook()),n.setTimeout(u))}}return E.Deferred(function(n){e[0][3].add(a(0,n,y(r)?r:B,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:B)),e[2][3].add(a(0,n,y(i)?i:U))}).promise()},promise:function(t){return null!=t?E.extend(t,r):r}},o={};return E.each(e,function(t,n){var a=n[2],s=n[5];r[n[1]]=a.add,s&&a.add(function(){i=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=E.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(z(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)z(r[n],a(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout(function(){throw t})};var q=E.Deferred();function W(){a.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),E.ready()}E.fn.ready=function(t){return q.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||q.resolveWith(a,[E]))}}),E.ready.then=q.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(E.ready):(a.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var V=function(t,e,n,i,r,o,a){var s=0,l=t.length,c=null==n;if("object"===S(n))for(s in r=!0,n)V(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,y(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(E(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:c?e.call(t):l?e(t[0],n):o},G=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function Q(t){return t.replace(G,"ms-").replace(Y,X)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=E.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Q(e)]=n;else for(i in e)r[Q(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Q(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Q):(e=Q(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||E.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var $=new Z,J=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return J.hasData(t)||$.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return $.access(t,e,n)},_removeData:function(t,e){$.remove(t,e)}}),E.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=J.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=Q(i.slice(5)),nt(o,i,r[i]));$.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){J.set(this,t)}):V(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=J.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){J.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){J.remove(this,t)})}}),E.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=$.get(t,e),n&&(!i||Array.isArray(n)?i=$.access(t,e,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),i=n.length,r=n.shift(),o=E._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){E.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $.get(t,n)||$.access(t,n,{empty:E.Callbacks("once memory").add(function(){$.remove(t,[e+"queue",n])})})}}),E.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):void 0===e?this:this.each(function(){var n=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=E.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=$.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&E.contains(t.ownerDocument,t)&&"none"===E.css(t,"display")},st=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=a[o];return r};function lt(t,e,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return E.css(t,e,"")},l=s(),c=n&&n[3]||(E.cssNumber[e]?"":"px"),u=(E.cssNumber[e]||"px"!==c&&+l)&&rt.exec(E.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)E.style(t,e,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,E.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ct={};function ut(t){var e,n=t.ownerDocument,i=t.nodeName,r=ct[i];return r||(e=n.body.appendChild(n.createElement(i)),r=E.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=$.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&at(i)&&(r[o]=ut(i))):"none"!==n&&(r[o]="none",$.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}E.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?E(this).show():E(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ft=/^$|^module$|\/(?:java|ecma)script/i,gt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&I(t,e)?E.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)$.set(t[n],"globalEval",!e||$.get(e[n],"globalEval"))}gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td;var yt,_t,bt=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,a,s,l,c,u,d=e.createDocumentFragment(),p=[],h=0,f=t.length;h<f;h++)if((o=t[h])||0===o)if("object"===S(o))E.merge(p,o.nodeType?[o]:o);else if(bt.test(o)){for(a=a||d.appendChild(e.createElement("div")),s=(ht.exec(o)||["",""])[1].toLowerCase(),l=gt[s]||gt._default,a.innerHTML=l[1]+E.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;E.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(e.createTextNode(o));for(d.textContent="",h=0;o=p[h++];)if(i&&E.inArray(o,i)>-1)r&&r.push(o);else if(c=E.contains(o.ownerDocument,o),a=mt(d.appendChild(o),"script"),c&&vt(a),n)for(u=0;o=a[u++];)ft.test(o.type||"")&&n.push(o);return d}yt=a.createDocumentFragment().appendChild(a.createElement("div")),(_t=a.createElement("input")).setAttribute("type","radio"),_t.setAttribute("checked","checked"),_t.setAttribute("name","t"),yt.appendChild(_t),v.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var St=a.documentElement,Et=/^key/,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,kt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Ct(){return!1}function Pt(){try{return a.activeElement}catch(t){}}function Ot(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)Ot(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ct;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return E().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),t.each(function(){E.event.add(this,e,r,i,n)})}E.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,d,p,h,f,g,m=$.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&E.find.matchesSelector(St,r),n.guid||(n.guid=E.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(F)||[""]).length;c--;)h=g=(s=kt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),h&&(d=E.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=E.event.special[h]||{},u=E.extend({type:h,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[h])||((p=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(h,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,u):p.push(u),E.event.global[h]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,c,u,d,p,h,f,g,m=$.hasData(t)&&$.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(F)||[""]).length;c--;)if(h=g=(s=kt.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=E.event.special[h]||{},p=l[h=(i?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(t,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(t,f,m.handle)||E.removeEvent(t,h,m.handle),delete l[h])}else for(h in l)E.event.remove(t,h+e[c],n,i,!0);E.isEmptyObject(l)&&$.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=E.event.fix(t),l=new Array(arguments.length),c=($.get(this,"events")||{})[s.type]||[],u=E.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=E.event.handlers.call(this,s,c),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?E(r,this).index(c)>-1:E.find(r,this,null,[c]).length),a[r]&&o.push(i);o.length&&s.push({elem:c,handlers:o})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Pt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Pt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&I(this,"input"))return this.click(),!1},_default:function(t){return I(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Et.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||E.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),E.fn.extend({on:function(t,e,n,i){return Ot(this,t,e,n,i)},one:function(t,e,n,i){return Ot(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,E(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each(function(){E.event.remove(this,t,n,e)})}});var It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,At=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return I(t,"table")&&I(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Nt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function jt(t,e){var n,i,r,o,a,s,l,c;if(1===e.nodeType){if($.hasData(t)&&(o=$.access(t),a=$.set(e,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)E.event.add(e,r,c[r][n]);J.hasData(t)&&(s=J.access(t),l=E.extend({},s),J.set(e,l))}}function Ft(t,e,n,i){e=c.apply([],e);var r,o,a,s,l,u,d=0,p=t.length,h=p-1,f=e[0],g=y(f);if(g||p>1&&"string"==typeof f&&!v.checkClone&&Mt.test(f))return t.each(function(r){var o=t.eq(r);g&&(e[0]=f.call(this,r,o.html())),Ft(o,e,n,i)});if(p&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=(a=E.map(mt(r,"script"),Rt)).length;d<p;d++)l=r,d!==h&&(l=E.clone(l,!0,!0),s&&E.merge(a,mt(l,"script"))),n.call(t[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,E.map(a,Nt),d=0;d<s;d++)l=a[d],ft.test(l.type||"")&&!$.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&E._evalUrl(l.src):w(l.textContent.replace(Lt,""),u,l))}return t}function Bt(t,e,n){for(var i,r=e?E.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||E.cleanData(mt(i)),i.parentNode&&(n&&E.contains(i.ownerDocument,i)&&vt(mt(i,"script")),i.parentNode.removeChild(i));return t}E.extend({htmlPrefilter:function(t){return t.replace(It,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l,c,u=t.cloneNode(!0),d=E.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(a=mt(u),i=0,r=(o=mt(t)).length;i<r;i++)s=o[i],l=a[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&pt.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(e)if(n)for(o=o||mt(t),a=a||mt(u),i=0,r=o.length;i<r;i++)jt(o[i],a[i]);else jt(t,u);return(a=mt(u,"script")).length>0&&vt(a,!d&&mt(t,"script")),u},cleanData:function(t){for(var e,n,i,r=E.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[$.expando]){if(e.events)for(i in e.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,e.handle);n[$.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),E.fn.extend({detach:function(t){return Bt(this,t,!0)},remove:function(t){return Bt(this,t)},text:function(t){return V(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ft(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)})},prepend:function(){return Ft(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ft(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!At.test(t)&&!gt[(ht.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Ft(this,arguments,function(e){var n=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(t){for(var n,i=[],r=E(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(r[a])[e](n),u.apply(i,n.get());return this.pushStack(i)}});var Ut=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),zt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ht=new RegExp(ot.join("|"),"i");function qt(t,e,n){var i,r,o,a,s=t.style;return(n=n||zt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||E.contains(t.ownerDocument,t)||(a=E.style(t,e)),!v.pixelBoxStyles()&&Ut.test(a)&&Ht.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Wt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",St.appendChild(c).appendChild(u);var t=n.getComputedStyle(u);i="1%"!==t.top,l=12===e(t.marginLeft),u.style.right="60%",s=36===e(t.right),r=36===e(t.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",St.removeChild(c),u=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,s,l,c=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Vt=/^(none|table(?!-c[ea]).+)/,Gt=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Qt=["Webkit","Moz","ms"],Kt=a.createElement("div").style;function Zt(t){var e=E.cssProps[t];return e||(e=E.cssProps[t]=function(t){if(t in Kt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Qt.length;n--;)if((t=Qt[n]+e)in Kt)return t}(t)||t),e}function $t(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Jt(t,e,n,i,r,o){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=E.css(t,n+ot[a],!0,r)),i?("content"===n&&(l-=E.css(t,"padding"+ot[a],!0,r)),"margin"!==n&&(l-=E.css(t,"border"+ot[a]+"Width",!0,r))):(l+=E.css(t,"padding"+ot[a],!0,r),"padding"!==n?l+=E.css(t,"border"+ot[a]+"Width",!0,r):s+=E.css(t,"border"+ot[a]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-s-.5))),l}function te(t,e,n){var i=zt(t),r=qt(t,e,i),o="border-box"===E.css(t,"boxSizing",!1,i),a=o;if(Ut.test(r)){if(!n)return r;r="auto"}return a=a&&(v.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===E.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(r=parseFloat(r)||0)+Jt(t,e,n||(o?"border":"content"),a,i,r)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=Q(e),l=Gt.test(e),c=t.style;if(l||(e=Zt(s)),a=E.cssHooks[e]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:c[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var r,o,a,s=Q(e);return Gt.test(e)||(e=Zt(s)),(a=E.cssHooks[e]||E.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=qt(t,e,i)),"normal"===r&&e in Xt&&(r=Xt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,n,i){if(n)return!Vt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):st(t,Yt,function(){return te(t,e,i)})},set:function(t,n,i){var r,o=zt(t),a="border-box"===E.css(t,"boxSizing",!1,o),s=i&&Jt(t,e,i,a,o);return a&&v.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Jt(t,e,"border",!1,o)-.5)),s&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=E.css(t,e)),$t(0,n,s)}}}),E.cssHooks.marginLeft=Wt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(E.cssHooks[t+e].set=$t)}),E.fn.extend({css:function(t,e){return V(this,function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=zt(t),r=e.length;a<r;a++)o[e[a]]=E.css(t,e[a],!1,i);return o}return void 0!==n?E.style(t,e,n):E.css(t,e)},t,e,arguments.length>1)}}),E.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[E.cssProps[t.prop]]&&!E.cssHooks[t.prop]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=ee.prototype.init,E.fx.step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){ie&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,E.fx.interval),E.fx.tick())}function se(){return n.setTimeout(function(){ne=void 0}),ne=Date.now()}function le(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ce(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,a=ue.prefilters.length,s=E.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ne||se(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(i);return s.notifyWith(t,[c,i,n]),i<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||se(),duration:n.duration,tweens:[],createTween:function(e,n){var i=E.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),u=c.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=Q(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=E.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,c.opts.specialEasing);o<a;o++)if(i=ue.prefilters[o].call(c,t,u,c.opts))return y(i.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return E.map(u,ce,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,s,l,c,u,d="width"in e||"height"in e,p=this,h={},f=t.style,g=t.nodeType&&at(t),m=$.get(t,"fxshow");for(i in n.queue||(null==(a=E._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,E.queue(t,"fx").length||a.empty.fire()})})),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}h[i]=m&&m[i]||E.style(t,i)}if((l=!E.isEmptyObject(e))||!E.isEmptyObject(h))for(i in d&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=m&&m.display)&&(c=$.get(t,"display")),"none"===(u=E.css(t,"display"))&&(c?u=c:(dt([t],!0),c=t.style.display||c,u=E.css(t,"display"),dt([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===E.css(t,"float")&&(l||(p.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(g=m.hidden):m=$.access(t,"fxshow",{display:c}),o&&(m.hidden=!g),g&&dt([t],!0),p.done(function(){for(i in g||dt([t]),$.remove(t,"fxshow"),h)E.style(t,i,h[i])})),l=ce(g?m[i]:0,i,p),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),E.speed=function(t,e,n){var i=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(t,e,n,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=E.isEmptyObject(t),o=E.speed(e,n,i),a=function(){var e=ue(this,E.extend({},t),o);(r||$.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=E.timers,a=$.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&oe.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||E.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=$.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=E.timers,a=i?i.length:0;for(n.finish=!0,E.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(t,e){var n=E.fn[e];E.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(le(e,!0),t,i,r)}}),E.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),ne=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ie||(ie=!0,ae())},E.fx.stop=function(){ie=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var de,pe=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return V(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=E.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&I(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var n=pe[e]||E.find.attr;pe[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=pe[a],pe[a]=r,r=null!=n(t,e,i)?a:null,pe[a]=o),r}});var he=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ve(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}E.fn.extend({prop:function(t,e){return V(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):he.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,me(this)))});if((e=ve(t)).length)for(;n=this[l++];)if(r=me(n),i=1===n.nodeType&&" "+ge(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(s=ge(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=ve(t)).length)for(;n=this[l++];)if(r=me(n),i=1===n.nodeType&&" "+ge(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(s=ge(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){E(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,r,o,a;if(i)for(r=0,o=E(this),a=ve(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=me(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":$.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ge(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;E.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,E(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=E.map(r,function(t){return null==t?"":t+""})),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:ge(E.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?o+1:r.length;for(i=o<0?l:a?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!I(n.parentNode,"optgroup"))){if(e=E(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=E.makeArray(e),a=r.length;a--;)((i=r[a]).selected=E.inArray(E.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var _e=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,i,r){var o,s,l,c,u,d,p,h,g=[i||a],m=f.call(t,"type")?t.type:t,v=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=l=i=i||a,3!==i.nodeType&&8!==i.nodeType&&!_e.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(t=t[E.expando]?t:new E.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:E.makeArray(e,[t]),p=E.event.special[m]||{},r||!p.trigger||!1!==p.trigger.apply(i,e))){if(!r&&!p.noBubble&&!_(i)){for(c=p.delegateType||m,_e.test(c+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),l=s;l===(i.ownerDocument||a)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(s=g[o++])&&!t.isPropagationStopped();)h=s,t.type=o>1?c:p.bindType||m,(d=($.get(s,"events")||{})[t.type]&&$.get(s,"handle"))&&d.apply(s,e),(d=u&&s[u])&&d.apply&&K(s)&&(t.result=d.apply(s,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),e)||!K(i)||u&&y(i[m])&&!_(i)&&((l=i[u])&&(i[u]=null),E.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,be),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,be),E.event.triggered=void 0,l&&(i[u]=l)),t.result}},simulate:function(t,e,n){var i=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(i,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=$.access(i,e);r||i.addEventListener(t,n,!0),$.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=$.access(i,e)-1;r?$.access(i,e,r):(i.removeEventListener(t,n,!0),$.remove(i,e))}}});var we=n.location,Se=Date.now(),Ee=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var xe=/\[\]$/,ke=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,n,i){var r;if(Array.isArray(e))E.each(e,function(e,r){n||xe.test(t)?i(t,r):Pe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==S(e))i(t,e);else for(r in e)Pe(t+"["+r+"]",e[r],n,i)}E.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){r(this.name,this.value)});else for(n in t)Pe(n,t[n],e,r);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Ce.test(this.nodeName)&&!Te.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:n.replace(ke,"\r\n")}}).get()}});var Oe=/%20/g,Ie=/#.*$/,Ae=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,De=/^\/\//,Re={},Ne={},je="*/".concat("*"),Fe=a.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ue(t,e,n,i){var r={},o=t===Ne;function a(s){var l;return r[s]=!0,E.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}return a(e.dataTypes[0])||!r["*"]&&a("*")}function ze(t,e){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&E.extend(!0,t,i),t}Fe.href=we.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ze(ze(t,E.ajaxSettings),e):ze(E.ajaxSettings,t)},ajaxPrefilter:Be(Re),ajaxTransport:Be(Ne),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,l,c,u,d,p,h,f=E.ajaxSetup({},e),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?E(g):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),_=f.statusCode||{},b={},w={},S="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(u){if(!s)for(s={};e=Me.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(t,e){return null==u&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)x.always(t[x.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||S;return i&&i.abort(e),k(0,e),this}};if(v.promise(x),f.url=((t||f.url||we.href)+"").replace(De,we.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(F)||[""],null==f.crossDomain){c=a.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Fe.protocol+"//"+Fe.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=E.param(f.data,f.traditional)),Ue(Re,f,e,x),u)return x;for(p in(d=E.event&&f.global)&&0==E.active++&&E.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Le.test(f.type),r=f.url.replace(Ie,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Oe,"+")):(h=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Ee.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ae,"$1"),h=(Ee.test(r)?"&":"?")+"_="+Se+++h),f.url=r+h),f.ifModified&&(E.lastModified[r]&&x.setRequestHeader("If-Modified-Since",E.lastModified[r]),E.etag[r]&&x.setRequestHeader("If-None-Match",E.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+je+"; q=0.01":""):f.accepts["*"]),f.headers)x.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(g,x,f)||u))return x.abort();if(S="abort",y.add(f.complete),x.done(f.success),x.fail(f.error),i=Ue(Ne,f,e,x)){if(x.readyState=1,d&&m.trigger("ajaxSend",[x,f]),u)return x;f.async&&f.timeout>0&&(l=n.setTimeout(function(){x.abort("timeout")},f.timeout));try{u=!1,i.send(b,k)}catch(t){if(u)throw t;k(-1,t)}}else k(-1,"No Transport");function k(t,e,a,s){var c,p,h,b,w,S=e;u||(u=!0,l&&n.clearTimeout(l),i=void 0,o=s||"",x.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(b=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,x,a)),b=function(t,e,n,i){var r,o,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,b,x,c),c?(f.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(E.lastModified[r]=w),(w=x.getResponseHeader("etag"))&&(E.etag[r]=w)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=b.state,p=b.data,c=!(h=b.error))):(h=S,!t&&S||(S="error",t<0&&(t=0))),x.status=t,x.statusText=(e||S)+"",c?v.resolveWith(g,[p,S,x]):v.rejectWith(g,[x,S,h]),x.statusCode(_),_=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[x,f,c?p:h]),y.fireWith(g,[x,S]),d&&(m.trigger("ajaxComplete",[x,f]),--E.active||E.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,e){E[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),E.ajax(E.extend({url:t,type:e,dataType:r,data:n,success:i},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){E(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var He={0:200,1223:204},qe=E.ajaxSettings.xhr();v.cors=!!qe&&"withCredentials"in qe,v.ajax=qe=!!qe,E.ajaxTransport(function(t){var e,i;if(v.cors||qe&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a]);e=function(t){return function(){e&&(e=i=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(He[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),i=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=E("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var We,Ve=[],Ge=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||E.expando+"_"+Se++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,a,s=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ge,"$1"+r):!1!==t.jsonp&&(t.url+=(Ee.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||E.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){a=arguments},i.always(function(){void 0===o?E(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(r)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),v.createHTMLDocument=((We=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(i)):e=a),r=A.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&E(o).remove(),E.merge([],r.childNodes)));var i,r,o},E.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=ge(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?E("<div>").append(E.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,c=E.css(t,"position"),u=E(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),o=E.css(t,"top"),l=E.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,n,E.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+r),"using"in e?e.using.call(t,d):u.css(d)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(i,"marginTop",!0),left:e.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||St})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;E.fn[t]=function(i){return V(this,function(t,i,r){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),E.each(["top","left"],function(t,e){E.cssHooks[e]=Wt(v.pixelPosition,function(t,n){if(n)return n=qt(t,e),Ut.test(n)?E(t).position()[e]+"px":n})}),E.each({Height:"height",Width:"width"},function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){E.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border");return V(this,function(e,n,r){var o;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?E.css(e,n,s):E.style(e,n,r,s)},e,a?r:void 0,a)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){E.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=I,E.isFunction=y,E.isWindow=_,E.camelCase=Q,E.type=S,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return E}.apply(e,[]))||(t.exports=i);var Ye=n.jQuery,Xe=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=Xe),t&&n.jQuery===E&&(n.jQuery=Ye),E},r||(n.jQuery=n.$=E),E})},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n(0),r=n(40),o=n(21),a=n(2),s=n(41),l=n(17),c=n(11),u=n(33),d=Object(a.f)(),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return i.b(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n=Object(r.a)(t,this._api),i={body:n.body,method:"POST",referrerPolicy:Object(s.d)()?"origin":""};return void 0!==this.options.headers&&(i.headers=this.options.headers),this._buffer.add(new l.a(function(t,r){d.fetch(n.url,i).then(function(n){var i=o.a.fromHttpCode(n.status);if(i!==o.a.Success){if(i===o.a.RateLimit){var s=Date.now();e._disabledUntil=new Date(s+Object(a.j)(s,n.headers.get("Retry-After"))),c.a.warn("Too many requests, backing off till: "+e._disabledUntil)}r(n)}else t({status:i})}).catch(r)}))},e}(u.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),r=n(40),o=n(21),a=n(17),s=n(2),l=n(11),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return i.b(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n=Object(r.a)(t,this._api);return this._buffer.add(new a.a(function(t,i){var r=new XMLHttpRequest;for(var a in r.onreadystatechange=function(){if(4===r.readyState){var n=o.a.fromHttpCode(r.status);if(n!==o.a.Success){if(n===o.a.RateLimit){var a=Date.now();e._disabledUntil=new Date(a+Object(s.j)(a,r.getResponseHeader("Retry-After"))),l.a.warn("Too many requests, backing off till: "+e._disabledUntil)}i(r)}else t({status:n})}},r.open("POST",n.url),e.options.headers)e.options.headers.hasOwnProperty(a)&&r.setRequestHeader(a,e.options.headers[a]);r.send(n.body)}))},e}(n(33).a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.tool=null,this.subtool=null,this.config=null,Object.assign(this,t)}return t.prototype.getConfig=function(t){return this.subtool in this.config&&t in this.config[this.subtool]?this.config[this.subtool][t]:this.tool in this.config&&t in this.config[this.tool]?this.config[this.tool][t]:this.config.default[t]},t}();e.Config=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),a=n(182),s=n(184),l=n(185),c=n(97),u=n(186),d=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="PackagesContext",n.requestedAction=e.requestedAction,n.neededNumberOfPkgItems=e.neededNumberOfPkgItems,n.creditType=e.creditType,n}return r(e,t),e.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new c.AuthState},e.prototype._getInitialState=function(){switch(this.requestedAction){case"selectPackageCerts":return new a.SelectPackageCertsState;case"selectPackageSignatures":return new s.SelectPackageSignaturesState;case"selectPackageSms":return new l.SelectPackageSmsState;case"notEnoughCredits":return new u.NotEnoughCreditsState;default:throw"Requested Action '"+this.requestedAction+"' is not handled"}throw"Not implemented 'initialState' when userType is "+this.userType},e}(o.ContextBase);e.PackagesContext=d},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(){}return e.disable=function(e){t(e).hover(function(){var e=t(this).attr("data-title");if(void 0===e||!1===e){var n=t(this).attr("title");t(this).attr("data-title",n)}t(this).attr("title","")},function(){var e=t(this).attr("data-title");t(this).attr("title",e)})},e}();e.LinkTitle=n}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(29),o=n(53),a=function(){function e(){var t=this;this.eventEmitter=new r.ILoveEventEmitter,this.dispatchEvent=function(e){return t.eventEmitter.dispatchEvent(e)}}return e.open=function(t,n,i){void 0===n&&(n={});var r=e.instance;r.popup&&(clearInterval(r.popupInterval),r.popupInterval=null,r.popup.close(),r.popup=null);var o=r.mergeWindowFeatureProps(n,!0),a="/auth/auth?authclient="+String(t);r.popup=window.open(a,"social_auth_popup",o);var s=r.popup;window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupOpened=!0;var l=function(){window.ilove_socialAuthPopupStatus;var t=window.ilove_socialAuthPopupNewUser;window.ilove_socialAuthPopupOpened=!1,window.ilove_socialAuthPopupStatus=void 0,window.ilove_socialAuthPopupNewUser=void 0,r.popupInterval=null,r.onPopupClosed(t,i),r.popup=null};return new Promise(function(t,e){r.popupInterval=setInterval(function(){var n=r.popup&&!r.popup.closed,i=!1;try{var o=r.popup.location.hostname,a=null!==r.popup.location.href.match("social-login-redirect");i=o===window.location.hostname&&!a}catch(t){}if(!n||s!==r.popup||i)if(clearInterval(r.popupInterval),i)var c=setInterval(function(){r.popup.addEventListener&&(clearInterval(c),r.popup.addEventListener("DOMContentLoaded",function(){var t,n,i=null===(n=null===(t=r.popup)||void 0===t?void 0:t.document)||void 0===n?void 0:n.body;i.style.display="none";var o=Array.from(i.querySelectorAll(".flash")).map(function(t){return t.innerText});r.popup.close(),l(),e({errors:o})}))});else l(),t({})})})},e.focusWindow=function(){var t;null===(t=e.instance.popup)||void 0===t||t.focus()},e.closeWindow=function(){var t;null===(t=e.instance.popup)||void 0===t||t.close()},e.prototype.onPopupClosed=function(n,r){var a,s=this,l=null!==(a=null===r||void 0===r?void 0:r.getAttribute(e.runningFromAttr))&&void 0!==a?a:"auth";n&&o.UserAuth.sendGA_registered(l),t.get("/login").done(function(t){s.userAuth=new o.UserAuth({runningFrom:l}),s.userAuth.loginSuccess(t);var e={socialAuth_isNewUser:n},r=new CustomEvent("userAuth",{detail:e});window.dispatchEvent(r),s.dispatchEvent(new i.IloveEvent("auth:success",e))}).fail(function(t,e,n){})},Object.defineProperty(e,"instance",{get:function(){return window.ilove_socialAuthPopupInstance||(window.ilove_socialAuthPopupInstance=new e),window.ilove_socialAuthPopupInstance},enumerable:!0,configurable:!0}),e.prototype.mergeWindowFeatureProps=function(t,e){void 0===e&&(e=!1);var n=Object.assign({resizable:"yes",scrollbars:"no",toolbar:"no",menubar:"no",location:"no",directories:"no",status:"yes",width:450,height:380,left:null,top:null},t);if(n.left=(window.innerWidth-n.width)/2,n.top=(window.innerHeight-n.height)/2,e){var i=[];for(var r in n)n.hasOwnProperty(r)&&i.push(r+"="+n[r]);return i.join(",")}return n},e.runningFromAttr="data-running-from",e.addEventListener=function(t,n){return e.instance.eventEmitter.addEventListener(t,n)},e}();e.SocialAuthPopup=a}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(112),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CannotTrialState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"boxes"},currentPaymentMethod:e.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:e.t("paymentButtonText")},{name:"paypal"}]}).then(e._onAbstractPaymentInited)},e._onPaymentSuccess=function(t){var n="dialog"===e.ctx.getContextPlacement()?"popup":"auth";window.ga("send","event","user","premium",n);var i=new o.SubscriptionSuccessState;e.ctx.changeState(i),i.render(e.domRoot)},e._onPaymentFailed=function(t){},e._onAbstractPaymentInited=function(){setTimeout(e.clearLoadingScreen,150)},e}return r(e,t),e}(n(51).AbstractPaymentState);e.CannotTrialState=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(51),a=n(117),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CanTrialState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initAbstractPayment({paymentAction:"become_premium",paymentInterval:{type:"gui",gui:"radio"},currentPaymentMethod:e.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:e.t("paymentButtonText")},{name:"paypal"}]}).then(e._onAbstractPaymentInited)},e._onPaymentSuccess=function(t,n){var i="dialog"===e.ctx.getContextPlacement()?"popup":"auth";window.ga("send","event","user","premium",i);var r=new a.TrialSuccessState;e.ctx.changeState(r),r.render(e.domRoot)},e._onPaymentFailed=function(t,e){},e._onAbstractPaymentInited=function(){setTimeout(e.clearLoadingScreen,150)},e}return r(e,t),e}(o.AbstractPaymentState);e.CanTrialState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="PremiumState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){},e}return r(e,t),e.prototype.render=function(t){this.dispatchEvent(new o.IloveEvent("end"))},e}(n(10).StateBase);e.PremiumState=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(263),a=n(266),s=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return r(e,t),e.prototype.initViewManager=function(){this.viewManager=new a.ViewManager({tool:this.tool,subtool:this.subtool,files:this.files,processManager:this.processManager})},e.prototype.fileReady=function(e){t.prototype.fileReady.call(this,e),this.setOption("width",e.width),this.setOption("height",e.height),this.printOption("original-width",e.width),this.printOption("original-height",e.height)},e.prototype.fileAdded=function(e,n,i){return void 0===i&&(i=!1),null==this.viewManager&&this.init(),t.prototype.fileAdded.call(this,e,n,i)},e.prototype.tryInitByParent=function(){t.prototype.tryInitByParent.call(this)},e}(o.OptionsManager);e.OptionsManager=s},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(1),n(86)],void 0===(o="function"==typeof(i=function(t,e){t.tinysort={defaults:e.defaults},t.fn.extend({tinysort:function(){var t,n,i=Array.prototype.slice.call(arguments);i.unshift(this),t=e.apply(null,i),n=t.length;for(var r=0,o=this.length;r<o;r++)r<n?this[r]=t[r]:delete this[r];return this.length=n,this}}),t.fn.tsort=t.fn.tinysort})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r;!function(o,a){"use strict";void 0===(r="function"==typeof(i=function(){return a})?i.call(e,n,e,t):i)||(t.exports=r)}(0,function(){"use strict";var t,e,n=!1,i=null,r=window,o=r.document,a=parseFloat,s=/(-?\d+\.?\d*)\s*$/g,l=/(\d+\.?\d*)\s*$/g,c=[],u=0,d=0,p=String.fromCharCode(4095),h={selector:i,order:"asc",attr:i,data:i,useVal:n,place:"org",returns:n,cases:n,natural:n,forceStrings:n,ignoreDashes:n,sortFunction:i,useFlex:n,emptyEnd:n};function f(t,e){for(var n,i=t.length,r=i;r--;)e(t[n=i-r-1],n)}function g(e,n,i){for(var r in n)(i||e[r]===t)&&(e[r]=n[r]);return e}function m(t,e,n){c.push({prepare:t,sort:e,sortBy:n})}return r.Element&&((e=Element.prototype).matchesSelector=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(t){for(var e=(this.parentNode||this.document).querySelectorAll(t),n=-1;e[++n]&&e[n]!=this;);return!!e[n]}),g(m,{loop:f}),g(function(e,r){D(e)&&(e=o.querySelectorAll(e)),e.length;var m,v,y=o.createDocumentFragment(),_=[],b=[],w=[],S=[],E=!0,x=e.length&&e[0].parentNode,k=x.rootNode!==document,T=e.length&&(r===t||!1!==r.useFlex)&&!k&&-1!==getComputedStyle(x,null).display.indexOf("flex");function C(t){var e=!!t.selector,n=e&&":"===t.selector[0],r=g(t||{},h);S.push(g({hasSelector:e,hasAttr:!(r.attr===i||""===r.attr),hasData:r.data!==i,hasFilter:n,sortReturnNumber:"asc"===r.order?1:-1},r))}function P(t,e,n){for(var i=n(t.toString()),r=n(e.toString()),o=0;i[o]&&r[o];o++)if(i[o]!==r[o]){var a=Number(i[o]),s=Number(r[o]);return a==i[o]&&s==r[o]?a-s:i[o]>r[o]?1:-1}return i.length-r.length}function O(t){for(var e,n,i=[],r=0,o=-1,a=0;e=(n=t.charAt(r++)).charCodeAt(0);){var s=46==e||e>=48&&e<=57;s!==a&&(i[++o]="",a=s),i[o]+=n}return i}function I(){return b.forEach(function(t){y.appendChild(t.elm)}),y}function A(t){var e=t.elm,n=o.createElement("div");return t.ghost=n,e.parentNode.insertBefore(n,e),t}function M(t,e){var n=t.ghost,i=n.parentNode;i.insertBefore(e,n),i.removeChild(n),delete t.ghost}function L(t,e){var n,r=t.elm;return e.selector&&(e.hasFilter?r.matchesSelector(e.selector)||(r=i):r=r.querySelector(e.selector)),e.hasAttr?n=r.getAttribute(e.attr):e.useVal?n=r.value||r.getAttribute("value"):e.hasData?n=r.getAttribute("data-"+e.data):r&&(n=r.textContent),D(n)&&(e.cases||(n=n.toLowerCase()),n=n.replace(/\s+/g," ")),null===n&&(n=p),n}function D(t){return"string"==typeof t}return function(){0===arguments.length?C({}):f(arguments,function(t){C(D(t)?{selector:t}:t)}),u=S.length}.apply(i,Array.prototype.slice.call(arguments,1)),f(e,function(t,e){v?v!==t.parentNode&&(E=!1):v=t.parentNode;var n=S[0],i=n.hasFilter,r=n.selector,o=!r||i&&t.matchesSelector(r)||r&&t.querySelector(r),a=o?b:w,s={elm:t,pos:e,posn:a.length};_.push(s),a.push(s)}),m=b.slice(0),b.sort(function(e,i){var r=0;for(0!==d&&(d=0);0===r&&d<u;){var o=S[d],p=o.ignoreDashes?l:s;if(f(c,function(t){var e=t.prepare;e&&e(o)}),o.sortFunction)r=o.sortFunction(e,i);else if("rand"==o.order)r=Math.random()<.5?1:-1;else{var h=n,g=L(e,o),m=L(i,o),v=""===g||g===t,y=""===m||m===t;if(g===m)r=0;else if(o.emptyEnd&&(v||y))r=v&&y?0:v?1:-1;else{if(!o.forceStrings){var _=D(g)?g&&g.match(p):n,b=D(m)?m&&m.match(p):n;if(_&&b){var w=g.substr(0,g.length-_[0].length),E=m.substr(0,m.length-b[0].length);w==E&&(h=!n,g=a(_[0]),m=a(b[0]))}}r=g===t||m===t?0:o.natural&&(isNaN(g)||isNaN(m))?P(g,m,O):g<m?-1:g>m?1:0}}f(c,function(t){var e=t.sort;e&&(r=e(o,h,g,m,r))}),0==(r*=o.sortReturnNumber)&&d++}return 0===r&&(r=e.pos>i.pos?1:-1),r}),function(){var t=b.length===_.length;if(E&&t)T?b.forEach(function(t,e){t.elm.style.order=e}):v&&v.appendChild(I());else{var e=S[0],n=e.place,i="org"===n,r="start"===n,o="end"===n,a="first"===n,s="last"===n;if(i)b.forEach(A),b.forEach(function(t,e){M(m[e],t.elm)});else if(r||o){var l=m[r?0:m.length-1],c=l&&l.elm.parentNode,u=c&&(r&&c.firstChild||c.lastChild);u&&(u!==l.elm&&(l={elm:u}),A(l),o&&c.appendChild(l.ghost),M(l,I()))}else if(a||s){var d=m[a?0:m.length-1];M(A(d),I())}}}(),b.map(function(t){return t.elm})},{plugin:m,defaults:h})}())},function(t,e,n){(function(t,e){e.fn.preventDoubleSubmission=function(e){return t(this).on("submit",function(n){var i=t(this);!0===i.data("submitted")?(n.preventDefault(),i.find('[type="submit"]').attr("disabled",!0)):(i.data("submitted",!0),e>1&&(i.find('[type="submit"]').attr("disabled",!0),window.setTimeout(function(){i.data("submitted",!1),i.find('[type="submit"]').attr("disabled",null)},e)))}),this}}).call(this,n(1),n(1))},function(t){t.exports={development:{service:"https://servicedev.ilovepdf.com",service_subdomain:"servicedev",web_prefix:"dev",api_sufix:"dev",stripe_key:"pk_test_3QB411Rie7QKjMhfSA0oiEOx",paypal_env:"sandbox",paypal_sandbox_key:"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr",paypal_production_key:"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},staging:{service:"https://servicestaging.ilovepdf.com",service_subdomain:"servicestaging",web_prefix:"staging",api_sufix:"dev",stripe_key:"pk_test_3QB411Rie7QKjMhfSA0oiEOx",stripe_key_api:"pk_test_mDCbsVuNmGS4QIePyxrnLexu",paypal_env:"sandbox",paypal_sandbox_key:"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr",paypal_production_key:"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"},production:{service:"https://service.ilovepdf.com",service_subdomain:"service",web_prefix:"www",api_sufix:"",stripe_key:"pk_live_yt4GO14tITBDJGQFVBSAbkaT",stripe_key_api:"pk_live_epWBEsOopGb3Oo75Y6YzAbTP",paypal_env:"production",paypal_sandbox_key:"AZ1YHzR1wxJRRmfpqDHyoTwxfOwxB3UTlewVDk-1o6iZQX9SOCVHUpurugviVCowIPGCQ-SsTfbN8ubr",paypal_production_key:"AZRtaJu6iBHsygDFp5OMdCQabjEStco4pfXUdP1SnMGLnpLQdl84xBjXYIMyqY-6pyVKAj-muy5ZeMpv"}}},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),a=n(118),s=n(150),l=n(155),c=n(92),u=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="SubscriptionContext",n.requestedAction=e.requestedAction,n.neededSignatures=e.neededSignatures,n.summaryParams={numUsers:void 0,numSignatures:void 0,paymentInterval:void 0},n}return r(e,t),e.prototype.getInitialState=function(){return this.isLoggedIn()?this.calculateNextStateAfterAuth():new a.AuthState},e.prototype.calculateNextStateAfterAuth=function(){if(!("premium"===this.userType))throw"User must be premium to update a subscription";switch(this.requestedAction){case"selectUsers":return new s.SelectUsersState;case"selectSignatures":return new l.SelectSignaturesState;case"summary":return new c.SummaryState;default:throw"Requested Action '"+this.requestedAction+"' is not handled"}return null},e}(o.ContextBase);e.SubscriptionContext=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(36),l=n(51),c=n(119),u=n(154),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SummaryState",e.LAYOUT_TEMPLATE_NAME="subscription-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initBackAction();var t=new s.UserPayment,n=e.renderSummary(t),i=e.initAbstractPayment({paymentAction:"subsc_update",userPayment:t,currentPaymentMethod:e.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:e.t("paymentButtonText")},{name:"paypal"}],numSignatures:function(){return e.ctx.summaryParams.numSignatures},numUsers:function(){return e.ctx.summaryParams.numUsers},paymentInterval:{type:"predefined",value:e.ctx.summaryParams.paymentInterval}});Promise.all([n,i]).then(e._onEverythingReady)},e._onEverythingReady=function(){setTimeout(e.clearLoadingScreen,150)},e._onPaymentSuccess=function(t){if(e.ctx.summaryParams.numSignatures){var n=e.ctx.summaryParams.numSignatures;window.ga("send","event","premium","signatures",String(n))}var i=new u.PaymentCompletedState;e.ctx.changeState(i),i.render(e.domRoot)},e._onPaymentFailed=function(t){},e._goBackState=function(){e.cleanUpState(),e.ctx.goToPreviousState().render(e.domRoot)},e}return r(e,t),e.prototype.renderSummary=function(t){return o(this,void 0,void 0,function(){var e=this;return a(this,function(n){return t.getPaymentSummary_updateSubscription(this.ctx.summaryParams.numSignatures,this.ctx.summaryParams.numUsers,this.ctx.summaryParams.paymentInterval).then(function(t){new c.SummaryBuilder(e.getSummaryTemplate_html(),t).setTexts({current:e.t("currentSubscription"),new:e.t("newSubscription")}).render(e.summariesDomRoot,e.summaryWarningTextDomRoot)}).catch(function(t){}),[2]})})},e.prototype.getSummaryTemplate_html=function(){if(this._summaryTemplate_html)return this._summaryTemplate_html;var t=this.domStateRoot.querySelector("template.summary-template");if(!t)throw"template.summary-template not found";return this._summaryTemplate_html=t.innerHTML,this._summaryTemplate_html},Object.defineProperty(e.prototype,"summariesDomRoot",{get:function(){var t=this.domStateRoot.querySelector(".summaries-root");if(!t)throw".summaries-root not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"summaryWarningTextDomRoot",{get:function(){var t=this.domStateRoot.querySelector(".summary__warning-text");if(!t)throw".summary__warning-text not found";return t},enumerable:!0,configurable:!0}),e.prototype.cleanUpState=function(){this.summariesDomRoot.innerHTML="",this.domRoot.querySelectorAll(".payment__mountpoint").forEach(function(t){return t.innerHTML=""}),this.goBackBtn.removeEventListener("click",this._goBackState)},e.prototype.initBackAction=function(){this.ctx.canGoToAPreviousState()?(this.goBackBtn.style.display="",this.goBackBtn.addEventListener("click",this._goBackState)):this.goBackBtn.style.display="none"},Object.defineProperty(e.prototype,"goBackBtn",{get:function(){var t=this.domRoot.querySelector(".dialog__back");if(!t)throw"Go Back btn not found";return t},enumerable:!0,configurable:!0}),e}(l.AbstractPaymentState);e.SummaryState=d},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.make=function(e){return void 0===e&&(e=null),null==e&&(e=t.uuid()),'\n    <div class="signature__firm__by">\n    <svg xmlns="http://www.w3.org/2000/svg" width="7" height="10" fill="#0062c5" fill-rule="nonzero"><path d="M.13 5.068L0 9.713c-.001.04.03.07.07.072.026.001.05-.013.063-.035l1.494-2.57c-.28-.263-.357-.692-.156-1.038.235-.405.757-.543 1.165-.3s.548.752.313 1.157a.85.85 0 0 1-.982.385l-1.5 2.563a.07.07 0 0 0 .026.096c.022.013.05.013.072-.001l3.977-2.427a.42.42 0 0 0 .2-.317l.3-2.858a.42.42 0 0 0-.21-.407L3.1 3.034c-.145-.083-.325-.074-.46.023L.307 4.738a.42.42 0 0 0-.176.33zm5.276-1.08L2.864 2.53c-.135-.078-.166-.277-.068-.445l.575-1c.098-.168.287-.24.422-.164L6.335 2.4c.135.078.166.277.068.445l-.575 1c-.098.168-.287.24-.422.164z"/></svg>\n        SIGNED VIA ILOVEPDF\n        </div>\n        <div class="signature__firm__code">\n            '+e+"\n            </div>\n    "},t.uuidv4=function(){return"object"!=typeof crypto?"1111-1111-1111-1111":([1e7]+(-1e3).toString()+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})},t.uuid=function(){return t.uuidv4()},t}();e.Frame=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.getBase64=function(t,e){return void 0===e&&(e=!1),new Promise(function(n,i){var r=new FileReader,o=null;r.readAsDataURL(t.getNative()),r.onerror=function(t){},r.onload=function(){o=r.result,1!=e?(o=o.substring(o.indexOf(",")+1),n(o)):n(o)}})},t.urlToBase64=function(t){return new Promise(function(e,n){var i=new XMLHttpRequest;i.onload=function(){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(i.response)},i.onerror=function(t){},i.open("GET",t),i.responseType="blob",i.send()})},t.preload=function(t){(new Image).src=t},t.calculateAspectRatioFit=function(t,e,n,i){var r=Math.min(n/t,i/e);return{width:t*r,height:e*r}},t}();e.ImageHelper=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(183),l=n(51),c=n(36),u=n(119),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SummaryState",e.LAYOUT_TEMPLATE_NAME="packages",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initBackAction();var t=new c.UserPayment,n=e.renderSummary(t),i=e.initAbstractPayment({paymentAction:"pay_package",userPayment:t,currentPaymentMethod:e.ctx.userCurrentPaymentMethod,paymentProviderProps:[{name:"stripe",paymentButtonText:e.t("paymentButtonText")},{name:"paypal"}],package:{name:e.ctx.summaryParams.packageName,qty:e.ctx.summaryParams.packageQty}});Promise.all([n,i]).then(e._onEverythingReady)},e._onPaymentSuccess=function(t){var n=e.ctx.summaryParams,i=n.packageName,r=n.packageQty;window.ga("send","event","payment",i,String(r));var o=new s.PaymentCompletedState;e.ctx.changeState(o),o.render(e.domRoot)},e._onPaymentFailed=function(t){},e._onEverythingReady=function(){setTimeout(e.clearLoadingScreen,150)},e._goBackState=function(){e.cleanUpState(),e.ctx.goToPreviousState().render(e.domRoot)},e._goNextState=function(){var t=new s.PaymentCompletedState;e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e.prototype.renderSummary=function(t){return o(this,void 0,void 0,function(){var e,n,i=this;return a(this,function(r){return e=t.getPaymentSummary_package(this.ctx.summaryParams.packageName,this.ctx.summaryParams.packageQty),n=this.domStateRoot.querySelector(".summary-template").innerHTML,e.then(function(t){new u.SummaryBuilder(n,t).setTexts({new:i.t("purchaseDetails")}).render(i.summariesDomRoot)}).catch(function(t){}),[2]})})},Object.defineProperty(e.prototype,"summariesDomRoot",{get:function(){var t=this.domStateRoot.querySelector(".summaries-root");if(!t)throw"summariesDomRoot not found";return t},enumerable:!0,configurable:!0}),e.prototype.cleanUpState=function(){this.summariesDomRoot.innerHTML="",this.domRoot.querySelectorAll(".payment__mountpoint").forEach(function(t){return t.innerHTML=""}),this.goBackBtn.removeEventListener("click",this._goBackState)},e.prototype.initBackAction=function(){this.ctx.canGoToAPreviousState()?(this.goBackBtn.style.display="",this.goBackBtn.addEventListener("click",this._goBackState)):this.goBackBtn.style.display="none"},Object.defineProperty(e.prototype,"goBackBtn",{get:function(){var t=this.domRoot.querySelector(".dialog__back");if(!t)throw"Go back btn not found";return t},enumerable:!0,configurable:!0}),e}(l.AbstractPaymentState);e.SummaryState=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="AuthState",e.LAYOUT_TEMPLATE_NAME="packages",e.onDomReady=function(){e.initAbstractAuth(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen()},e._onLoginSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e._onRegisterSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e.executeAfterLoginOrRegisterSuccess=function(){var t=e.ctx._getInitialState();e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e}(n(65).AbstractAuthState);e.AuthState=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ErrorState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new a.IloveEvent("end")),window.location.reload()},e}return r(e,t),e.prototype.initNextAction=function(){var t=this;this.domRoot.querySelector("[end-from-error]").addEventListener("click",function(){t._goNextState()})},e}(o.StateBase);e.ErrorState=s},function(t,e,n){t.exports=function(t){"use strict";var e="transitionend";function n(e){var n=this,r=!1;return t(this).one(i.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||i.triggerTransitionEnd(n)},e),this}var i={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}return e&&document.querySelector(e)?e:null},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration"),i=t(e).css("transition-delay"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(n){t(n).trigger(e)},supportsTransitionEnd:function(){return Boolean(e)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r],a=e[r],s=a&&i.isElement(a)?"element":(l=a,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+s+'" but expected type "'+o+'".')}var l},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?i.findShadowRoot(t.parentNode):null}};return(t=t&&t.hasOwnProperty("default")?t.default:t).fn.emulateTransitionEnd=n,t.event.special[i.TRANSITION_END]={bindType:e,delegateType:e,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},i}(n(1))},function(t,e,n){"use strict";n.r(e),function(t){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,i=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var r=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},i))}};function o(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:l(s(t))}function c(t){return t&&t.referenceNode?t.referenceNode:t}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function p(t){return 11===t?u:10===t?d:u||d}function h(t){if(!t)return document.documentElement;for(var e=p(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?h(n):n:t?t.ownerDocument.documentElement:document.documentElement}function f(t){return null!==t.parentNode?f(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var a,s,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&h(a.firstElementChild)!==a?h(l):l;var c=f(t);return c.host?g(c.host,e):g(t,f(e).host)}function m(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function v(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+i+"Width"])}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],p(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,i=p(10)&&getComputedStyle(n);return{height:y("Height",e,n,i),width:y("Width",e,n,i)}}var b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),S=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},E=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function x(t){return E({},t,{right:t.left+t.width,bottom:t.top+t.height})}function k(t){var e={};try{if(p(10)){e=t.getBoundingClientRect();var n=m(t,"top"),i=m(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?_(t.ownerDocument):{},s=o.width||t.clientWidth||r.width,l=o.height||t.clientHeight||r.height,c=t.offsetWidth-s,u=t.offsetHeight-l;if(c||u){var d=a(t);c-=v(d,"x"),u-=v(d,"y"),r.width-=c,r.height-=u}return x(r)}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===e.nodeName,o=k(t),s=k(e),c=l(t),u=a(e),d=parseFloat(u.borderTopWidth),h=parseFloat(u.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var f=x({top:o.top-s.top-d,left:o.left-s.left-h,width:o.width,height:o.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var g=parseFloat(u.marginTop),v=parseFloat(u.marginLeft);f.top-=d-g,f.bottom-=d-g,f.left-=h-v,f.right-=h-v,f.marginTop=g,f.marginLeft=v}return(i&&!n?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(e,"top"),r=m(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(f,e)),f}function C(t){if(!t||!t.parentElement||p())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function P(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},u=r?C(t):g(t,c(e));if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=T(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:m(n),s=e?0:m(n,"left");return x({top:a-i.top+i.marginTop,left:s-i.left+i.marginLeft,width:r,height:o})}(u,r);else{var d=void 0;"scrollParent"===i?"BODY"===(d=l(s(e))).nodeName&&(d=t.ownerDocument.documentElement):d="window"===i?t.ownerDocument.documentElement:i;var p=T(d,u,r);if("HTML"!==d.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===a(e,"position"))return!0;var i=s(e);return!!i&&t(i)}(u))o=p;else{var h=_(t.ownerDocument),f=h.height,v=h.width;o.top+=p.top-p.marginTop,o.bottom=f+p.top,o.left+=p.left-p.marginLeft,o.right=v+p.left}}var y="number"==typeof(n=n||0);return o.left+=y?n:n.left||0,o.top+=y?n:n.top||0,o.right-=y?n:n.right||0,o.bottom-=y?n:n.bottom||0,o}function O(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=P(n,i,o,r),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return E({key:t},s[t],{area:(e=s[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function I(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return T(n,i?C(e):g(e,c(n)),i)}function A(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function M(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function L(t,e,n){n=n.split("-")[0];var i=A(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[a]=e[a]+e[l]/2-i[l]/2,r[s]=n===s?e[s]-i[c]:e[M(s)],r}function D(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function R(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=D(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function;var n=t.function||t.fn;t.enabled&&o(n)&&(e.offsets.popper=x(e.offsets.popper),e.offsets.reference=x(e.offsets.reference),e=n(e,t))}),e}function N(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function j(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function F(t){var e=t.ownerDocument;return e?e.defaultView:window}function B(t,e,n,i){n.updateBound=i,F(t).addEventListener("resize",n.updateBound,{passive:!0});var r=l(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(n,i,{passive:!0}),o||t(l(a.parentNode),n,i,r),r.push(a)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function U(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,F(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function z(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&z(e[n])&&(i="px"),t.style[n]=e[n]+i})}var q=n&&/Firefox/i.test(navigator.userAgent);function W(t,e,n){var i=D(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r);return r}var V=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=V.slice(3);function Y(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(t),i=G.slice(n+1).concat(G.slice(0,n));return e?i.reverse():i}var X={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Q(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(D(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&a[s].indexOf(",");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(c=c.map(function(t,i){var r=(1===i?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],a=r[2];if(!o)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=i}return x(s)[e]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){z(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var K={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,a=r.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:S({},l,o[l]),end:S({},l,o[l]+o[c]-a[c])};t.offsets.popper=E({},a,u[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,a=r.reference,s=i.split("-")[0],l=void 0;return l=z(+n)?[+n,0]:Q(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||h(t.instance.popper);t.instance.reference===n&&(n=h(n));var i=j("transform"),r=t.instance.popper.style,o=r.top,a=r.left,s=r[i];r.top="",r.left="",r[i]="";var l=P(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=a,r[i]=s,e.boundaries=l;var c=e.priority,u=t.offsets.popper,d={primary:function(t){var n=u[t];return u[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(u[t],l[t])),S({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=u[n];return u[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(u[n],l[t]-("right"===t?u.width:u.height))),S({},n,i)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=E({},u,d[e](t))}),t.offsets.popper=u,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(r),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[s])&&(t.offsets.popper[l]=o(i[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!W(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",p=d.toLowerCase(),h=c?"left":"top",f=c?"bottom":"right",g=A(i)[u];l[f]-g<s[p]&&(t.offsets.popper[p]-=s[p]-(l[f]-g)),l[p]+g>s[f]&&(t.offsets.popper[p]+=l[p]+g-s[f]),t.offsets.popper=x(t.offsets.popper);var m=l[p]+l[u]/2-g/2,v=a(t.instance.popper),y=parseFloat(v["margin"+d]),_=parseFloat(v["border"+d+"Width"]),b=m-t.offsets.popper[p]-y-_;return b=Math.max(Math.min(s[u]-g,b),0),t.arrowElement=i,t.offsets.arrow=(S(n={},p,Math.round(b)),S(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(N(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=P(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=M(i),o=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case X.FLIP:a=[i,r];break;case X.CLOCKWISE:a=Y(i);break;case X.COUNTERCLOCKWISE:a=Y(i,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(i!==s||a.length===l+1)return t;i=t.placement.split("-")[0],r=M(i);var c=t.offsets.popper,u=t.offsets.reference,d=Math.floor,p="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),h=d(c.left)<d(n.left),f=d(c.right)>d(n.right),g=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),v="left"===i&&h||"right"===i&&f||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),_=!!e.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&f||!y&&"start"===o&&g||!y&&"end"===o&&m),b=!!e.flipVariationsByContent&&(y&&"start"===o&&f||y&&"end"===o&&h||!y&&"start"===o&&m||!y&&"end"===o&&g),w=_||b;(p||v||w)&&(t.flipped=!0,(p||v)&&(i=a[l+1]),w&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=E({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=R(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=o[n]-(s?r[a?"width":"height"]:0),t.placement=M(e),t.offsets.popper=x(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!W(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=D(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=D(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration,a=void 0!==o?o:e.gpuAcceleration,s=h(t.instance.popper),l=k(s),c={position:r.position},u=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,a=Math.floor,s=function(t){return t},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(t.placement),d=-1!==t.placement.indexOf("-"),p=e?u||d||l%2==c%2?o:a:s,h=e?o:s;return{left:p(l%2==1&&c%2==1&&!d&&e?i.left-1:i.left),top:h(i.top),bottom:h(i.bottom),right:p(i.right)}}(t,window.devicePixelRatio<2||!q),d="bottom"===n?"top":"bottom",p="right"===i?"left":"right",f=j("transform"),g=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,g="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&f)c[f]="translate3d("+g+"px, "+m+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var v="bottom"===d?-1:1,y="right"===p?-1:1;c[d]=m*v,c[p]=g*y,c.willChange=d+", "+p}var _={"x-placement":t.placement};return t.attributes=E({},_,t.attributes),t.styles=E({},c,t.styles),t.arrowStyles=E({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return H(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&H(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=I(r,e,t,n.positionFixed),a=O(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),H(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},Z=function(){function t(e,n){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=r(this.update.bind(this)),this.options=E({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(E({},t.Defaults.modifiers,a.modifiers)).forEach(function(e){i.options.modifiers[e]=E({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return E({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&o(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=I(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=O(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=R(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[j("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),t}();Z.Utils=("undefined"!=typeof window?window:t).PopperUtils,Z.placements=V,Z.Defaults=K,e.default=Z}.call(this,n(24))},function(t,e){!function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}t.prototype=window.Event.prototype,window.CustomEvent=t}()},function(t,e,n){(function(t){var e;String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.camelCase=function(){return this.replace(/-([a-z])/gi,function(t,e){return e.toUpperCase()})},t.fn.exchangePositionWith=function(e){var n=t(e),i=t("<span>").hide();this.before(i),n.before(this),i.replaceWith(n)},Array.prototype.move=function(t,e){if(e>=this.length)for(var n=e-this.length;1+n--;)this.push(void 0);return this.splice(e,0,this.splice(t,1)[0]),this},String.prototype.trunc=function(t){return this.substr(0,t-1)+(this.length>t?"&hellip;":"")},String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),String.prototype.ltrim||(String.prototype.ltrim=function(){return this.replace(/^\s+/g,"")})}).call(this,n(1))},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),r=n(20),o=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w\.-]+)(?::(\d+))?\/(.+)/,a=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,i=e.path,r=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.user+(t&&r?":"+r:"")+"@"+n+(o?":"+o:"")+"/"+(i?i+"/":i)+a},t.prototype._fromString=function(t){var e=o.exec(t);if(!e)throw new r.a("Invalid Dsn");var n=i.c(e.slice(1),6),a=n[0],s=n[1],l=n[2],c=void 0===l?"":l,u=n[3],d=n[4],p=void 0===d?"":d,h="",f=n[5],g=f.split("/");g.length>1&&(h=g.slice(0,-1).join("/"),f=g.pop()),this._fromComponents({host:u,pass:c,path:h,projectId:f,port:p,protocol:a,user:s})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach(function(e){if(!t[e])throw new r.a("Invalid Dsn")}),"http"!==this.protocol&&"https"!==this.protocol)throw new r.a("Invalid Dsn");if(this.port&&isNaN(parseInt(this.port,10)))throw new r.a("Invalid Dsn")},t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(29),o=function(){function t(e){var n=this;void 0===e&&(e={}),this.isShown=!1,this.contentsListeningTo=new Array,this.destroyed=!1,this._canBeClosedByUser=void 0,this._isClosing=!1,this.show=function(){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";if(document.body.style.overflow="hidden",!n.isShown){var e=n.element,r=n.backdrop,o=n.closeBtn;return n.content&&n.content.reset(),0==n.props.enableCloseBtn&&o&&(o.style.display="none"),n.dialog.style.display="",n.elementContainer,e.offsetWidth,n.elementContainer.classList.add("dialog__container--appeared"),r.offsetWidth,r.classList.add("dialog__backdrop--appeared"),n.isShown=!0,t.visibleDialogs.add(n),void n.dispatchEvent(new i.IloveEvent("shown"))}},this.close=function(){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";n.isShown&&(n.elementContainer.classList.remove("dialog__container--appeared"),n.backdrop.classList.remove("dialog__backdrop--appeared"),n._isClosing=!0,setTimeout(function(){n._dialog&&(n.dialog.style.display="none"),n.isShown=!1,n._isClosing=!1,document.body.style.overflow="",t.visibleDialogs.delete(n),n.dispatchEvent(new i.IloveEvent("hidden"))},250),n.dispatchEvent(new i.IloveEvent("closed")),n.content&&n.content.notifyOfContainerClosing())},this.getDialogName=function(){return n.props.dialogName},this.destroy=function(){n.destroyed||(n._dialog&&(n._dialog.parentNode.removeChild(n._dialog),n._dialog=void 0),n.destroyed=!0)},this.setContent=function(t){if(n.destroyed)throw"This dialog was destroyed. It's no longer usable";return n.content=t,t.setContextPlacement("dialog"),t.render(n.domRoot),n.listenToEvents(t),n},this._closeOnEscapeKey=function(t){"Escape"===t.key&&n.close()},this.createDialogContainer=function(){var t=document.createElement("div");return t.classList.add("dialog__container"),t},this.createDialogElement=function(){var t=document.createElement("div");return t.classList.add("dialog__element"),t},this.createDialogBackdrop=function(){var t=document.createElement("div");return t.classList.add("dialog__backdrop"),n.props.clickAwayClose&&t.addEventListener("click",function(){n.canBeClosedByUser()&&n.close()}),t},this.initCloseBtn=function(){n.dialog.addEventListener("click",function(t){t.target.classList.contains("dialog__close")&&n.canBeClosedByUser()&&n.close()})},this.eventEmitter=new r.ILoveEventEmitter,this.props=this.mergeWithDefaultPropValues(e)}return t.getVisibleDialogs=function(){return Array.from(this.visibleDialogs).filter(function(t){return!t.isClosing()})},t.prototype.canBeClosedByUser=function(){return void 0!==this._canBeClosedByUser?this._canBeClosedByUser:this.props.canBeClosedByUser},t.prototype.isClosedOrInProcessOfClosing=function(){return this.isClosing()||!this.isShown},t.prototype.isClosing=function(){return this._isClosing},t.prototype.listenToEvents=function(t){var e=this;-1!==this.contentsListeningTo.indexOf(t.getInstanceID())||(t.addEventListener("end",function(){e.isClosedOrInProcessOfClosing()||e.close()}),t.addEventListener("disableContentAbandonment",function(){return e._canBeClosedByUser=!1}),t.addEventListener("unsetContentAbandonment",function(){return e._canBeClosedByUser=void 0}),this.contentsListeningTo.push(t.getInstanceID()))},Object.defineProperty(t.prototype,"dialog",{get:function(){if(!this._dialog){var t=this.createDialogContainer(),e=this.createDialogElement();t.appendChild(e);var n=this.createDialogBackdrop();this._dialog=document.createElement("div"),this.props.dialogName&&this._dialog.setAttribute("data-dialog-name",this.props.dialogName),this._dialog.classList.add("dialog"),this._dialog.appendChild(t),this._dialog.appendChild(n),this.props.enableCloseBtn&&this.initCloseBtn(),this._dialog.style.display="none",document.body.appendChild(this._dialog)}return this._dialog},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domRoot",{get:function(){return this.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.dialog.children[0].children[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elementContainer",{get:function(){return this.dialog.querySelector(".dialog__container")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backdrop",{get:function(){return this.dialog.children[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeBtn",{get:function(){return this.dialog.querySelector(".dialog__close")},enumerable:!0,configurable:!0}),t.prototype.mergeWithDefaultPropValues=function(t){var e,n,i,r=null===(e=t.canBeClosedByUser)||void 0===e||e,o=null!==(n=t.clickAwayClose)&&void 0!==n&&n,a=null!==(i=t.enableCloseBtn)&&void 0!==i?i:r;return{dialogName:t.dialogName,canBeClosedByUser:r,clickAwayClose:o,escapeKeyClose:r,enableCloseBtn:a}},t.prototype.getContent=function(){return this.content},t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t.visibleDialogs=new Set,t}();e.Dialog=o},function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var r=n(161);t.loadImage=r;var o=n(166);t.canvasToBlob=o;var a=function(){function t(t){void 0===t&&(t={}),this.files=null,this.coversShow=!0,this.screenSize=[],this.imageIsLoaded=!1,this.URL=window.URL||window.webkitURL,this.URLObj={},this.imageSrc={},this.utif=n(167),this.useLoadImageLib=!1,Object.assign(this,t),this.init()}return t.prototype.init=function(){},t.prototype.renderUrl=function(t,e,n){void 0===n&&(n=!1);return new Promise(function(r,o){var a=document.getElementById(e);1==n?i(a).attr("src",t):i(a).attr("style","background-image: url("+t+");background-size:contain");var s=new Image;s.src=t,s.onload=function(){var e=new XMLHttpRequest;e.open("HEAD",t,!0),e.onreadystatechange=function(){4==e.readyState&&(200==e.status?r({size:e.getResponseHeader("Content-Length")}):r({}))},e.send(null)}})},t.prototype.renderImage=function(t,e,n){return void 0===n&&(n=!1),1==this.useLoadImageLib?this.renderImageOrientation(t,e,n):this.renderImageBasic(t,e,n)},t.prototype.hasBrowserAppliedImageOrientation=function(t){return"from-image"===i(t).css("image-orientation")},t.prototype.renderImageBasic=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var o=this;return new Promise(function(r,a){var s=document.getElementById(e);try{var l=new FileReader;l.onload=function(t){var c=0;c=o.getExifOrientation(t);var u,d,p=new Uint8Array(l.result),h=new Blob([p]);try{u=window.URL||window.webkitURL,d=u.createObjectURL(h)}catch(t){return void a(t)}o.imageSrc[e]=d,o.imageIsLoaded=!0;var f=new Image;f.onload=function(){var t=f.height,e=f.width;o.hasBrowserAppliedImageOrientation(s)&&(c=0),c>4&&c<9&&(t+=e,t-=e=t-e),1==n?i(s).attr("src",d):i(s).css("background-image","url("+d+")").css("background-size","contain"),o.transformByOrientation(s,c),r({width:e,height:t})},f.onerror=function(t){i(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(t)},f.src=d},l.readAsArrayBuffer(t)}catch(t){a()}})},t.prototype.transformByOrientation=function(t,e){var n="";if(e>1){switch(e){case 1:break;case 2:n="scaleX(-1)";break;case 3:n="rotate(180deg)";break;case 4:n="rotate(180deg) scale(-1)";break;case 5:n="rotate(90deg) scale(-1)";break;case 6:n="rotate(90deg)";break;case 7:n="rotate(270deg) scale(-1)";break;case 8:n="rotate(270deg)"}i(t).css("transform",n)}},t.prototype.renderImageOrientation=function(t,e,n){void 0===n&&(n=!1);var r=this;return new Promise(function(o,a){var s=document.getElementById(e);try{var l=new FileReader;l.onload=function(t){var c=0,u=new Uint8Array(l.result),d=new Blob([u]);if(r.hasBrowserAppliedImageOrientation(s)||(c=r.getExifOrientation(t)),c>1)window.loadImage(d,function(t){!t||"type"in t&&"error"==t.type?a({error:"damagedImage",message:"cannot render image"}):t.toBlob(function(t){var l,c;try{l=window.URL||window.webkitURL,c=l.createObjectURL(t)}catch(t){return void a(t)}r.imageSrc[e]=c,r.imageIsLoaded=!0;var u=new Image;u.onload=function(){var t=u.height,e=u.width;n?i(s).attr("src",c):i(s).attr("style","background-image: url("+c+");background-size:contain"),window.setTimeout(function(){r.URL.revokeObjectURL(c)},1e3),o({width:e,height:t})},u.onerror=function(t){i(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(t)},u.src=c})},{canvas:!0,orientation:c});else{var p,h=void 0;try{h=window.URL||window.webkitURL,p=h.createObjectURL(d)}catch(t){return void a(t)}r.imageSrc[e]=p,r.imageIsLoaded=!0;var f=new Image;f.onload=function(){var t=f.height,e=f.width;1==n?i(s).attr("src",p):i(s).css("background-image","url("+p+")").css("background-size","contain"),o({width:e,height:t})},f.onerror=function(t){i(s).css("background-image",'url("/img/filetype/damaged.svg")').css("background-size","35%;"),a(t)},f.src=p}},l.readAsArrayBuffer(t)}catch(t){a()}})},t.prototype.getExifOrientation=function(t){var e=new DataView(t.target.result);if(65496!=e.getUint16(0,!1))return-2;for(var n=e.byteLength,i=2;i<n;){if(e.getUint16(i+2,!1)<=8)return-1;var r=e.getUint16(i,!1);if(i+=2,65505==r){if(1165519206!=e.getUint32(i+=2,!1))return-1;var o=18761==e.getUint16(i+=6,!1);i+=e.getUint32(i+4,o);var a=e.getUint16(i,o);i+=2;for(var s=0;s<a;s++)if(274==e.getUint16(i+12*s,o))return e.getUint16(i+12*s+8,o)}else{if(65280!=(65280&r))break;i+=e.getUint16(i,!1)}}return-1},t.prototype.renderSvg=function(t,e,n){void 0===n&&(n=!1);var r=this;return new Promise(function(o,a){var s=document.getElementById(e),l=new FileReader;l.onload=function(t){r.imageSrc[e]=t.target.result,n?i(s).attr("src",r.imageSrc[e]):i(s).attr("style","background-image: url("+r.imageSrc[e]+");background-size:contain"),r.imageIsLoaded=!0;var l=new Image;l.onload=function(){var t=l.height,e=l.width;o({width:e,height:t})},l.onerror=function(t){i(s).attr("style",'background-image: url("/img/filetype/damaged.svg");background-size:35%;'),a(t)},l.src=r.imageSrc[e]};try{l.readAsDataURL(t)}catch(t){a()}})},t.prototype.renderTif=function(t,e){var n=this,r=document.getElementById(e),o=new FileReader;return new Promise(function(a,s){o.onload=function(t){try{var o=n.utif.decode(t.target.result)[0],l=n.utif.toRGBA8(o),c=o.width,u=o.height,d=void 0,p=0;c>u?p=u*(d=n.screenSize.h)/c:d=c*(p=n.screenSize.h)/u,"canvas"!=r.tagName&&(i("#"+e).append('<canvas class="raw"></canvas>'),r=i("#"+e+" canvas")[0]),r.width=c,r.height=u;for(var h=r.getContext("2d"),f=h.createImageData(c,u),g=0;g<l.length;g++)f.data[g]=l[g];h.putImageData(f,0,0),"canvas"==i("#"+e)[0].tagName?i("#"+e).css("width",d+"px").css("height",p+"px"):i("#"+e+" canvas").css("width",d+"px").css("height",p+"px"),a()}catch(t){s(t)}},o.readAsArrayBuffer(t)})},t.prototype.onFileReady=function(){var t=this;return new Promise(function(e,n){var i=window.setInterval(function(){!0===t.imageIsLoaded&&(clearInterval(i),e())},200)})},t}();e.ImageView=a}).call(this,n(24),n(1))},function(t){t.exports={default:{mimeTypes:[{title:"Image files",extensions:"jpg,jpeg,gif,png",mime:"image/jpeg,image/jpg,image/gif,image/png"}],multiSelection:!0},resizeimage:{mimeTypes:[{title:"Image files",extensions:"jpg,jpeg,gif,png,svg",mime:"image/jpeg,image/jpg,image/gif,image/png,image/svg+xml"}],multiSelection:!0},cropimage:{mimeTypes:[{title:"Image files",extensions:"jpg,jpeg,gif,png",mime:"image/jpeg,image/jpg,image/gif,image/png"}],multiSelection:!1},fromjpg:{mimeTypes:[{title:"Image files",extensions:"jpg,jpeg",mime:"image/jpeg,image/jpg"}],multiSelection:!0},tojpg:{mimeTypes:[{title:"Image files",extensions:"gif,tif,tiff,png,crw,cr2,dng,raf,nef,nrw,orf,rw2,pef,arw,srf,sr2,raw,psd,svg,webp",mime:"image/png,image/x-sony-arw,image/x-canon-cr2,image/x-canon-crw,image/x-kodak-dcr,image/x-adobe-dng,image/x-epson-erf,image/x-kodak-k25,image/x-kodak-kdc,image/x-minolta-mrw,image/x-nikon-nef,image/x-olympus-orf,image/x-pentax-pef,image/x-fuji-raf,image/x-panasonic-raw,image/x-sony-sr2,image/x-sony-srf,image/x-sigma-x3f,image/svg+xml,mage/vnd.adobe.photoshop,application/x-photoshop,image/webp"}],multiSelection:!0},watermarkimage:{mimeTypes:[{title:"Image files",extensions:"jpg,jpeg,png,gif",mime:"image/jpeg,image/jpg,image/png,image/gif"}],multiSelection:!0},memeimage:{mimeTypes:[{title:"Image files",extensions:"jpg,jpeg,png,gif",mime:"image/jpeg,image/jpg,image/png,image/gif"}],multiSelection:!1}}},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,a,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,function(e,i){t.isFunction(i)?s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():s[e]=i}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r&&a.widgetEventPrefix||e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,s=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(s.length&&(o=t.widget.extend.apply(null,[o].concat(s))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(i=e.split(".")).shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var a,s;for(s=0;s<r.length;s++)a=i.classesElementLookup[r[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),i.classesElementLookup[r[s]]=a,n.push(r[s]),o&&e.classes[r[s]]&&n.push(e.classes[r[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,s):n.on(c,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var a;"string"==typeof r&&(r={effect:r});var s=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(109),r=function(){function e(){}return e.t=function(e,n){var i="iloveLang";return n&&n.source&&(i=n.source),window[i]&&window[i][e]&&(e=window[i][e]),null!=n&&t.each(n,function(t,n){e=e.replace("${"+t+"}",n)}),e},e.w=function(n,i){void 0===n&&(n="translate"),t("."+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))}),t("#"+n).each(function(){var n=t(this).html();t(this).html(e.t(n,i))})},e.fontsForWritingSystem=function(t){switch(t){case"latin":return["arial","verdana","courier","comic","times-new-roman","impact","arial-unicode-ms"];case"indic":return["lohit-marathi","lohit-devanagari","arial-unicode-ms"];case"unknown":default:return["arial-unicode-ms"]}},e.getFontsInfo=function(){var t=window.fonts;if(!t)throw"[Lang Service] You have to load the fonts information from the backend to use this method";return t},e.loadAllFonts=function(){for(var t in window.fonts)window.fonts.hasOwnProperty(t)&&"arial"!=t&&this.loadFont(t)},e.loadFont=function(t){t in this.loadedFonts||(i.lazyloadCss("/font/"+t+".css"),this.loadedFonts[t]=!0)},e.hasHindiCharacters=function(t){return t.split("").filter(function(t){var e=t.charCodeAt();return e>=2309&&e<=2361}).length>0},e.hasJapanCharacters=function(t){return/[\u3000-\u303f]|[\u3040-\u309f]|[\u30a0-\u30ff]|[\uff00-\uff9f]|[\u4e00-\u9faf]|[\u3400-\u4dbf]/.test(t)},e.hasChineseCharacters=function(t){return/[\u4e00-\u9fff]|[\u3400-\u4dbf]|[\uf900-\ufaff]|[\u3300-\u33ff]|[\ufe30-\ufe4f]|[\uf900-\ufaff]/.test(t)},e.hasKoreanCharacters=function(t){return/[\uac00-\uafff]|[\ub000-\ubfff]/.test(t)},e.hasArabicCharacters=function(t){return/[\u0600-\u06FF]|[\u0750-\u077F]/.test(t)},e.hasGreekCharacters=function(t){return/[\u0370-\u03FF]|[\u1F00-\u1FFF]/.test(t)},e.hasCyrillicCharacters=function(t){return/[\u0400-\u04FF]|[\u0500-\u052F]/.test(t)},e.hasCommonLatinCharacters=function(t){return!1},e.keyCodeToWritingSystem=function(t){for(var e in this.writingSystemCharacterRanges)for(var n=this.writingSystemCharacterRanges[e],i=0;i<n.length;i++){var r=n[i],o=r[0],a=r[1];if(t>=o&&t<=a)return e}return"unknown"},e.detectWritingSystems=function(t){if(0===t.length)return[];for(var e={},n=0;n<t.length;n++){e[this.keyCodeToWritingSystem(t.charCodeAt(n))]=!0}return Object.keys(e)},e.loadedFonts={},e.writingSystemCharacterRanges={latin:[[0,127],[128,255],[256,383],[384,591],[7680,7935],[9312,9471],[11360,11391],[42784,43007],[64256,64335],[65104,65135]],indic:[[2304,2431],[43232,43263]]},e}();e.Lang=r}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lazyloadCss=function(t,e){void 0===e&&(e={});for(var n=document.getElementsByTagName("link"),i=n.length;i--;)if(n[i].hasAttribute("href")&&n[i].href.match(t))return!0;var r=document.createElement("link");for(var o in r.rel="stylesheet",r.href=t,e)if(e.hasOwnProperty(o)){var a=e[o];r.setAttribute(o,a)}var s=document.getElementsByTagName("link")[0];return s.parentNode.insertBefore(r,s),!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this._cache={}}return t.prototype.existsEntry=function(t){return"template_"+t in this._cache},t.prototype.setEntry=function(t,e){return this._cache[t]=e,e},t.prototype.getEntry=function(t){return this._cache[t]},t.prototype.clearEntry=function(t){delete this._cache[t]},t}();e.Cache=i},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(65),a=n(81),s=n(82),l=n(83),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="AuthState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.onDomReady=function(){e.initAbstractAuth(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen()},e._onLoginSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e._onRegisterSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e.executeAfterLoginOrRegisterSuccess=function(){var t=e.computeNextState();e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e.prototype.computeNextState=function(){var t=null;"premium"===this.ctx.userType?t=new l.PremiumState:t=this.ctx.canUserDoTrial()&&this.ctx.isTrialEnabledForThisTool()?new s.CanTrialState:new a.CannotTrialState;return t},e}(o.AbstractAuthState);e.AuthState=c},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=n(12),s=n(13),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SubscriptionSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new o.IloveEvent("end"))},e}return r(e,t),e.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var t=this.dialogSubtitle;t.innerHTML=t.innerHTML.replace("${email}","<b>${email}</b>"),t.innerHTML=a.Lang.tr(t.innerHTML,{email:this.authenticatedUserEmail})},e.prototype.hideHeaderAndFooter=function(){var t=this.domRoot.querySelector(".dialog__header");if(!t)throw"Header not found";var e=this.domRoot.querySelector(".dialog__footer");if(!e)throw"Footer not found";t.style.display="none",e.style.display="none"},Object.defineProperty(e.prototype,"dialogSubtitle",{get:function(){var t=this.domStateRoot.querySelector(".dialog__subtitle");if(!t)throw"Description elem not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authenticatedUserEmail",{get:function(){var t=s.UserModel.get();if(!t)throw"Authenticated user not found!";return t.email},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(!t)throw"'Done' button not found";return t},enumerable:!0,configurable:!0}),e}(n(10).StateBase);e.SubscriptionSuccessState=l},function(t,e,n){"use strict";(function(t){var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(34),s=n(32),l=n(114),c=n(29),u=n(8);!function(t){t.CONFIRM_3DSECURE_PAYMENT="/stripe/confirm-payment",t.EXECUTE_PAYMENT="/stripe/execute",t.BUY_PACKAGE="/stripe/buy",t.UPDATE_CARD="/stripe/update-card"}(o||(o={}));var d=function(){function e(t){var e=this;void 0===t&&(t={}),this.eventEmitter=new c.ILoveEventEmitter,this.view=new l.StripeView(this,{onActionButtonClicked:function(){e.dispatchEvent(new u.IloveEvent("View:ActionButtonClicked"))}})}return e.prototype.updateCard=function(e){return i(this,void 0,void 0,function(){var n,i,a,s,l,c,u,d;return r(this,function(r){switch(r.label){case 0:return[4,this.getPaymentCardToken(e)];case 1:return n=r.sent(),i=n.id,a=t.post(o.UPDATE_CARD,{token:i}).promise(),c=(l=JSON).parse,[4,a.promise()];case 2:return s=c.apply(l,[r.sent()]),u={type:"update",notifyParams:{token:i}},this.needs3DSecure(s)?[4,this._resolve3DSecure(s,u)]:[3,4];case 3:return d=r.sent(),[3,5];case 4:d=s,r.label=5;case 5:return[2,d]}})})},e.prototype.setPaymentVia=function(t){this._paymentVia=t},e.prototype.paySubscription=function(e){return i(this,void 0,void 0,function(){var n,i,a,s,l,c,u;return r(this,function(r){switch(r.label){case 0:return n={interval:e.subscriptionInterval,users:e.numUsers,signatures:e.numDigitalSignatures,token:void 0,dtr:e.disableTrial},[4,this._setupPaymentVia(n,e.paymentVia)];case 1:return r.sent(),i=t.post(o.EXECUTE_PAYMENT,n),l=(s=JSON).parse,[4,i.promise()];case 2:return a=l.apply(s,[r.sent()]),c={type:"subscription",notifyParams:n},this.needs3DSecure(a)?[4,this._resolve3DSecure(a,c)]:[3,4];case 3:return u=r.sent(),[3,5];case 4:u=a,r.label=5;case 5:return[2,u]}})})},e.prototype.payPackage=function(e){return i(this,void 0,void 0,function(){var n,i,a,s,l,c,u;return r(this,function(r){switch(r.label){case 0:return n={package:e.packageName,quantity:e.quantity,token:void 0,dtr:e.disableTrial},[4,this._setupPaymentVia(n,e.paymentVia)];case 1:return r.sent(),i=t.post(o.BUY_PACKAGE,n),l=(s=JSON).parse,[4,i.promise()];case 2:return a=l.apply(s,[r.sent()]),c={type:"package",notifyParams:n},this.needs3DSecure(a)?[4,this._resolve3DSecure(a,c)]:[3,4];case 3:return u=r.sent(),[3,5];case 4:u=a,r.label=5;case 5:return[2,u]}})})},e.prototype._setupPaymentVia=function(t,e){return i(this,void 0,void 0,function(){var n,i;return r(this,function(r){switch(r.label){case 0:switch(i=e.type,e.type){case"stripeElement":return[3,1];case"stripeElementUpdateCard":return[3,3];case"paymentMethod":return[3,5]}return[3,6];case 1:return[4,this.getPaymentCardToken(e.cardElement)];case 2:return n=r.sent(),t.token=n.id,[3,7];case 3:return[4,this.getPaymentCardToken(e.cardElement)];case 4:return n=r.sent(),t.token=n.id,t.updatecard=!0,[3,7];case 5:return e.info,[3,7];case 6:throw"Unknown paymentVia type '"+i+"'";case 7:return[2]}})})},e.prototype._resolve3DSecure=function(t,e){return i(this,void 0,void 0,function(){var n,i,o;return r(this,function(r){switch(r.label){case 0:return this.needs3DSecure(t)?(n=this.extractIntentInfo(t),[4,this.show3DSecureScreenToUser(n)]):[2,t];case 1:switch(i=r.sent(),n.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,3]}return[3,5];case 2:return[2,t];case 3:return o=i.paymentIntent.id,[4,this.confirmPayment3DSecure(o,e)];case 4:return[2,t=r.sent()];case 5:throw"Unknown intent type "+n.intentType}})})},e.prototype.needs3DSecure=function(t){return!(!t||!t.user)&&("payment_intent"in t.user||"setup_intent"in t.user)},e.prototype.extractIntentInfo=function(t){var e;if(t.user.payment_intent)e="payment_intent";else{if(!t.user.setup_intent)throw"Unknown IntentType";e="setup_intent"}return{intentType:e,intentSecret:"payment_intent"===e?t.user.payment_intent:t.user.setup_intent}},e.prototype.confirmPayment3DSecure=function(e,n){return i(this,void 0,void 0,function(){var i,a,s,l;return r(this,function(r){switch(r.label){case 0:return i=Object.assign({},{payment_intent_id:e},n,n.notifyParams),a=t.post(o.CONFIRM_3DSECURE_PAYMENT,i),l=(s=JSON).parse,[4,a.promise()];case 1:return[2,l.apply(s,[r.sent()])]}})})},e.prototype.show3DSecureScreenToUser=function(t){return i(this,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:return[4,this.stripe];case 1:switch(e=i.sent(),t.intentType){case"setup_intent":return[3,2];case"payment_intent":return[3,4]}return[3,6];case 2:return[4,e.confirmCardSetup(t.intentSecret)];case 3:return n=i.sent(),[3,7];case 4:return[4,e.confirmCardPayment(t.intentSecret)];case 5:return n=i.sent(),[3,7];case 6:throw"Unknown secretType "+t.intentType;case 7:if(!("error"in n&&n.error))return[2,n];throw n}})})},e.prototype.getPaymentCardToken=function(t){return i(this,void 0,void 0,function(){var e,n;return r(this,function(i){switch(i.label){case 0:return[4,this.stripe];case 1:e=i.sent(),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e.createToken(t)];case 3:return n=i.sent(),[3,5];case 4:throw i.sent();case 5:if(n.error)throw this.view.notifyCardErrorMsg(n.error.message),n;return[2,n.token]}})})},Object.defineProperty(e.prototype,"stripe",{get:function(){var t=this;return this._stripe?Promise.resolve(this._stripe):new Promise(function(e,n){t.createStripeInstance().then(function(n){t._stripe=n,e(t._stripe)})})},enumerable:!0,configurable:!0}),e.prototype.loadStripeLibrary=function(){return i(this,void 0,void 0,function(){var t=this;return r(this,function(n){switch(n.label){case 0:return this.isStripeLibLoaded?[2,window.Stripe]:[4,new Promise(function(n,i){a.lazyload(e.stripeLibSrc);var r=window.setInterval(function(){t.isStripeLibLoaded&&(clearInterval(r),n(window.Stripe))},100)})];case 1:return[2,n.sent()]}})})},e.prototype.createStripeInstance=function(){return i(this,void 0,void 0,function(){var t,n,i=this;return r(this,function(r){switch(r.label){case 0:return[4,this.loadStripeLibrary()];case 1:return t=r.sent(),n=t(e.stripeKey,{locale:window.lang}),this.isStripeInstanceReady(n)?[2,n]:[4,new Promise(function(t,e){var r=window.setInterval(function(){i.isStripeInstanceReady(n)&&(window.clearInterval(r),t(n))},100)})];case 2:return[2,r.sent()]}})})},e.prototype.isStripeInstanceReady=function(t){return"object"==typeof t},Object.defineProperty(e.prototype,"isStripeLibLoaded",{get:function(){return null!==window.Stripe&&"function"==typeof window.Stripe},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paymentVia",{get:function(){return this._paymentVia},enumerable:!0,configurable:!0}),e.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},e.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},e.stripeKey=s.Settings.get("stripe_key"),e.stripeLibSrc="https://js.stripe.com/v3/",e}();e.StripeService=d}).call(this,n(1))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(64),a=n(12),s=function(){function t(t,e){var n=this;this._onKeepPaymentMethodBtnClicked=function(t,e){if("stripe"!==e.provider)throw"Payment method is not from provider Stripe";var i=n.currentPaymentMethodView,r=n.newPaymentMethodView;n.stripeService.setPaymentVia({type:"paymentMethod",info:e}),n.payButton.disabled=!1,i.style.display="",r.style.display="none"},this._onChangePaymentMethodBtnClicked=function(t,e){var i=n.currentPaymentMethodView,r=n.newPaymentMethodView;n.stripeService.setPaymentVia({type:"stripeElementUpdateCard",cardElement:e}),n.payButton.disabled=!1,i.style.display="none",r.style.display=""},this._onPayButtonClicked=function(){n.callback_onActionButtonClicked()},this._onStripeNewCardChange=function(t){t.error?(n.notifyCardErrorMsg(t.error.message),n.payButton.disabled=!1):(n.clearCardErrorMsg(),n.payButton.disabled=!1)},this.stripeService=t,this.callback_onActionButtonClicked=e.onActionButtonClicked}return t.prototype.getTranslationText=function(t){var e,n=this.view.querySelector(".stripe__text-translations");if(!n)throw"Stripe text translations not found";if(!(t in(e=JSON.parse(n.textContent))))throw"Stripe translation for key "+t+" not found";return e[t]},t.prototype.disableActionButton=function(){this.view&&(this.payButton.disabled=!1)},t.prototype.enableActionButton=function(){this.view&&(this.payButton.disabled=!1)},t.prototype.mount=function(e,n){var a;return i(this,void 0,void 0,function(){var i,s,l,c,u,d,p;return r(this,function(r){switch(r.label){case 0:return this.view?[2,this.view]:[4,o.AjaxTemplate.load(t.TEMPLATE_NAME)];case 1:if(i=r.sent(),(s=document.createElement("div")).innerHTML=i,this.view=s,e.appendChild(this.view),!(l=this.view.querySelector(t.cardMountPointSelector)))throw"Mount point for Stripe card not found";return c=this.currentPaymentMethodView,u=this.newPaymentMethodView,d=this,[4,this.mountCardOn(l)];case 2:return d.card=r.sent(),(p="currentPaymentMethod"in n&&"stripe"===(null===(a=null===n||void 0===n?void 0:n.currentPaymentMethod)||void 0===a?void 0:a.provider)&&n.currentPaymentMethod.last_card)?u.style.display="none":c.style.display="none",p?(this.setupViewCurrentPaymentMethod(n.currentPaymentMethod,this.card),this.payButton.disabled=!1,this.stripeService.setPaymentVia({type:"paymentMethod",info:n.currentPaymentMethod})):this.stripeService.setPaymentVia({type:"stripeElement",cardElement:this.card}),this.payButton.innerHTML=n.paymentButtonText,this.payButton.addEventListener("click",this._onPayButtonClicked),[2,this.view]}})})},t.prototype.setupViewCurrentPaymentMethod=function(t,e){var n=this;if("stripe"!==t.provider)throw"Payment method is not from provider Stripe";var i=this.currentPaymentMethodView,r=this.newPaymentMethodView,o=i.querySelector(".payment__card-details__text");if(!o)throw"Stripe - Card Details text not found";var s=o.querySelector(".payment__card-details__text__brand"),l=o.querySelector(".payment__card-details__text__expires"),c=s.innerHTML.replace("${cardBrand}","<span class='payment__card-brand'>${cardBrand}</span>");s.innerHTML=a.Lang.tr(c,{cardBrand:t.brand_card?t.brand_card:"",cardLast4Digits:t.last_card}),l.innerHTML=a.Lang.tr(l.innerHTML,{expMonthCard:t.exp_month_card,expYearCard:t.exp_year_card});var u=i.querySelector(".payment__card-details__change-btn");if(!u)throw"Change button for Stripe - CurrentPaymentMethod view not found";u.addEventListener("click",function(t){n._onChangePaymentMethodBtnClicked(t,e)});var d=r.querySelector(".payment__card-details__keep-card-btn");if(d.style.display="",!d)throw"'Keep payment method' button for Stripe not found";d.innerHTML=a.Lang.tr(d.innerHTML,{cardBrand:t.brand_card?t.brand_card:"",cardLast4Digits:t.last_card}),d.addEventListener("click",function(e){n._onKeepPaymentMethodBtnClicked(e,t)})},Object.defineProperty(t.prototype,"currentPaymentMethodView",{get:function(){var t=this.view.querySelector(".payment__stripe-view__current-payment-method-view");if(!t)throw"Stripe - Current Payment Method view not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newPaymentMethodView",{get:function(){var t=this.view.querySelector(".payment__stripe-view__new-payment-method-view");if(!t)throw"Stripe - New Payment Method view not found";return t},enumerable:!0,configurable:!0}),t.prototype.mountCardOn=function(t){return i(this,void 0,void 0,function(){var e,n,i;return r(this,function(r){switch(r.label){case 0:return[4,this.stripeService.stripe];case 1:return e=r.sent().elements(),n={base:{color:"#32325d",lineHeight:"24px",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},(i=e.create("card",{style:n,hidePostalCode:!0})).mount(t),i.addEventListener("change",this._onStripeNewCardChange),[2,i]}})})},t.prototype.notifyCardErrorMsg=function(t){this.cardErrorMsgDom.forEach(function(e){e.classList.remove("payment__card-error--hidden"),e.textContent=t})},t.prototype.clearCardErrorMsg=function(){this.cardErrorMsgDom.forEach(function(t){t.classList.add("payment__card-error--hidden"),t.innerHTML="&nbsp;"})},Object.defineProperty(t.prototype,"payButton",{get:function(){var t=this.view.querySelector(".payment__pay-btn");if(!t)throw"Submit button not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cardErrorMsgDom",{get:function(){var t=Array.from(this.view.querySelectorAll(".payment__card-error"));if(0===t.length)throw"Card Error Msg DOM not found";return t},enumerable:!0,configurable:!0}),t.TEMPLATE_NAME="stripe",t.cardMountPointSelector=".payment__stripe-view__card-binding",t}();e.StripeView=s},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(34),l=n(116),c=n(32),u=n(29),d=n(8),p=n(64),h=n(54),f=n(25);!function(t){t.CREATE_PAYMENT_SUBSC="/paypal/create",t.EXECUTE_PAYMENT_SUBSC="/paypal/execute",t.CREATE_PAYMENT_PKG="/paypal/createbuy",t.EXECUTE_PAYMENT_PKG="/paypal/executebuy"}(a||(a={}));var g=function(){function t(t){var e=this;if(void 0===t&&(t={}),this._onPaymentInit_package=function(){e._onPaypalButtonClicked();var t=e,n=e.packageParams;return window.paypal.request.post(a.CREATE_PAYMENT_PKG,{package:n.packageName(),quantity:n.quantity(),dtr:n.disableTrial()}).then(function(e){return t.dispatchEvent(new d.IloveEvent("onPaymentInited",{action:"payPackage",params:n,response:e})),e},function(e){f.configureScope(function(t){t.setExtra("error",JSON.parse(e))}),f.captureMessage("Paypal: error on create payment package"),t.dispatchEvent(new d.IloveEvent("onPaymentInited_error",{action:"payPackage",params:n,error:JSON.parse(e)}))})},this._onAuthorize_package=function(t){var n=e,i=e.packageParams;return window.paypal.request.post(a.EXECUTE_PAYMENT_PKG,{token:t.paymentToken,payment_id:t.paymentID,payer_id:t.payerID,package:i.packageName(),quantity:i.quantity(),dtr:i.disableTrial()}).then(function(t){n.dispatchEvent(new d.IloveEvent("onPaymentAuthorized",{action:"payPackage",params:i,response:t}))},function(t){f.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),f.captureMessage("Paypal: error on execute payment package"),n.dispatchEvent(new d.IloveEvent("onPaymentAuthorized_error",{action:"payPackage",params:i,error:JSON.parse(t)}))})},this._onPaymentInit_subsc=function(){e._onPaypalButtonClicked();var t=e,n=window.paypal,i=e.subscriptionParams,r=e.removeUndefinedValuesFromObject({interval:i.subscriptionInterval(),users:i.numUsers(),signatures:i.numDigitalSignatures(),dtr:i.disableTrial()});return n.request.post(a.CREATE_PAYMENT_SUBSC,r).then(function(e){return t.dispatchEvent(new d.IloveEvent("onPaymentInited",{action:"paySubscription",params:i,response:e})),e},function(e){f.configureScope(function(t){t.setExtra("error",JSON.parse(e))}),f.captureMessage("Paypal: error on create payment subscription"),t.dispatchEvent(new d.IloveEvent("onPaymentInited_error",{action:"paySubscription",params:i,error:JSON.parse(e)}))})},this._onPaypalButtonClicked=function(){e.clearErrorMsg()},this._onAuthorize_subsc=function(t){var n=e,r=window.paypal,o=e.subscriptionParams,s=e.removeUndefinedValuesFromObject({interval:o.subscriptionInterval(),users:o.numUsers(),signatures:o.numDigitalSignatures(),dtr:o.disableTrial()});return r.request.post(a.EXECUTE_PAYMENT_SUBSC,i({token:t.paymentToken,payment_id:t.paymentID,payer_id:t.payerID},s)).then(function(t){n.dispatchEvent(new d.IloveEvent("onPaymentAuthorized",{action:"paySubscription",params:o,response:t}))},function(t){f.configureScope(function(e){e.setExtra("error",JSON.parse(t))}),f.captureMessage("Paypal: error on execute payment subscription"),n.dispatchEvent(new d.IloveEvent("onPaymentAuthorized_error",{action:"paySubscription",params:o,error:JSON.parse(t)}))})},this._onCancel=function(t){},this.eventEmitter=new u.ILoveEventEmitter,l.isIEIntranet())throw"Is IE Intranet"}return t.prototype.notifyErrorMsg=function(t){this.errorMsgDom.classList.remove("payment__method-error--hidden"),this.errorMsgDom.innerHTML=t},t.prototype.clearErrorMsg=function(){this.errorMsgDom.classList.add("payment__method-error--hidden"),this.errorMsgDom.innerHTML="&nbsp;"},t.prototype.getTranslationText=function(t){var e,n=this.view.querySelector(".paypal__text-translations");if(!n)throw"Paypal text translations not found";if(!(t in(e=JSON.parse(n.textContent))))throw"Paypal translation for key "+t+" not found";return e[t]},Object.defineProperty(t.prototype,"errorMsgDom",{get:function(){var t=this.view.querySelector(".payment__method-error");if(!t)throw"Missing Paypal Error message DOM not found";return t},enumerable:!0,configurable:!0}),t.prototype.mountView=function(e,n){return r(this,void 0,void 0,function(){var i,r,a;return o(this,function(o){switch(o.label){case 0:return this.view?[2,this.view]:[4,p.AjaxTemplate.load(t.TEMPLATE_NAME)];case 1:if(i=o.sent(),(r=document.createElement("div")).innerHTML=i,this.view=r,e.appendChild(this.view),!(a=this.view.querySelector(t.buttonMountPointSelector)))throw"Mount point for Paypal button not found";switch(n.action.actionName){case"PaySubscription":this.mountPaySubscription(a,n.action.actionParams);break;case"PayPackage":this.mountPayPackage(a,n.action.actionParams);break;case"UpdateSubscription":this.mountUpdateSubscription(a,n.action.actionParams);break;default:throw"Unknown Paypal action for Paypal mountPoint func"}return[2,this.view]}})})},t.prototype.mountPayPackage=function(t,e){return r(this,void 0,void 0,function(){var n,i;return o(this,function(r){switch(r.label){case 0:return this.packageParams=e,[4,this.loadPaypalLibrary()];case 1:return r.sent(),n=this._onPaymentInit_package,i=this._onAuthorize_package,this.mountPaypalButton(t,{payment:n,onAuthorize:i}),[2]}})})},t.prototype.mountPaySubscription=function(t,e){return r(this,void 0,void 0,function(){var n,i;return o(this,function(r){switch(r.label){case 0:return this.subscriptionParams=e,[4,this.loadPaypalLibrary()];case 1:return r.sent(),n=this._onPaymentInit_subsc,i=this._onAuthorize_subsc,this.mountPaypalButton(t,{payment:n,onAuthorize:i}),[2]}})})},t.prototype.mountUpdateSubscription=function(t,e){return r(this,void 0,void 0,function(){return o(this,function(n){return[2,this.mountPaySubscription(t,e)]})})},t.prototype.mountPaypalButton=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(i){switch(i.label){case 0:return[4,this.loadPaypalLibrary()];case 1:return n=i.sent(),t.getAttribute("id")||t.setAttribute("id",h.Tools.randomId()),n.Button.render({env:c.Settings.get("paypal_env"),locale:this.assignedLocale,commit:!0,style:{label:"paypal",size:"medium",shape:"rect",color:"blue",tagline:!1},client:{sandbox:c.Settings.get("paypal_sandbox_key"),production:c.Settings.get("paypal_production_key")},payment:e.payment,onAuthorize:e.onAuthorize,onCancel:this._onCancel},"#"+t.getAttribute("id")),[2]}})})},t.prototype.removeUndefinedValuesFromObject=function(t){var e={};for(var n in t){void 0===t[n]||(e[n]=t[n])}return e},t.prototype.loadPaypalLibrary=function(){return r(this,void 0,void 0,function(){var e=this;return o(this,function(n){switch(n.label){case 0:return this.isPaypalLibLoaded?[2,window.paypal]:[4,new Promise(function(n,i){s.lazyload(t.paypalLibSrc);var r=window.setInterval(function(){e.isPaypalLibLoaded&&(clearInterval(r),n(window.paypal))},100)})];case 1:return[2,n.sent()]}})})},Object.defineProperty(t.prototype,"paypal",{get:function(){var t=this;return new Promise(function(e,n){t.loadPaypalLibrary().then(function(t){return e(t)})})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPaypalLibLoaded",{get:function(){return null!==window.paypal&&"object"==typeof window.paypal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"assignedLocale",{get:function(){var t="en_US";switch(window.lang){case"en-US":t="en_US";break;case"es":t="es_ES";break;case"it":t="it_IT";break;case"fr":t="fr_FR";break;case"de":t="de_DE";break;case"pt":t="pt_BR";break;case"zh-cn":t="zh_CN";break;case"id":t="id_ID";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"pl":t="pl_PL";break;case"ru":t="ru_RU";break;case"sv":t="sv_SE";break;case"th":t="th_TH";break;case"zh-tw":t="zh_TW"}return t},enumerable:!0,configurable:!0}),t.prototype.dispatchEvent=function(t){return this.eventEmitter.dispatchEvent(t)},t.prototype.addEventListener=function(t,e){return this.eventEmitter.addEventListener(t,e)},t.paypalLibSrc="https://www.paypalobjects.com/api/checkout.js",t.TEMPLATE_NAME="paypal",t.buttonMountPointSelector=".payment__paypal-view__button-binding",t}();e.PaypalService=g},function(t,e,n){"use strict";function i(){return window.navigator.mockUserAgent||window.navigator.userAgent}function r(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}function o(t){return void 0===t&&(t=i()),-1!==t.indexOf("FBAN")||-1!==t.indexOf("FBAV")}function a(t){return void 0===t&&(t=i()),/FxiOS/i.test(t)}function s(t){return void 0===t&&(t=i()),/EdgiOS/i.test(t)}function l(t){return void 0===t&&(t=i()),t.indexOf("Opera Mini")>-1}function c(t){return void 0===t&&(t=i()),/Android/.test(t)}function u(t){return void 0===t&&(t=i()),/iPhone|iPod|iPad/.test(t)}function d(t){return void 0===t&&(t=i()),/\bGSA\b/.test(t)}function p(t){return void 0===t&&(t=i()),/QQBrowser/.test(t)}function h(t){return void 0===t&&(t=i()),!!u(t)&&(!!d(t)||/.+AppleWebKit(?!.*Safari)/.test(t))}function f(t){return void 0===t&&(t=i()),!!c(t)&&(/Version\/[\d.]+/.test(t)&&!l(t))}function g(){var t=i();return/Macintosh.*AppleWebKit(?!.*Safari)/i.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getUserAgent=i,e.isDevice=function(){return!!i().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)},e.isStandAlone=r,e.isFacebookWebView=o,e.isFirefoxIOS=a,e.isEdgeIOS=s,e.isOperaMini=l,e.isAndroid=c,e.isIos=u,e.isGoogleSearchApp=d,e.isQQBrowser=p,e.isIosWebview=h,e.isAndroidWebview=f,e.isWebView=function(){return o()||h()||f()},e.isIE=function(){return!!window.document.documentMode||Boolean(window.navigator&&window.navigator.userAgent&&/Edge|MSIE/i.test(window.navigator.userAgent))},e.isIECompHeader=function(){var t=window.document.querySelector('meta[http-equiv="X-UA-Compatible"]'),e=window.document.querySelector('meta[content="IE=edge"]');return!(!t||!e)},e.isIEIntranet=function(){if(window.document.documentMode)try{var t=window.status;return window.status="testIntranetMode","testIntranetMode"===window.status&&(window.status=t,!0)}catch(t){return!1}return!1},e.isMacOsCna=g,e.supportsPopups=function(t){return void 0===t&&(t=i()),!(h(t)||f(t)||l(t)||a(t)||s(t)||o(t)||p(t)||g()||r())}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=n(12),s=n(13),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="TrialSuccessState",e.LAYOUT_TEMPLATE_NAME="new-premium",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.init(),e.hideHeaderAndFooter(),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new o.IloveEvent("end"))},e}return r(e,t),e.prototype.init=function(){this.actionBtn.addEventListener("click",this._onDoneButtonClick);var t=this.dialogSubtitle;t.innerHTML=t.innerHTML.replace("${email}","<b>${email}</b>"),t.innerHTML=a.Lang.tr(t.innerHTML,{email:this.authenticatedUserEmail})},e.prototype.hideHeaderAndFooter=function(){var t=this.domRoot.querySelector(".dialog__header");if(!t)throw"Header not found";var e=this.domRoot.querySelector(".dialog__footer");if(!e)throw"Footer not found";t.style.display="none",e.style.display="none"},Object.defineProperty(e.prototype,"dialogSubtitle",{get:function(){var t=this.domStateRoot.querySelector(".dialog__subtitle");if(!t)throw"Description elem not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authenticatedUserEmail",{get:function(){var t=s.UserModel.get();if(!t)throw"Authenticated user not found!";return t.email},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector(".dialog__action [next-from-payment-completed]");if(!t)throw"'Done' button not found";return t},enumerable:!0,configurable:!0}),e}(n(10).StateBase);e.TrialSuccessState=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="AuthState",e.LAYOUT_TEMPLATE_NAME="subscription-update",e.onDomReady=function(){e.initAbstractAuth(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen()},e._onLoginSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e._onRegisterSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e.executeAfterLoginOrRegisterSuccess=function(){var t=e.ctx.calculateNextStateAfterAuth();e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e}(n(65).AbstractAuthState);e.AuthState=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),r=function(){function t(t,e){this.htmlTemplate=t,this.data=e}return t.prototype.render=function(t,e){return void 0===e&&(e=null),this.domRoot=t,this.summaryWarningTextDomRoot=e,this.fillSummaryTables(),this},t.prototype.setTexts=function(t){return this.texts=t,this},t.prototype.fillSummaryTables=function(){var t=this.domRoot,e=this.data,n=e.summary,i=e.text;if(i&&"string"==typeof i&&i.length>0){if(!this.summaryWarningTextDomRoot)throw"'summaryWarningTextDomRoot' not present";this.summaryWarningTextDomRoot.innerHTML=i,this.summaryWarningTextDomRoot.style.display=""}else this.summaryWarningTextDomRoot&&(this.summaryWarningTextDomRoot.style.display="none");if(n.current){var r=this.buildSummaryTable("summary--current",this.texts.current,n.current);t.appendChild(r)}if(n.new){r=this.buildSummaryTable("summary--new",this.texts.new,n.new);t.appendChild(r)}},t.prototype.buildSummaryTable=function(t,e,n){var r=i.Tools.createHTMLFromText(this.htmlTemplate);r.classList.add(t),r.querySelector(".summary__title").innerHTML=e;for(var o=r.querySelector(".summary__items"),a=r.querySelector(".summary__total"),s=0;s<n.length;s++){var l=n[s];if(l.total)!0,a.classList.add("summary__total--visible"),r.querySelector(".summary__total__label").innerHTML=l.text,r.querySelector(".summary__total__value").innerHTML=l.price;else{var c=document.createElement("div"),u=document.createElement("div"),d=document.createElement("div");c.classList.add("summary__item"),u.classList.add("summary__item__text"),d.classList.add("summary__item__price"),c.appendChild(u),c.appendChild(d),u.innerHTML=l.text,d.innerHTML=l.price,o.appendChild(c)}}return r},t}();e.SummaryBuilder=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e,n){this.x=t,this.y=e,this.time=n||Date.now()}return t.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time},t.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0},t}();e.Point=i},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38)],void 0===(o="function"==typeof(i=function(t){var e=t.transform;t.transform=function(n,i,r,o,a){e.call(t,t.scale(n,i,a),i,r,o,a)},t.transformCoordinates=function(){},t.getTransformedOptions=function(t,e){var n,i,r,o,a=e.aspectRatio;if(!a)return e;for(i in n={},e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n.crop=!0,r=t.naturalWidth||t.width,o=t.naturalHeight||t.height,r/o>a?(n.maxWidth=o*a,n.maxHeight=o):(n.maxWidth=r,n.maxHeight=r/a),n},t.renderImageToCanvas=function(t,e,n,i,r,o,a,s,l,c){return t.getContext("2d").drawImage(e,n,i,r,o,a,s,l,c),t},t.hasCanvasOption=function(t){return t.canvas||t.crop||!!t.aspectRatio},t.scale=function(e,n,i){n=n||{};var r,o,a,s,l,c,u,d,p,h,f,g=document.createElement("canvas"),m=e.getContext||t.hasCanvasOption(n)&&g.getContext,v=e.naturalWidth||e.width,y=e.naturalHeight||e.height,_=v,b=y;function w(){var t=Math.max((a||_)/_,(s||b)/b);t>1&&(_*=t,b*=t)}function S(){var t=Math.min((r||_)/_,(o||b)/b);t<1&&(_*=t,b*=t)}if(m&&(n=t.getTransformedOptions(e,n,i),u=n.left||0,d=n.top||0,n.sourceWidth?(l=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=v-l-n.right)):l=v-u-(n.right||0),n.sourceHeight?(c=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(d=y-c-n.bottom)):c=y-d-(n.bottom||0),_=l,b=c),r=n.maxWidth,o=n.maxHeight,a=n.minWidth,s=n.minHeight,m&&r&&o&&n.crop?(_=r,b=o,(f=l/c-r/o)<0?(c=o*l/r,void 0===n.top&&void 0===n.bottom&&(d=(y-c)/2)):f>0&&(l=r*c/o,void 0===n.left&&void 0===n.right&&(u=(v-l)/2))):((n.contain||n.cover)&&(a=r=r||a,s=o=o||s),n.cover?(S(),w()):(w(),S())),m){if((p=n.pixelRatio)>1&&(g.style.width=_+"px",g.style.height=b+"px",_*=p,b*=p,g.getContext("2d").scale(p,p)),(h=n.downsamplingRatio)>0&&h<1&&_<l&&b<c)for(;l*h>_;)g.width=l*h,g.height=c*h,t.renderImageToCanvas(g,e,u,d,l,c,0,0,g.width,g.height),u=0,d=0,l=g.width,c=g.height,(e=document.createElement("canvas")).width=l,e.height=c,t.renderImageToCanvas(e,g,0,0,l,c,0,0,l,c);return g.width=_,g.height=b,t.transformCoordinates(g,n),t.renderImageToCanvas(g,e,u,d,l,c,0,0,_,b)}return e.width=_,e.height=b,e}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38),n(69)],void 0===(o="function"==typeof(i=function(t){t.ExifMap=function(){return this},t.ExifMap.prototype.map={Orientation:274},t.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.getExifThumbnail=function(e,n,i){if(i&&!(n+i>e.byteLength))return t.createObjectURL(new Blob([e.buffer.slice(n,n+i)]))},t.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},t.exifTagTypes[7]=t.exifTagTypes[1],t.getExifValue=function(e,n,i,r,o,a){var s,l,c,u,d,p,h=t.exifTagTypes[r];if(h&&(s=h.size*o,!((l=s>4?n+e.getUint32(i+8,a):i+8)+s>e.byteLength))){if(1===o)return h.getValue(e,l,a);for(c=[],u=0;u<o;u+=1)c[u]=h.getValue(e,l+u*h.size,a);if(h.ascii){for(d="",u=0;u<c.length&&"\0"!==(p=c[u]);u+=1)d+=p;return d}return c}},t.parseExifTag=function(e,n,i,r,o){var a=e.getUint16(i,r);o.exif[a]=t.getExifValue(e,n,i,e.getUint16(i+2,r),e.getUint32(i+4,r),r)},t.parseExifTags=function(t,e,n,i,r){var o,a,s;if(!(n+6>t.byteLength||(o=t.getUint16(n,i),(a=n+2+12*o)+4>t.byteLength))){for(s=0;s<o;s+=1)this.parseExifTag(t,e,n+2+12*s,i,r);return t.getUint32(a,i)}},t.parseExifData=function(e,n,i,r,o){if(!o.disableExif){var a,s,l,c=n+10;if(1165519206===e.getUint32(n+4)&&!(c+8>e.byteLength)&&0===e.getUint16(n+8)){switch(e.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return}42===e.getUint16(c+2,a)&&(s=e.getUint32(c+4,a),r.exif=new t.ExifMap,(s=t.parseExifTags(e,c,c+s,a,r))&&!o.disableExifThumbnail&&(l={exif:{}},s=t.parseExifTags(e,c,c+s,a,l),l.exif[513]&&(r.exif.Thumbnail=t.getExifThumbnail(e,c+l.exif[513],l.exif[514]))),r.exif[34665]&&!o.disableExifSub&&t.parseExifTags(e,c,c+r.exif[34665],a,r),r.exif[34853]&&!o.disableExifGps&&t.parseExifTags(e,c,c+r.exif[34853],a,r))}}},t.metaDataParsers.jpeg[65505].push(t.parseExifData)})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38),n(69)],void 0===(o="function"==typeof(i=function(t){t.IptcMap=function(){return this},t.IptcMap.prototype.map={ObjectName:5},t.IptcMap.prototype.get=function(t){return this[t]||this[this.map[t]]},t.parseIptcTags=function(t,e,n,i){function r(t,e,n){for(var i="",r=e;r<e+n;r++)i+=String.fromCharCode(t.getUint8(r));return i}for(var o,a,s,l=e;l<e+n;)28===t.getUint8(l)&&2===t.getUint8(l+1)&&(s=t.getUint8(l+2))in i.iptc.tags&&(a=t.getInt16(l+3),o=r(t,l+5,a),i.iptc.hasOwnProperty(s)?i.iptc[s]instanceof Array?i.iptc[s].push(o):i.iptc[s]=[i.iptc[s],o]:i.iptc[s]=o),l++},t.parseIptcData=function(e,n,i,r,o){if(!o.disableIptc)for(var a=n+i,s=function(t,e){return 943868237===t.getUint32(e)&&1028===t.getUint16(e+4)};n+8<a;){if(s(e,n)){var l=e.getUint8(n+7);l%2!=0&&(l+=1),0===l&&(l=4);var c=n+8+l;if(c>a)break;var u=e.getUint16(n+6+l);if(n+u>a)break;return r.iptc=new t.IptcMap,t.parseIptcTags(e,c,u,r)}n++}},t.metaDataParsers.jpeg[65517].push(t.parseIptcData)})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,a=r+n;t^=-1;for(var s=r;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var i=n(44),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",a=0;a<e;a++)n+=String.fromCharCode(t[a]);return n}a[254]=a[254]=1,e.string2buf=function(t){var e,n,r,o,a,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,o,s=e||t.length,c=new Array(2*s);for(i=0,n=0;n<s;)if((r=t[n++])<128)c[i++]=r;else if((o=a[r])>4)c[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<s;)r=r<<6|63&t[n++],o--;o>1?c[i++]=65533:r<65536?c[i++]=r:(r-=65536,c[i++]=55296|r>>10&1023,c[i++]=56320|1023&r)}return l(c,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(94),r=n(13),o=n(95),a=n(130),s=n(25),l=n(14),c=function(){function n(t){t||(t={}),this.uuid=t.uuid||i.Frame.uuid(),this.setData(t)}return n.prototype.setData=function(t){null==t&&(t={}),this.mode=t.mode||"font",this.color="#555555",this.signature=t.signature||"",this.initials=t.initials||"",t.font&&(this.fontFamily=t.font.fontFamily||"alex",this.color=t.font&&t.font.color?t.font.color:"#555555",this.signatureFontImage=null,this.initialsFontImage=null),t.image&&(t.image.signature&&(this.signatureImageService=t.image.signature),t.image.initials&&(this.initialsImageService=t.image.initials),t.image.signatureApi&&(this.signatureImageApi=t.image.signatureApi),t.image.initialsApi&&(this.initialsImageApi=t.image.initialsApi),t.image.signatureBase64&&(this.signatureImageService=t.image.signatureBase64),t.image.initialsBase64&&(this.initialsImageService=t.image.initialsBase64)),t.draw&&(t.draw.signature&&(this.signatureDrawService=t.draw.signature),t.draw.signature&&(this.initialsDrawService=t.draw.initials),t.draw.signatureData&&(this.signatureDrawData=t.draw.signatureData),t.draw.initialsData&&(this.initialsDrawData=t.draw.initialsData),t.draw.signatureBase64&&(this.signatureDrawBase64=t.draw.signatureBase64,o.ImageHelper.preload(this.signatureDrawBase64)),t.draw.initialsBase64&&(this.initialsDrawBase64=t.draw.initialsBase64,o.ImageHelper.preload(this.initialsDrawBase64)),t.draw.color&&(this.color=t.draw.color&&""!=t.draw.color?t.draw.color:"#555555"))},n.prototype.cleanStrings=function(){this.signature=this.signature.trim(),this.initials=this.initials.trim()},n.prototype.correctEmptyInitials=function(){""!=this.initials&&null!=this.initials||""!=this.signature&&null!=this.signature&&(this.initials=this.signature.charAt(0))},n.prototype.correctEmptyServiceImages=function(){""==this.signatureDrawService||null==this.signatureDrawService||""!=this.initialsDrawService&&null!=this.initialsDrawService||(this.initialsDrawService=this.signatureDrawService.replace("signature","initials")),""==this.initialsDrawService||null==this.initialsDrawService||""!=this.signatureDrawService&&null!=this.signatureDrawService||(this.signatureDrawService=this.initialsDrawService.replace("initials","signature"))},n.prototype.getServiceData=function(){return this.cleanStrings(),this.correctEmptyInitials(),this.correctEmptyServiceImages(),{mode:this.mode,signature:this.signature,initials:this.initials,font:{fontFamily:this.fontFamily,color:this.color},draw:{signature:this.signatureDrawService,initials:this.initialsDrawService,signatureData:this.signatureDrawData,initialsData:this.initialsDrawData,color:this.color},image:{signature:this.signatureImageService,initials:this.initialsImageService}}},n.prototype.getSignaturePreview=function(){return"font"==this.mode?(this.signatureFontImage||(this.signatureFontImage=a.CanvasHelper.textToImage(this.signature,e.FONT_FAMILY_EXPLORER[this.fontFamily],this.color)),'<img class="sign__element__textImage" src="'+this.signatureFontImage+'">'):"draw"==this.mode?this.signatureDrawBase64&&this.signatureDrawBase64?'<img src="'+this.signatureDrawBase64+'">':this.signatureDrawService?'<img src="'+this.signatureDrawService+"?t="+Date.now()+'">':'<img src="">':"image"==this.mode?this.signatureImageBase64&&""!=this.signatureImageBase64?'<img src="'+this.signatureImageBase64+'">':this.signatureImageService?'<img src="'+this.signatureImageService+"?t="+Date.now()+'">':'<img src="'+this.signatureImageBase64+'">':void 0},n.prototype.getFrame=function(){return'<div class="signature__firm">'+i.Frame.make(this.uuid)+"</div>"},n.prototype.getNamePreview=function(){return'<span class="sign__name">'+this.signature+"</span>"},n.prototype.getInitialsPreview=function(){return"font"==this.mode?(this.initialsFontImage&&null!=this.initialsFontImage||(this.initialsFontImage=a.CanvasHelper.textToImage(this.initials,e.FONT_FAMILY_EXPLORER[this.fontFamily],this.color)),'<img src="'+this.initialsFontImage+'">'):"draw"==this.mode?this.initialsDrawBase64&&""!=this.initialsDrawBase64?'<img src="'+this.initialsDrawBase64+'">':this.initialsDrawService?'<img src="'+this.initialsDrawService+"?t="+Date.now()+'">':'<img src="'+this.initialsDrawBase64+'">':"image"==this.mode?this.initialsImageBase64&&""!=this.initialsImageBase64?'<img src="'+this.initialsImageBase64+'">':this.initialsImageService?'<img src="'+this.initialsImageService+"?t="+Date.now()+'">':'<img src="'+this.initialsImageBase64+'">':void 0},n.prototype.getData=function(){var n=this;this.cleanStrings(),this.correctEmptyInitials();var i={initials:this.initials,name:this.signature,signature_type:this.mode,initials_type:this.mode};if(i.font=e.FONT_FAMILY_SERVER.arial,"image"==this.mode&&""==this.signatureImageApi||""==this.initialsImageApi?(s.configureScope(function(t){t.setExtra("signature data",n),t.setExtra("signatureImageApi",n.signatureImageApi),t.setExtra("initialsImageApi",n.initialsImageApi)}),s.captureMessage("Signature forced from image to font",l.Severity.Error)):"draw"!=this.mode||""!=this.signatureDrawApi&&""!=this.initialsDrawApi||(s.configureScope(function(t){t.setExtra("signature data",n),t.setExtra("signatureDrawApi",n.signatureDrawApi),t.setExtra("initialsDrawApi",n.initialsDrawApi)}),s.captureMessage("Signature forced from draw to font",l.Severity.Error)),"image"==this.mode?(i.signature_type="image",i.initials_type="image",i.signature_image_server_filename=this.signatureImageApi,i.initials_image_server_filename=this.initialsImageApi):"draw"==this.mode?(i.signature_type="sign",i.initials_type="sign",i.signature_image_server_filename=this.signatureDrawApi,i.initials_image_server_filename=this.initialsDrawApi):"font"==this.mode&&(i.signature_type="text",i.initials_type="text",i.color=this.color,i.font=e.FONT_FAMILY_SERVER.arial,e.FONT_FAMILY_SERVER[this.fontFamily]&&(i.font=e.FONT_FAMILY_SERVER[this.fontFamily])),i.browser_signed=window.navigator.appVersion.substring(0,249),1==r.UserModel.isUser()){var o=r.UserModel.get();i.custom_string=o.loginkey,i.custom_int=o.id}return 1==t("body").hasClass("rtl")&&(i.rtl=1),i},n.prototype.validateData=function(){var t=this.getData();return!!("font"===this.mode||t.signature_image_server_filename&&""!=t.signature_image_server_filename&&t.initials_image_server_filename&&""!=t.initials_image_server_filename)},n}();e.SignatureModel=c,e.FONT_FAMILY_NAMES=["alex","allura","handle","kristi","aurore","mark","reenie","satisfy","zeyada","shadows"],e.FONT_FAMILY_SERVER={arial:"Arial-Unicode-MS",shadows:"Shadows-Into-Light",aurore:"La-Belle-Aurore",alex:"Alex-Brush-Regular",allura:"Allura-Regular",handle:"Handlee-Regular",kristi:"Kristi-Regular",mark:"Marck-Script",reenie:"Reenie-Beanie",satisfy:"Satisfy-Regular",smooth:"SmoothStone-Regular",secret:"TheSecret-Regular",zeyada:"Zeyada"},e.FONT_FAMILY_EXPLORER={arial:"Arial-Unicode",shadows:"Shadows Into Light",aurore:"La Belle Aurore",alex:"Alex Brush",allura:"Allura",handle:"Handlee",kristi:"Kristi",mark:"Marck Script",reenie:"Reenie Beanie",satisfy:"Satisfy",smooth:"SmoothStone",secret:"TheSecret",zeyada:"Zeyada"},e.FONT_STYLES="https://fonts.googleapis.com/css?family=Alex+Brush|Allura|Handlee|Kristi|La+Belle+Aurore|Marck+Script|Reenie+Beanie|Satisfy|Shadows+Into+Light|Zeyada&display=swap"}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),r=function(){function t(){}return t.makeImgFromText=function(e,n,i){void 0===i&&(i="black");var r=document.createElement("canvas");r.id="textCanvas",r.width=1824,r.height=300,r.style.zIndex="0",r.style.position="absolute";var o=r.getContext("2d");return o.font='normal 68px "'+n+'"',o.fillStyle=i,o.textAlign="center",o.fillText(e,r.width/2,r.height/2),t.trimCanvas(o),r},t.forcePrerenderFonts=function(e,n){for(var r in void 0===n&&(n=null),n&&i.lazyloadCss(n),e)t.forcePrerenderFont(e[r])},t.forcePrerenderFont=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.left="-999999px",e.style.width="100px",e.style.fontFamily=t,e.innerHTML="force text",document.body.appendChild(e)},t.trimCanvas=function(t){var e,n,i,r=t.canvas,o=r.width,a=r.height,s={x:[],y:[]},l=t.getImageData(0,0,r.width,r.height);for(n=0;n<a;n++)for(e=0;e<o;e++)i=4*(n*o+e),l.data[i+3]>0&&(s.x.push(e),s.y.push(n));s.x.sort(function(t,e){return t-e}),s.y.sort(function(t,e){return t-e});var c=s.x.length-1;o=1+s.x[c]-s.x[0],a=1+s.y[c]-s.y[0];var u=t.getImageData(s.x[0],s.y[0],o,a);return r.width=o,r.height=a,t.putImageData(u,0,0),t},t.canvasToImgUrl=function(t){return t.toDataURL("image/png").toString()},t.textToImage=function(e,n,i){return void 0===i&&(i="black"),t.canvasToImgUrl(t.makeImgFromText(e,n,i))},t}();e.CanvasHelper=r},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(132),a=n(13),s=n(26),l=n(47),c=n(32),u=n(25),d=n(14),p=function(t){function e(e){var n=t.call(this,e)||this;return n.target=n.target||"api",n.chunkSize=!1,n}return r(e,t),e.prototype.getUrl=function(){return"api"==this.target?t.prototype.getUrl.call(this):this.getServiceUrl()},e.prototype.getServiceUrl=function(){return c.Settings.get("service")+"/signature/upload"},e.prototype.getUploadParams=function(){return"api"==this.target?{task:this.taskId,v:this.appVersion}:{}},e.prototype.setApiMode=function(){this.target="api",this.uploader.stop(),this.token=this.tokenApi,this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start()},e.prototype.setServiceMode=function(){var t=a.UserModel.get();if(!t||!t.token)return!1;this.tokenService=t.token,this.target="service",this.token=this.tokenService,this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start()},e.prototype.setServiceOnlyMode=function(){var t=a.UserModel.get();if(!t||!t.token)return!1;this.target="serviceOnly",this.token=t.token,this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start()},e.prototype.fileUploaded=function(t,e){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.fileUploaded(t,e):e.service_filename?this.uploadToApi(e.service_filename,t):(u.configureScope(function(t){t.setExtra("error",e)}),u.captureMessage("[sign] no server_filename on response",d.Severity.Error),this.fatalError("no server_filename present"))},e.prototype.uploadToApi=function(t,e){void 0===e&&(e=null);var n=this;null==e&&(e=s.Tools.randomId(),this.files.addFile(new l.File({id:e,name:t,filename:t}))),this.optionsManager.api.uploadCloudFile(this.taskId,t).then(function(i){i.service_filename=t,n.optionsManager.fileUploaded(e,i)},function(){})},e.prototype.error=function(e){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.invalidUpload(e):(this.setApiMode(),this.reUploadAllFiles()),t.prototype.error.call(this,e)},e.prototype.fatalError=function(t){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.fatalError(t):(this.setApiMode(),this.reUploadAllFiles())},e}(o.PluploadUpload);e.ServicePlupload=p},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=n(12),o=n(25),a=n(14),s=n(48),l=function(){function e(t){this.SLOW_CONNECTION_LIMIT=200,this.BPS_CONNECTION_LIMIT=2e4,this.RETRY_NUM=4,this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.id="pickfiles",this.container="uploader",this.servers=null,this.haveDrop=!0,this.dropElement="workArea",this.ignoreFiles=!1,this.chunkSize="2Mb",Object.assign(this,t),this.appVersion=s.APP_VERSION,this.apiVersion=s.API_VERSION,this.slowConnectionCounter=0,this.dnsFallback=!1,this.dnsFallbackActive=!1,this.servers=this.shuffle(this.servers),this.notCheckedServers=this.servers,this.retryCount=this.RETRY_NUM,this.settimer0=null,this.settimer1=null;var e=this.notCheckedServers.indexOf(this.workerServer);e>-1&&this.notCheckedServers.splice(e,1),this.uploader=null,this.timeout=null,this.timeLimit=684e4,this.timeCheck=3e5,this.init()}return e.prototype.shuffle=function(t){for(var e,n=t.length-1;n>0;n--){var i=Math.floor(Math.random()*(n+1));e=[t[i],t[n]],t[n]=e[0],t[i]=e[1]}return t},e.prototype.init=function(){var e=this;this.initPlupload().then(function(){t("#"+e.id).addClass("active"),e.configPlupload(),e.dragDrop(),e.checkTimeoutInterval()},function(){})},e.prototype.initPlupload=function(){return new Promise(function(t){if(null===window.plupload||void 0!==window.plupload)return t(!0);i.lazyload("/js/plupload/plupload.full.min.js");var e=window.setInterval(function(){if(null!==window.plupload&&"object"==typeof window.plupload)return clearInterval(e),t(!0)},100)})},e.prototype.changeDNSServer=function(t){return this.workerServer=this.workerServer.replace(".","-cf."),this.optionsManager.changeServer(this.workerServer),this.uploader.setOption("url",this.workerServer+"/"+this.apiVersion+"/upload"),this.dnsFallbackActive=!0,window.ga("send","event","upload-info","upload-change","dns"),o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"change dns: "+t}),!0},e.prototype.checkServerStatus=function(){var t=this;return new Promise(function(e,n){1==t.optionsManager.checkServerStatusOnStart?(t.optionsManager.checkServerStatusOnStart=!1,t.optionsManager.processManager.api.getStatus(t.workerServer).then(function(n){n&&"down"==n.status&&t.changeServer(),e()},function(n){t.changeServer(),e()})):e()})},e.prototype.changeServer=function(){var e=this;if(this.notCheckedServers=t.grep(this.notCheckedServers,function(t){return t!=e.workerServer.replace("-cf.",".")}),e.notCheckedServers.length>0){var n=this.workerServer;return this.workerServer=this.notCheckedServers[0],e.uploader.setOption("url",this.workerServer+"/"+e.apiVersion+"/upload"),window.ga("send","event","upload-info","upload-change","server-"+n),this.optionsManager.changeServer(this.workerServer),o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"change server: "+n+" - "+this.workerServer}),!0}return!1},e.prototype.configPlupload=function(){var e=this,n={file:null,offset:0,chunk:0};this.uploader=new window.plupload.Uploader({browse_button:e.id,chunk_size:this.chunkSize,max_retries:0,runtimes:"html5",container:e.container,drop_element:e.dropElement,dragdrop:e.haveDrop,multi_selection:e.config.getConfig("multiSelection"),url:e.getUrl(),filters:{mime_types:e.config.getConfig("mimeTypes")},headers:e.getHeaders(),multipart_params:e.getUploadParams(),init:{Init:function(t,e){},PostInit:function(){},QueueChanged:function(t){},FilesAdded:function(n,i){e.checkServerStatus().then(function(){i.length;if(t.each(i,function(t,n){n.upBy=e.id,1==e.ignoreFiles&&(n.ignored=!0,e.optionsManager.limits.addIgnoredFile(n.id)),e.files.addFile(n)}),0==e.ignoreFiles&&(i=e.checkLimits(i,n)),t.each(e.files.removed,function(t,e){try{n.removeFile(e)}catch(t){}}),!(i.length>0))return!1;n.start(),t.each(i,function(t,i){"errorData"in i&&delete i.errorData,e.fileAdded(i,n)})})},FilesRemoved:function(t,e){},BeforeUpload:function(t,e){n.file=e,n.offset=0,n.chunk=0,o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"before upload: "+e.name+" w."+e.size})},BeforeChunkUpload:function(r,s,l,c,u){return!1===e.isOnline?(r.stop(),!1):(e.timeout=Date.now(),o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"before chunk: "+n.chunk}),1==e.dnsFallback&&0==e.dnsFallbackActive?(e.changeDNSServer("slow"),i(),!1):0==c.size?(s.status=window.plupload.FAILED,e.error({error:"FileRemoved",file:s}),s.errorData="FileRemoved",r.removeFile(s.id),e.uploader.stop(),t("body").hasClass("process-run")||e.uploader.start(),!1):void 0)},ChunkUploaded:function(t,e,i){n.offset=i.offset,n.chunk++},UploadProgress:function(n,i){t("#uploadSpeed").html(window.plupload.formatSize(n.total.bytesPerSec).toUpperCase()+"/S");var r=Math.round((n.total.size-n.total.loaded)/n.total.bytesPerSec*1e3);void 0!=s(r)&&t("#timeLeft").html(s(r).toUpperCase()),i.size>3*e.BPS_CONNECTION_LIMIT&&n.total.bytesPerSec<e.BPS_CONNECTION_LIMIT?e.slowConnectionCounter++:e.slowConnectionCounter--,e.slowConnectionCounter==e.SLOW_CONNECTION_LIMIT&&(e.dnsFallback=!0,o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"Slow Connection: Set to change server"}))},FileUploaded:function(t,i,r){n.file=null;var o=JSON.parse(r.response);e.fileUploaded(i.id,o)},UploadComplete:function(t,e){},Error:function(n,s){-600!=s.code||0!=s.file.origSize?-600==s.code&&s.file.origSize>0?window.Toastr.error(r.Lang.t("FileSizeExceeded")+"<br>"+s.file.name,r.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):-601!=s.code?-200==s.code&&"status"in s&&400==s.status?e.error(s):-200==s.code?(o.addBreadcrumb({category:"upload",level:a.Severity.Error,message:"Server Error"}),500==s.status||401==s.status?(o.addBreadcrumb({category:"upload",level:a.Severity.Error,message:"Server Error"}),500==s.status&&(o.configureScope(function(t){t.setExtra("error500",s)}),o.captureMessage("upload500")),401==s.status&&(o.configureScope(function(t){t.setExtra("error401",s)}),o.captureMessage("upload401")),1==e.changeServer()?e.reUploadAllFiles():(e.timeout=null,e.uploader.stop(),e.fatalError("ServerError"),"file"in s&&(s.file.errorData="ServerError"))):e.retryCount>0?(e.retryCount--,e.uploader.stop(),i(!0)):0==e.dnsFallbackActive?(e.uploader.stop(),e.retryCount=e.RETRY_NUM,e.changeDNSServer("connection"),i(!0)):0==s.status&&"HTTP Error."==s.message?1==e.changeServer()?e.reUploadAllFiles():(e.timeout=null,t("body").hasClass("process-run")?(e.error({error:"ConnectionError"}),e.processManager.status="error",e.uploader.stop()):e.error({error:"ConnectionError"})):e.uploader.stop()):(e.uploader.stop(),n.removeFile(s.file.id),e.error(s)):window.Toastr.error(r.Lang.t("InvalidExtension")+"<br>"+s.file.name,r.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"}):window.Toastr.error(r.Lang.t("EmptyFile")+"<br>"+s.file.name,r.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"})}}});var i=function(t){void 0===t&&(t=!1),n.file.loaded=n.offset,clearTimeout(e.settimer1),e.settimer1=setTimeout(function(){o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"retry upload "}),n.file&&(n.file.status=window.plupload.UPLOADING,e.uploader.state=window.plupload.STARTED,e.uploader.trigger("UploadFile",n.file))},1500)};function s(t){r.Lang.t("Time left");var e,n=r.Lang.t("minute"),i=r.Lang.t("hour"),o=r.Lang.t("less than"),a=r.Lang.t("minutes"),s=r.Lang.t("hours"),l=r.Lang.t("seconds"),c=Math.floor(t/1e3);t%=1e3;var u=Math.floor(c/60);c%=60;var d=Math.floor(u/60);u%=60;Math.floor(d/60);return 0==(d%=60)?0==u?e=c+" "+l:1==u?e="1 "+n:u>1&&(e=" "+u+" "+a):1==d?e=o+" "+(d+1)+" "+s:d>1&&(e=o+" "+d+" "+i),e}window.addEventListener("goProcess",function(){var t={task:e.taskId,preview:0,v:e.appVersion};e.uploader.setOption("multipart_params",t)},!1),window.addEventListener("offline",function(){e.isOnline=!1,e.uploader.stop(),o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"go offline "})},!1),window.addEventListener("online",function(){if(e.isOnline=!0,null===n.file)return!1;o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"go online"}),i()},!1),window.addEventListener("fileRemoved",function(t){e.uploader.removeFile(t.detail.fileId)}),this.uploader.init()},e.prototype.reUploadAllFiles=function(){var t=this.uploader;o.addBreadcrumb({category:"upload",level:a.Severity.Info,message:"Reuploading all files "+this.id}),t.stop(),clearTimeout(this.settimer0),t.files.forEach(function(t,e){t.status=window.plupload.QUEUED,t.percent=0,t.loaded=0,t.error=!1,t.retry=!0,t.server_filename&&(delete t.server_filename,t.reUploaded=!0)}),this.settimer0=setTimeout(function(){t.refresh(),t.start()},500)},e.prototype.getHeaders=function(){return{Authorization:"Bearer "+this.token,Accept:"application/json"}},e.prototype.getUrl=function(){return this.workerServer+"/"+this.apiVersion+"/upload"},e.prototype.getUploadParams=function(){return{task:this.taskId,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0,pdfforms:1==window.pdfforms?1:0,pdfresetforms:1==window.pdfresetforms?1:0,v:this.appVersion}},e.prototype.checkLimits=function(t,e){return this.optionsManager.checkLimits(t,this.id)},e.prototype.fileAdded=function(t,e){t.runtime=e.runtime,t.canvasId=t.id,this.optionsManager.fileAdded(t,this.id,this.ignoreFiles).then(function(){},function(){})},e.prototype.fileUploaded=function(t,e){this.optionsManager.fileUploaded(t,e)},e.prototype.error=function(t){this.optionsManager.invalidUpload(t)},e.prototype.fatalError=function(t){this.optionsManager.fatalError(t)},e.prototype.dragDrop=function(){"function"!=typeof t.fn.dndhover&&0!=this.haveDrop&&(t.fn.dndhover=function(e){return this.each(function(){var e=t(this),n=t();e.on("dragenter",function(t){if(0===n.length){var i=t.originalEvent.dataTransfer;i.types&&(i.types.indexOf?-1!=i.types.indexOf("Files"):i.types.contains("Files"))&&e.trigger("dndHoverStart")}n=n.add(t.target)}),e.on("dragleave",function(t){setTimeout(function(){0===(n=n.not(t.target)).length&&e.trigger("dndHoverEnd")},1)}),e.on("drop",function(t){setTimeout(function(){0===(n=n.not(t.target)).length&&e.trigger("dndHoverEnd")},1)})})},t(".tool__workarea").dndhover().on({dndHoverStart:function(e){return t("#dropArea").text(r.Lang.t("dropIt")),t("#dropArea").show(),e.stopPropagation(),e.preventDefault(),!1},dndHoverEnd:function(e){return t("#dropArea").hide(),e.stopPropagation(),e.preventDefault(),!1}}))},e.prototype.timeIsOk=function(){if(null==this.timeout)return!0;var t=Date.now()-this.timeLimit;return this.timeout>t},e.prototype.checkTimeoutInterval=function(){var t=this;window.setInterval(function(){t.checkTimeout()},t.timeCheck)},e.prototype.checkTimeout=function(){null!=this.timeout&&(this.timeIsOk()||(this.uploader.stop(),this.optionsManager.timeout(),this.timeout=null))},e.prototype.changeTaskId=function(t){this.taskId=t;var e=this.getUploadParams();this.uploader.setOption("multipart_params",e)},e}();e.PluploadUpload=l}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(){}return e.width=function(e,n){void 0===n&&(n=null);var i=t("<div>"+e+"</div>");i.css({position:"absolute",visibility:"hidden",height:"auto",width:"auto","white-space":"nowrap","font-size":n}),i.appendTo(t("body"));var r=i.width();return i.remove(),r},e.getExistantTextNodeHeight=function(t){var e=0;if(document.createRange){var n=document.createRange();if(n.selectNodeContents(t),n.getBoundingClientRect){var i=n.getBoundingClientRect();i&&(e=i.bottom-i.top)}}return e},e.sanitize=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t.replace(/[&<>"'/]/gi,function(t){return e[t]})},e.stripTags=function(t){return t.replace(/(<([^>]+)>)/gi,"")},e.maxLength=function(t,e){return t.substring(0,e)},e.maxLengthEllipse=function(t,e){return t.length>e?t.substring(0,e-3)+"...":t},e}();e.TextHelper=n}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(48),a=n(52);e.DOCUMENT_SIGNED="Signer status can't be set to signed. Before has to have the viewed status. Currently has the signed status.",e.DOCUMENT_VALIDATED="Signer status can't be set to validated. Before has to have the viewed status. Currently has the validated status.",e.DOCUMENT_COMPLETED="Signature status is completed.",e.INSUFICIENT_CERTS="Signature can't be updated because ilovepdf.com user does not have enough certificates",e.INSUFICIENT_SIGNATURES="Signature can't be updated because ilovepdf.com user does not have enough signatures";var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.sign=function(t,e){return this.query("PUT","signature/signer/"+t,e)},e.prototype.signature=function(t){return this.query("POST","signature",t)},e.prototype.signatureUpdate=function(t,e){return this.query("PUT","signature/"+t,e)},e.prototype.uploadCloudFile=function(t,e){var n={task:t,cloud_file:e},i=a.FormDataHelper.jsonToFormData(n);return this.query("POST","upload",i)},e.prototype.templateGet=function(t){return this.query("GET","signature/template/load/"+t)},e.prototype.templateSave=function(t){return this.query("POST","signature/template",t)},e.prototype.templateUpdate=function(t,e){return this.query("PUT","signature/template/"+t,e)},e.prototype.templateDelete=function(t,e){return this.query("DELETE","signature/template/"+t,e)},e.prototype.delete=function(t){return this.query("DELETE","signature/"+t)},e.prototype.remove=function(t){return this.query("DELETE","signature/signer/"+t)},e.prototype.saveSettings=function(t,e){return this.query("POST","settings/"+t,e)},e.prototype.getSignature=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),null!=e&&null!=n?this.query("GET","signature/"+t+"?custom_int="+e+"&custom_string="+n):this.query("GET","signature/"+t)},e}(o.Api);e.SignApi=s},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(t){this.name=t,this._dom=this.buildModal(),this.reset()}return e.prototype.setHeaderTitle=function(t){this.dom.find(".modal-header .title").html(t)},e.prototype.setBodyTitle=function(t){this.dom.find(".modal-body .modalConfirm__title").html(t)},e.prototype.setBodySubtitle=function(t){this.dom.find(".modal-body .modalConfirm__subtitle").html(t)},e.prototype.show=function(){this.reset(),this.dom.modal("show")},e.prototype.hide=function(){this.dom.modal("hide")},e.prototype.reset=function(){this.setState("default")},e.prototype.setState=function(t,e){void 0===e&&(e={}),this.dom.attr("data-state",t),"error"===t&&e.message&&this.setErrorMessage(e.message)},e.prototype.setErrorMessage=function(t){this.dom.find(".modal-body .confirmModal__error").html(t)},Object.defineProperty(e.prototype,"dom",{get:function(){return this._dom},enumerable:!0,configurable:!0}),e.prototype.defaultNoCallback=function(){this.hide()},Object.defineProperty(e.prototype,"onYes",{get:function(){return this._onYes},set:function(t){this._onYes=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onNo",{get:function(){return this._onNo||this.defaultNoCallback},set:function(t){this._onNo=t},enumerable:!0,configurable:!0}),e.prototype.buildModal=function(){var e=this,n="confirmModal-template[data-template-name='"+this.name+"']",i=t(t("."+n).html());i.length;var r=i.find(".btn__yes"),o=i.find(".btn__no"),a=i.find(".btn__cancel");return r.click(function(){if(!e.onYes)throw"You need to specify a onYes callback action";e.onYes.call(e,e)}),o.click(function(){return e.onNo.call(e,e)}),a.click(function(){e.hide()}),i},e}();e.ConfirmModal=n}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CancelledReasonState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initForm(),e.initNextAction()},e.initNextAction=function(){var t=e.domRoot;t.querySelector("[next-from-cancelled-reason-sent]").addEventListener("click",function(){e._end()}),e.sendReasonBtn.addEventListener("click",function(){e._sendReason()}),e.sendReasonBtn.disabled=!0,e.radioButtons.forEach(function(t){t.addEventListener("change",function(){return e.sendReasonBtn.disabled=!1})})},e._sendReason=function(){document.getElementById("subscription-cancel-form");e.changeScreen("reasonSent")},e._end=function(){e.dispatchEvent(new a.IloveEvent("end")),window.location.reload()},e}return r(e,t),e.prototype.initForm=function(){var t=document.getElementById("subscription-cancel-form");t.addEventListener("submit",function(t){return t.preventDefault(),!1});for(var e=t.querySelectorAll('input[type="radio"]'),n=t.querySelector("[reasonOtherContent]"),i=0;i<e.length;i++)e[i].addEventListener("change",function(t){1==t.target.checked&&t.target.value&&"other"==t.target.value?n.classList.remove("hidden"):n.classList.add("hidden")})},Object.defineProperty(e.prototype,"radioButtons",{get:function(){var t=Array.from(this.domStateRoot.querySelectorAll("input[type='radio']"));if(0===t.length)throw"Radio buttons not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sendReasonBtn",{get:function(){var t=this.domRoot.querySelector("[next-from-cancelled-reason]");if(!t)throw"'Send reason' button not found";return t},enumerable:!0,configurable:!0}),e}(o.StateBase);e.CancelledReasonState=s},,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n(144),o=n(43),a=n(26),s=n(80),l=function(){function e(){this.init()}return e.prototype.init=function(){this.initTopMenu(),this.initCookieLaw(),this.initChangeLang(),this.initFormElements(),this.tooltipElements(),this.checkAddBlock(),r.Popup.initTermsPopup(),this.detectAutomate(),Cookies.remove("lastTool"),window.tools=a.Tools,window.ilove_openSocialAuthPopup=function(t,e){s.SocialAuthPopup.open(t,{},e)},1==this.inIframe()&&(window.location.href=atob("aHR0cHM6Ly93d3cuaWxvdmVwZGYuY29tL2ZvcmJpZGRlbmlmcmFtZQ=="))},e.prototype.initTopMenu=function(){t(".dropdown, #menuSmall").on("click",function(e){e.stopPropagation(),t(this).toggleClass("active"),t(".collapsiblock").not(this).removeClass("active")}),t(window).resize(function(){t(".dropdown, #menuSmall").removeClass("active")}),t("html").on("click",function(e){t(".dropdown, #menuSmall").removeClass("active")}),t(".logout").click(function(t){t.preventDefault(),i.UserModel.logout()})},e.prototype.initCookieLaw=function(){if(void 0!=window.uCookie){var e=["AT","BE","HR","BG","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"];-1===t.inArray(window.uCookie.uc,e)&&n(),0==window.uCookie.ck&&-1!=t.inArray(window.uCookie.uc,e)&&window.Toastr.info(window.uCookie.content,window.uCookie.title,{positionClass:"toast-bottom-left",timeOut:0,extendedTimeOut:"0",tapToDismiss:!1,closeButton:!0,onclick:function(e){t(e.target).hasClass("langtoas")&&i()},onCloseClick:function(){i()},iconClass:"toast-info toast-accept"})}function n(){window.Cookies.set("hcookie",1,{expires:3600,path:"/"})}function i(){window.Cookies.set("ck",1,{expires:3600,path:"/"}),n()}},e.prototype.initChangeLang=function(){void 0!==window.changeLang&&1!=window.Cookies.get("lcookie")&&(window.yesLang=function(){window.Cookies.set("lcookie",1),window.location.href=window.changeLang.urlLang},window.noLang=function(){window.Cookies.set("lcookie",1)},window.Toastr.info(window.changeLang.text,window.changeLang.title,{closeButton:!0,debug:!1,positionClass:"toast-bottom-left",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"500000",extendedTimeOut:"100000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}))},e.prototype.initFormElements=function(){t("form").preventDoubleSubmission(),t('input[type="color"], input.color').not(".no-picker").each(function(t,e){a.Tools.colorpicker(e)})},e.prototype.tooltipElements=function(){o.Tooltip.init()},e.prototype.checkAddBlock=function(){setTimeout(function(){void 0===window.google_jobrunner&&(window.ga("set","adblock",1),t(".add").hide())},1e4)},e.prototype.detectAutomate=function(){if(1==function(){try{if(/HeadlessChrome/.test(window.navigator.userAgent))return!0}catch(t){}try{if(""===navigator.languages)return!0}catch(t){}try{if(navigator.webdriver)return!0}catch(t){}try{if(window.document.documentElement.getAttribute("webdriver"))return!0}catch(t){}try{if(1==navigator.webdriver)return!0}catch(t){}try{if(1==navigator.domAutomation)return!0}catch(t){}try{if(window.document.documentElement.getAttribute("webdriver"))return!0}catch(t){}try{if(window.callPhantom||window._phantom)return!0}catch(t){}try{if("_Selenium_IDE_Recorder"in window)return!0}catch(t){}try{if("__webdriver_script_fn"in document)return!0}catch(t){}return!1}()){window.ga("send","event","hack","selenium")}},e.prototype.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},e}();e.IlovepdfWeb=l}).call(this,n(1))},function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var r=n(145),o=n(149),a=n(156),s=n(32),l=n(195),c=n(197),u=n(198),d=n(199),p=n(48),h=n(91),f=n(78),g=n(37),m=n(201),v=n(207),y=n(211),_=function(){function e(t){void 0===t&&(t={}),this.action=null,this.userId=null,this.email=null,this.tool=null,this.processManager=null,this.apiVersion="v1",this.appVersion="web.0",this.token=null,this.user=null,this.userToken=null,this.userPayment=null,this.startServer=null,this.userTeamAdd=null,this.userTeam=null,Object.assign(this,t),this.init()}return e.prototype.init=function(){if(this.userCommon(),null!=this.action){if(void 0===this.action||null===this.action)return;var t="action"+this.action.camelCase().ucFirst();t in this&&this[t]()}n(214)},e.prototype.checkPrevent=function(){t.ajax({url:"/user/prevent-changes",cache:!1,contentType:!1,processData:!1,method:"GET",type:"GET",success:function(t){"false"==t&&location.reload()}})},e.prototype.userCommon=function(){void 0!==window.preventCheck&&setInterval(this.checkPrevent,2e3),i("#resendConfirm").on("click",function(){var e=window.siteData.csrfParam,n=window.siteData.csrfToken,r=new FormData;r.append(e,n),i("#resendAlert").hide(),i("#resendProcess").show(),t.ajax({url:"/auth/resend-confirm",data:r,cache:!1,contentType:!1,processData:!1,method:"POST",type:"POST",success:function(t){i("#resendProcess").hide(),i("#resendSuccess").show()}})}),this.userAvatar()},e.prototype.actionTeam=function(){this.userTeam=new r.UserTeam({userToken:this.userToken,teamData:this.teamData})},e.prototype.actionTeamSettings=function(){this.teamSettings=new c.TeamConfigManager,this.teamSettings.init()},e.prototype.actionTeamAdd=function(){this.userTeamAdd=new o.UserTeamAdd({userToken:this.userToken,teamData:this.teamData})},e.prototype.actionPlan=function(){this._initPackages(),this._initSubscriptionStatus(),this._initSubscriptionUpdate(),this._initUpdateCard(),this._initPaymentRemove()},e.prototype._initPackages=function(){document.querySelectorAll("[data-package]").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();var n=new f.PackagesContext({requestedAction:t.dataset.packageAction,neededNumberOfPkgItems:void 0});(new g.default).setContentBuilder(function(){return n}).show(),n.addEventListener("end",function(){window.location.reload()})})})},e.prototype._initSubscriptionUpdate=function(){document.querySelectorAll("[data-subscription]").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();var n=new h.SubscriptionContext({requestedAction:t.dataset.subscriptionAction,neededSignatures:void 0});t.dataset.subscriptionUsers?n.summaryParams.numUsers=parseInt(t.dataset.subscriptionUsers):t.dataset.subscriptionSignatures?n.summaryParams.numSignatures=parseInt(t.dataset.subscriptionSignatures):t.dataset.subscriptionInterval&&(n.summaryParams.paymentInterval=t.dataset.subscriptionInterval),(new g.default).setContentBuilder(function(){return n}).show(),n.addEventListener("end",function(){window.location.reload()})})})},e.prototype._initSubscriptionStatus=function(){document.querySelectorAll("[data-subscription-status]").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();var n=new m.SubscriptionStatusContext({requestedAction:t.dataset.subscriptionStatusAction});(new g.default).setContentBuilder(function(){return n}).show(),n.addEventListener("end",function(){window.location.reload()})})})},e.prototype._initUpdateCard=function(){document.querySelectorAll("[data-update-card]").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=new y.CardContext({requestedAction:"updateCard"});(new g.default).setContentBuilder(function(){return e}).show(),e.addEventListener("end",function(){window.location.reload()})})})},e.prototype._initPaymentRemove=function(){document.querySelectorAll("[data-payment-remove]").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=new v.RemovePaymentContext({requestedAction:"confirmRemove"}),n=(new g.default).setContentBuilder(function(){return e});n.show(),e.addEventListener("end",function(t){var e;"close"!=(null===(e=t.detail)||void 0===e?void 0:e.action)?window.location.reload():n.close()})})})},e.prototype.actionHistory=function(){this.userHistory()},e.prototype.actionEdit=function(){this.socialUnlink()},e.prototype.actionSignature=function(){this.userSignature=new a.UserSignature({startServer:this.startServer,token:this.token}),this._initPackages(),this._initSubscriptionUpdate()},e.prototype.actionSignSettings=function(){this.signSettings=new l.SignConfigManager;var t=new p.Api({taskId:"",tool:"sign",workerServer:"",token:""});this.brandLogoManager=new d.default(t,!0),this.signSettings.init()},e.prototype.actionSignatureDetails=function(){this.userCertsDetails=new u.UserSignatureDetails({startServer:this.startServer,token:this.token})},e.prototype.actionCancelSubscription=function(){i("#subscription-cancel-form").on("submit",function(t){t.preventDefault();var e=i('[name="reason"]').val();window.ga("send","event","user","cancel",e),i("#cancelSubscriptionBtn").attr("disabled","disabled");var n=this;setTimeout(function(){n.submit()},150)})},e.prototype.socialUnlink=function(){var t=null;i(".nav__link .delete").on("click",function(e){var n=i(e.target).attr("data-source"),r=i(e.target).prev().html();t=i(e.target).attr("data-rel"),i("#deleteSource").html(n),i("#deleteEmail").html(r),i("#deleteRss").modal()}),i("#goDelete").on("click",function(e){e.preventDefault;var n="/"+window.lang+"/user/unlink/"+t;"en-US"===window.lang&&(n="/user/unlink/"+t),i("#goDelete").attr("href",n),i("#goDelete").click()})},e.prototype.userAvatar=function(){if(0!=i(".user__avatar__edit").length){var e=this;i(".user__avatar__edit").on("click",function(){i("#uploadAvatar").trigger("click")}),i("#uploadAvatar").on("change",function(){var n=new FormData;n.append("avatar",i("#uploadAvatar")[0].files[0]),i(".user__avatar__edit i").hide(),i(".user__avatar__edit #avatarImage").hide(),i("#avatarPreloader").show(),t.ajax({url:s.Settings.get("service")+"/avatar",data:n,headers:{Authorization:"Bearer "+e.userToken},cache:!1,contentType:!1,processData:!1,method:"POST",type:"POST",success:function(t){var e=new Date;i("#avatarImage").attr("src",t.file+"?s=110&t="+e.getTime()),i("#avatarPreloader").attr("src","/img/ok.svg"),setTimeout(function(){i("#avatarImage").show(),i(".profile__avatar img").attr("src",t.file+"?s=64&t="+e.getTime()),i(".nav__item--avatar a img").attr("src",t.file+"?s=30&t="+e.getTime())},1e3),setTimeout(function(){i("#avatarPreloader").hide(),i(".avatar__edit i").show()},3e3)}})})}},e.prototype.userHistory=function(){},e}();e.IlovepdfUser=_}).call(this,n(1),n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(63),r=function(){function t(t){this.user=t.user,this.init()}return t.prototype.init=function(){var t=new i.PremiumContext({limits:null,triggerReason:null});t.render(document.getElementById("paymentContent")),t.addEventListener("end",function(){"en-US"==window.lang?window.location.href="/":window.location.href="/"+window.lang})},t}();e.IlovepdfPremium=r},function(t,e,n){var i,r;n(215),i=[n(1)],void 0===(r=function(t){return function(){var e,n,i,r=0,o={error:"error",info:"info",success:"success",warning:"warning"},a={clear:function(n,i){var r=d();e||s(r),l(n,r,i)||function(n){for(var i=e.children(),r=i.length-1;r>=0;r--)l(t(i[r]),n)}(r)},remove:function(n){var i=d();e||s(i),n&&0===t(":focus",n).length?p(n):e.children().length&&e.remove()},error:function(t,e,n){return u({type:o.error,iconClass:d().iconClasses.error,message:t,optionsOverride:n,title:e})},getContainer:s,info:function(t,e,n){return u({type:o.info,iconClass:d().iconClasses.info,message:t,optionsOverride:n,title:e})},options:{},subscribe:function(t){n=t},success:function(t,e,n){return u({type:o.success,iconClass:d().iconClasses.success,message:t,optionsOverride:n,title:e})},version:"2.1.4",warning:function(t,e,n){return u({type:o.warning,iconClass:d().iconClasses.warning,message:t,optionsOverride:n,title:e})}};return a;function s(n,i){return n||(n=d()),(e=t("#"+n.containerId)).length?e:(i&&(e=function(n){return(e=t("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(t(n.target)),e}(n)),e)}function l(e,n,i){var r=!(!i||!i.force)&&i.force;return!(!e||!r&&0!==t(":focus",e).length||(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){p(e)}}),0))}function c(t){n&&n(t)}function u(n){var o=d(),a=n.iconClass||o.iconClass;if(void 0!==n.optionsOverride&&(o=t.extend(o,n.optionsOverride),a=n.optionsOverride.iconClass||a),!function(t,e){if(t.preventDuplicates){if(e.message===i)return!0;i=e.message}return!1}(o,n)){r++,e=s(o,!0);var l=null,u=t("<div/>"),h=t("<div/>"),f=t("<div/>"),g=t("<div/>"),m=t(o.closeHtml),v={intervalId:null,hideEta:null,maxHideTime:null},y={toastId:r,state:"visible",startTime:new Date,options:o,map:n};return n.iconClass&&u.addClass(o.toastClass).addClass(a),function(){if(n.title){var t=n.title;o.escapeHtml&&(t=_(n.title)),h.append(t).addClass(o.titleClass),u.append(h)}}(),function(){if(n.message){var t=n.message;o.escapeHtml&&(t=_(n.message)),f.append(t).addClass(o.messageClass),u.append(f)}}(),o.closeButton&&(m.addClass(o.closeClass).attr("role","button"),u.prepend(m)),o.progressBar&&(g.addClass(o.progressClass),u.prepend(g)),o.rtl&&u.addClass("rtl"),o.newestOnTop?e.prepend(u):e.append(u),function(){var t="";switch(n.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}u.attr("aria-live",t)}(),u.hide(),u[o.showMethod]({duration:o.showDuration,easing:o.showEasing,complete:o.onShown}),o.timeOut>0&&(l=setTimeout(b,o.timeOut),v.maxHideTime=parseFloat(o.timeOut),v.hideEta=(new Date).getTime()+v.maxHideTime,o.progressBar&&(v.intervalId=setInterval(E,10))),o.closeOnHover&&u.hover(S,w),!o.onclick&&o.tapToDismiss&&u.click(b),o.closeButton&&m&&m.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),o.onCloseClick&&o.onCloseClick(t),b(!0)}),o.onclick&&u.click(function(t){o.onclick(t),b()}),c(y),o.debug&&console,u}function _(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(e){var n=e&&!1!==o.closeMethod?o.closeMethod:o.hideMethod,i=e&&!1!==o.closeDuration?o.closeDuration:o.hideDuration,r=e&&!1!==o.closeEasing?o.closeEasing:o.hideEasing;if(!t(":focus",u).length||e)return clearTimeout(v.intervalId),u[n]({duration:i,easing:r,complete:function(){p(u),clearTimeout(l),o.onHidden&&"hidden"!==y.state&&o.onHidden(),y.state="hidden",y.endTime=new Date,c(y)}})}function w(){(o.timeOut>0||o.extendedTimeOut>0)&&(l=setTimeout(b,o.extendedTimeOut),v.maxHideTime=parseFloat(o.extendedTimeOut),v.hideEta=(new Date).getTime()+v.maxHideTime)}function S(){clearTimeout(l),v.hideEta=0,u.stop(!0,!0)[o.showMethod]({duration:o.showDuration,easing:o.showEasing})}function E(){var t=(v.hideEta-(new Date).getTime())/v.maxHideTime*100;g.width(t+"%")}}function d(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},a.options)}function p(t){e||(e=s()),t.is(":visible")||(t.remove(),t=null,0===e.children().length&&(e.remove(),i=void 0))}}()}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";function i(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function r(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e?e.defaultView:window}return t}function o(t){var e=r(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function a(t){return t instanceof r(t).Element||t instanceof Element}function s(t){return t instanceof r(t).HTMLElement||t instanceof HTMLElement}function l(t){return t?(t.nodeName||"").toLowerCase():null}function c(t){return(a(t)?t.ownerDocument:t.document).documentElement}function u(t){return i(c(t)).left+o(t).scrollLeft}function d(t,e,n){var a;void 0===n&&(n=!1);var d,p,h=i(t),f={scrollLeft:0,scrollTop:0},g={x:0,y:0};return n||("body"!==l(e)&&(f=(d=e)!==r(d)&&s(d)?{scrollLeft:(p=d).scrollLeft,scrollTop:p.scrollTop}:o(d)),s(e)?((g=i(e)).x+=e.clientLeft,g.y+=e.clientTop):(a=c(e))&&(g.x=u(a))),{x:h.left+f.scrollLeft-g.x,y:h.top+f.scrollTop-g.y,width:h.width,height:h.height}}function p(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function h(t){return"html"===l(t)?t:t.assignedSlot||t.parentNode||t.host||c(t)}function f(t){return r(t).getComputedStyle(t)}function g(t,e){void 0===e&&(e=[]);var n=function t(e){if(["html","body","#document"].indexOf(l(e))>=0)return e.ownerDocument.body;if(s(e)){var n=f(e),i=n.overflow,r=n.overflowX,o=n.overflowY;if(/auto|scroll|overlay|hidden/.test(i+o+r))return e}return t(h(e))}(t),i="body"===l(n),o=r(n),a=i?[o].concat(o.visualViewport||[]):n,c=e.concat(a);return i?c:c.concat(g(h(a)))}function m(t){return["table","td","th"].indexOf(l(t))>=0}function v(t){return s(t)&&"fixed"!==f(t).position?t.offsetParent:null}function y(t){for(var e=r(t),n=v(t);n&&m(n);)n=v(n);return n&&"body"===l(n)&&"static"===f(n).position?e:n||e}var _="top",b="bottom",w="right",S="left",E="auto",x=[_,b,w,S],k="start",T="end",C="clippingParents",P="viewport",O="popper",I="reference",A=x.reduce(function(t,e){return t.concat([e+"-"+k,e+"-"+T])},[]),M=[].concat(x,[E]).reduce(function(t,e){return t.concat([e,e+"-"+k,e+"-"+T])},[]),L=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function D(t){var e=new Map,n=new Set,i=[];return t.forEach(function(t){e.set(t.name,t)}),t.forEach(function(t){n.has(t.name)||function t(r){n.add(r.name),[].concat(r.requires||[],r.requiresIfExists||[]).forEach(function(i){if(!n.has(i)){var r=e.get(i);r&&t(r)}}),i.push(r)}(t)}),i}var R={placement:"bottom",modifiers:[],strategy:"absolute"};function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}function j(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,r=e.defaultOptions,o=void 0===r?R:r;return function(t,e,n){void 0===n&&(n=o);var r,s,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},R,{},o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,h={state:l,setOptions:function(n){f(),l.options=Object.assign({},o,{},l.options,{},n),l.scrollParents={reference:a(t)?g(t):t.contextElement?g(t.contextElement):[],popper:g(e)};var r=function(t){var e=D(t);return L.reduce(function(t,n){return t.concat(e.filter(function(t){return t.phase===n}))},[])}(function(t){var e=t.reduce(function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,{},e,{options:Object.assign({},n.options,{},e.options),data:Object.assign({},n.data,{},e.data)}):e,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(i,l.options.modifiers)));return l.orderedModifiers=r.filter(function(t){return t.enabled}),l.orderedModifiers.forEach(function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,r=t.effect;if("function"==typeof r){var o=r({state:l,name:e,instance:h,options:i});c.push(o||function(){})}}),h.update()},forceUpdate:function(){if(!u){var t=l.elements,e=t.reference,n=t.popper;if(N(e,n)){l.rects={reference:d(e,y(n),"fixed"===l.options.strategy),popper:p(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(t){return l.modifiersData[t.name]=Object.assign({},t.data)});for(var i=0;i<l.orderedModifiers.length;i++)if(!0!==l.reset){var r=l.orderedModifiers[i],o=r.fn,a=r.options,s=void 0===a?{}:a,c=r.name;"function"==typeof o&&(l=o({state:l,options:s,name:c,instance:h})||l)}else l.reset=!1,i=-1}}},update:(r=function(){return new Promise(function(t){h.forceUpdate(),t(l)})},function(){return s||(s=new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(r())})})),s}),destroy:function(){f(),u=!0}};if(!N(t,e))return h;function f(){c.forEach(function(t){return t()}),c=[]}return h.setOptions(n).then(function(t){!u&&n.onFirstUpdate&&n.onFirstUpdate(t)}),h}}var F={passive:!0};function B(t){return t.split("-")[0]}function U(t){return t.split("-")[1]}function z(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function H(t){var e,n=t.reference,i=t.element,r=t.placement,o=r?B(r):null,a=r?U(r):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case _:e={x:s,y:n.y-i.height};break;case b:e={x:s,y:n.y+n.height};break;case w:e={x:n.x+n.width,y:l};break;case S:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var c=o?z(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case k:e[c]=Math.floor(e[c])-Math.floor(n[u]/2-i[u]/2);break;case T:e[c]=Math.floor(e[c])+Math.ceil(n[u]/2-i[u]/2)}}return e}var q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W(t){var e,n=t.popper,i=t.popperRect,o=t.placement,a=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,d=function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:Math.round(e*i)/i||0,y:Math.round(n*i)/i||0}}(a),p=d.x,h=d.y,f=a.hasOwnProperty("x"),g=a.hasOwnProperty("y"),m=S,v=_,E=window;if(u){var x=y(n);x===r(n)&&(x=c(n)),o===_&&(v=b,h-=x.clientHeight-i.height,h*=l?1:-1),o===S&&(m=w,p-=x.clientWidth-i.width,p*=l?1:-1)}var k,T=Object.assign({position:s},u&&q);return l?Object.assign({},T,((k={})[v]=g?"0":"",k[m]=f?"0":"",k.transform=(E.devicePixelRatio||1)<2?"translate("+p+"px, "+h+"px)":"translate3d("+p+"px, "+h+"px, 0)",k)):Object.assign({},T,((e={})[v]=g?h+"px":"",e[m]=f?p+"px":"",e.transform="",e))}var V={left:"right",right:"left",bottom:"top",top:"bottom"};function G(t){return t.replace(/left|right|bottom|top/g,function(t){return V[t]})}var Y={start:"end",end:"start"};function X(t){return t.replace(/start|end/g,function(t){return Y[t]})}function Q(t){return parseFloat(t)||0}function K(t){var e=r(t),n=function(t){var e=s(t)?f(t):{};return{top:Q(e.borderTopWidth),right:Q(e.borderRightWidth),bottom:Q(e.borderBottomWidth),left:Q(e.borderLeftWidth)}}(t),i="html"===l(t),o=u(t),a=t.clientWidth+n.right,c=t.clientHeight+n.bottom;return i&&e.innerHeight-t.clientHeight>50&&(c=e.innerHeight-n.bottom),{top:i?0:t.clientTop,right:t.clientLeft>n.left?n.right:i?e.innerWidth-a-o:t.offsetWidth-a,bottom:i?e.innerHeight-c:t.offsetHeight-c,left:i?o:t.clientLeft}}function Z(t,e){var n=Boolean(e.getRootNode&&e.getRootNode().host);if(t.contains(e))return!0;if(n){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function $(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function J(t,e){return e===P?$(function(t){var e=r(t),n=e.visualViewport,i=e.innerWidth,o=e.innerHeight;return n&&/iPhone|iPod|iPad/.test(navigator.platform)&&(i=n.width,o=n.height),{width:i,height:o,x:0,y:0}}(t)):s(e)?i(e):$(function(t){var e=r(t),n=o(t),i=d(c(t),e);return i.height=Math.max(i.height,e.innerHeight),i.width=Math.max(i.width,e.innerWidth),i.x=-n.scrollLeft,i.y=-n.scrollTop,i}(c(t)))}function tt(t,e,n){var i="clippingParents"===e?function(t){var e=g(t),n=["absolute","fixed"].indexOf(f(t).position)>=0&&s(t)?y(t):t;return a(n)?e.filter(function(t){return a(t)&&Z(t,n)}):[]}(t):[].concat(e),r=[].concat(i,[n]),o=r[0],l=r.reduce(function(e,n){var i=J(t,n),r=K(s(n)?n:c(t));return e.top=Math.max(i.top+r.top,e.top),e.right=Math.min(i.right-r.right,e.right),e.bottom=Math.min(i.bottom-r.bottom,e.bottom),e.left=Math.max(i.left+r.left,e.left),e},J(t,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function et(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},{},t)}function nt(t,e){return e.reduce(function(e,n){return e[n]=t,e},{})}function it(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=void 0===r?t.placement:r,s=n.boundary,l=void 0===s?C:s,u=n.rootBoundary,d=void 0===u?P:u,p=n.elementContext,h=void 0===p?O:p,f=n.altBoundary,g=void 0!==f&&f,m=n.padding,v=void 0===m?0:m,y=et("number"!=typeof v?v:nt(v,x)),S=h===O?I:O,E=t.elements.reference,k=t.rects.popper,T=t.elements[g?S:h],A=tt(a(T)?T:T.contextElement||c(t.elements.popper),l,d),M=i(E),L=H({reference:M,element:k,strategy:"absolute",placement:o}),D=$(Object.assign({},k,{},L)),R=h===O?D:M,N={top:A.top-R.top+y.top,bottom:R.bottom-A.bottom+y.bottom,left:A.left-R.left+y.left,right:R.right-A.right+y.right},j=t.modifiersData.offset;if(h===O&&j){var F=j[o];Object.keys(N).forEach(function(t){var e=[w,b].indexOf(t)>=0?1:-1,n=[_,b].indexOf(t)>=0?"y":"x";N[t]+=F[n]*e})}return N}function rt(t,e,n){return Math.max(t,Math.min(e,n))}function ot(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function at(t){return[_,w,b,S].some(function(e){return t[e]>=0})}var st=j({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,o=i.scroll,a=void 0===o||o,s=i.resize,l=void 0===s||s,c=r(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(t){t.addEventListener("scroll",n.update,F)}),l&&c.addEventListener("resize",n.update,F),function(){a&&u.forEach(function(t){t.removeEventListener("scroll",n.update,F)}),l&&c.removeEventListener("resize",n.update,F)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=H({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s={placement:B(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,{},W(Object.assign({},s,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,{},W(Object.assign({},s,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},r=e.elements[t];s(r)&&l(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(t){var e=i[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var i=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});s(i)&&l(i)&&(Object.assign(i.style,o),Object.keys(r).forEach(function(t){i.removeAttribute(t)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=void 0===r?[0,0]:r,a=M.reduce(function(t,n){return t[n]=function(t,e,n){var i=B(t),r=[S,_].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[S,w].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,o),t},{}),s=a[e.placement],l=s.x,c=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.fallbackPlacements,o=n.padding,a=n.boundary,s=n.rootBoundary,l=n.altBoundary,c=n.flipVariations,u=void 0===c||c,d=n.allowedAutoPlacements,p=e.options.placement,h=B(p),f=r||(h!==p&&u?function(t){if(B(t)===E)return[];var e=G(t);return[X(t),e,X(e)]}(p):[G(p)]),g=[p].concat(f).reduce(function(t,n){return t.concat(B(n)===E?function(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?M:l,u=U(i),d=(u?s?A:A.filter(function(t){return U(t)===u}):x).filter(function(t){return c.indexOf(t)>=0}).reduce(function(e,n){return e[n]=it(t,{placement:n,boundary:r,rootBoundary:o,padding:a})[B(n)],e},{});return Object.keys(d).sort(function(t,e){return d[t]-d[e]})}(e,{placement:n,boundary:a,rootBoundary:s,padding:o,flipVariations:u,allowedAutoPlacements:d}):n)},[]),m=e.rects.reference,v=e.rects.popper,y=new Map,T=!0,C=g[0],P=0;P<g.length;P++){var O=g[P],I=B(O),L=U(O)===k,D=[_,b].indexOf(I)>=0,R=D?"width":"height",N=it(e,{placement:O,boundary:a,rootBoundary:s,altBoundary:l,padding:o}),j=D?L?w:S:L?b:_;m[R]>v[R]&&(j=G(j));var F=G(j),z=[N[I]<=0,N[j]<=0,N[F]<=0];if(z.every(function(t){return t})){C=O,T=!1;break}y.set(O,z)}if(T)for(var H=function(t){var e=g.find(function(e){var n=y.get(e);if(n)return n.slice(0,t).every(function(t){return t})});if(e)return C=e,"break"},q=u?3:1;q>0&&"break"!==H(q);q--);e.placement!==C&&(e.modifiersData[i]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,g=n.tetherOffset,m=void 0===g?0:g,v=it(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),E=B(e.placement),x=U(e.placement),T=!x,C=z(E),P="x"===C?"y":"x",O=e.modifiersData.popperOffsets,I=e.rects.reference,A=e.rects.popper,M="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,L={x:0,y:0};if(O){if(o){var D="y"===C?_:S,R="y"===C?b:w,N="y"===C?"height":"width",j=O[C],F=O[C]+v[D],H=O[C]-v[R],q=f?-A[N]/2:0,W=x===k?I[N]:A[N],V=x===k?-A[N]:-I[N],G=e.elements.arrow,Y=f&&G?p(G):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Q=X[D],K=X[R],Z=rt(0,I[N],Y[N]),$=T?I[N]/2-q-Z-Q-M:W-Z-Q-M,J=T?-I[N]/2+q+Z+K+M:V+Z+K+M,tt=e.elements.arrow&&y(e.elements.arrow),et=tt?"y"===C?tt.clientTop||0:tt.clientLeft||0:0,nt=e.modifiersData.offset?e.modifiersData.offset[e.placement][C]:0,ot=O[C]+$-nt-et,at=O[C]+J-nt,st=rt(f?Math.min(F,ot):F,j,f?Math.max(H,at):H);O[C]=st,L[C]=st-j}if(s){var lt="x"===C?_:S,ct="x"===C?b:w,ut=O[P],dt=rt(ut+v[lt],ut,ut-v[ct]);O[P]=dt,L[P]=dt-ut}e.modifiersData[i]=L}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=B(n.placement),s=z(a),l=[S,w].indexOf(a)>=0?"height":"width";if(r&&o){var c=n.modifiersData[i+"#persistent"].padding,u=p(r),d="y"===s?_:S,h="y"===s?b:w,f=n.rects.reference[l]+n.rects.reference[s]-o[s]-n.rects.popper[l],g=o[s]-n.rects.reference[s],m=n.elements.arrow&&y(n.elements.arrow),v=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,E=f/2-g/2,x=c[d],k=v-u[l]-c[h],T=v/2-u[l]/2+E,C=rt(x,T,k),P=s;n.modifiersData[i]=((e={})[P]=C,e.centerOffset=C-T,e)}},effect:function(t){var e=t.state,n=t.options,i=t.name,r=n.element,o=void 0===r?"[data-popper-arrow]":r,a=n.padding,s=void 0===a?0:a;null!=o&&("string"!=typeof o||(o=e.elements.popper.querySelector(o)))&&Z(e.elements.popper,o)&&(e.elements.arrow=o,e.modifiersData[i+"#persistent"]={padding:et("number"!=typeof s?s:nt(s,x))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=it(e,{elementContext:"reference"}),s=it(e,{altBoundary:!0}),l=ot(a,i),c=ot(s,r,o),u=at(l),d=at(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),lt={passive:!0},ct="tippy-box",ut="tippy-content",dt="tippy-backdrop",pt="tippy-arrow",ht="tippy-svg-arrow";function ft(t,e,n){if(Array.isArray(t)){var i=t[e];return null==i?Array.isArray(n)?n[e]:n:i}return t}function gt(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function mt(t,e){return"function"==typeof t?t.apply(void 0,e):t}function vt(t,e){return 0===e?t:function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)};var n}function yt(t){return[].concat(t)}function _t(t,e){-1===t.indexOf(e)&&t.push(e)}function bt(t){return t.split("-")[0]}function wt(t){return[].slice.call(t)}function St(){return document.createElement("div")}function Et(t){return["Element","Fragment"].some(function(e){return gt(t,e)})}function xt(t){return gt(t,"MouseEvent")}function kt(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function Tt(t){return Et(t)?[t]:function(t){return gt(t,"NodeList")}(t)?wt(t):Array.isArray(t)?t:wt(document.querySelectorAll(t))}function Ct(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Pt(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Ot(t){var e=yt(t)[0];return e&&e.ownerDocument||document}function It(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[i](e,n)})}var At={isTouch:!1},Mt=0;function Lt(){At.isTouch||(At.isTouch=!0,window.performance&&document.addEventListener("mousemove",Dt))}function Dt(){var t=performance.now();t-Mt<20&&(At.isTouch=!1,document.removeEventListener("mousemove",Dt)),Mt=t}function Rt(){var t=document.activeElement;if(kt(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var Nt="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",jt=/MSIE |Trident\//.test(Nt);var Ft={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Bt=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Ft,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ut=Object.keys(Bt);function zt(t){var e=(t.plugins||[]).reduce(function(e,n){var i=n.name,r=n.defaultValue;return i&&(e[i]=void 0!==t[i]?t[i]:r),e},{});return Object.assign({},t,{},e)}function Ht(t,e){var n=Object.assign({},e,{content:mt(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(zt(Object.assign({},Bt,{plugins:e}))):Ut).reduce(function(e,n){var i=(t.getAttribute("data-tippy-"+n)||"").trim();if(!i)return e;if("content"===n)e[n]=i;else try{e[n]=JSON.parse(i)}catch(t){e[n]=i}return e},{})}(t,e.plugins));return n.aria=Object.assign({},Bt.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}var qt=function(){return"innerHTML"};function Wt(t,e){t[qt()]=e}function Vt(t){var e=St();return!0===t?e.className=pt:(e.className=ht,Et(t)?e.appendChild(t):Wt(e,t)),e}function Gt(t,e){Et(e.content)?(Wt(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Wt(t,e.content):t.textContent=e.content)}function Yt(t){var e=t.firstElementChild,n=wt(e.children);return{box:e,content:n.find(function(t){return t.classList.contains(ut)}),arrow:n.find(function(t){return t.classList.contains(pt)||t.classList.contains(ht)}),backdrop:n.find(function(t){return t.classList.contains(dt)})}}function Xt(t){var e=St(),n=St();n.className=ct,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=St();function r(n,i){var r=Yt(e),o=r.box,a=r.content,s=r.arrow;i.theme?o.setAttribute("data-theme",i.theme):o.removeAttribute("data-theme"),"string"==typeof i.animation?o.setAttribute("data-animation",i.animation):o.removeAttribute("data-animation"),i.inertia?o.setAttribute("data-inertia",""):o.removeAttribute("data-inertia"),o.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?o.setAttribute("role",i.role):o.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||Gt(a,t.props),i.arrow?s?n.arrow!==i.arrow&&(o.removeChild(s),o.appendChild(Vt(i.arrow))):o.appendChild(Vt(i.arrow)):s&&o.removeChild(s)}return i.className=ut,i.setAttribute("data-state","hidden"),Gt(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props),{popper:e,onUpdate:r}}Xt.$$tippy=!0;var Qt=1,Kt=[],Zt=[];function $t(t,e){var n,i,r,o,a,s,l,c,u=Ht(t,Object.assign({},Bt,{},zt(e))),d=!1,p=!1,h=!1,f=[],g=vt(W,u.interactiveDebounce),m=Ot(u.triggerTarget||t),v=Qt++,y=(c=u.plugins).filter(function(t,e){return c.indexOf(t)===e}),_={id:v,reference:t,popper:St(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(r)},setProps:function(e){0;if(_.state.isDestroyed)return;M("onBeforeUpdate",[_,e]),H();var n=_.props,i=Ht(t,Object.assign({},_.props,{},e,{ignoreAttributes:!0}));_.props=i,z(),n.interactiveDebounce!==i.interactiveDebounce&&(R(),g=vt(W,i.interactiveDebounce));n.triggerTarget&&!i.triggerTarget?yt(n.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):i.triggerTarget&&t.removeAttribute("aria-expanded");D(),A(),S&&S(n,i);_.popperInstance&&(X(),K().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}));M("onAfterUpdate",[_,e])},setContent:function(t){_.setProps({content:t})},show:function(){0;var t=_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,i=At.isTouch&&!_.props.touch,r=ft(_.props.duration,0,Bt.duration);if(t||e||n||i)return;if(P().hasAttribute("disabled"))return;if(M("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,C()&&(w.style.visibility="visible");A(),j(),_.state.isMounted||(w.style.transition="none");if(C()){var o=O(),a=o.box,l=o.content;Ct([a,l],0)}s=function(){if(_.state.isVisible&&!h){if(h=!0,w.offsetHeight,w.style.transition=_.props.moveTransition,C()&&_.props.animation){var t=O(),e=t.box,n=t.content;Ct([e,n],r),Pt([e,n],"visible")}L(),D(),_t(Zt,_),_.state.isMounted=!0,M("onMount",[_]),_.props.animation&&C()&&function(t,e){B(t,e)}(r,function(){_.state.isShown=!0,M("onShown",[_])})}},function(){var t,e=_.props.appendTo,n=P();t=_.props.interactive&&e===Bt.appendTo||"parent"===e?n.parentNode:mt(e,[n]);t.contains(w)||t.appendChild(w);X(),0}()},hide:function(){0;var t=!_.state.isVisible,e=_.state.isDestroyed,n=!_.state.isEnabled,i=ft(_.props.duration,1,Bt.duration);if(t||e||n)return;if(M("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,h=!1,C()&&(w.style.visibility="hidden");if(R(),F(),A(),C()){var r=O(),o=r.box,a=r.content;_.props.animation&&(Ct([o,a],i),Pt([o,a],"hidden"))}L(),D(),_.props.animation?C()&&function(t,e){B(t,function(){!_.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&e()})}(i,_.unmount):_.unmount()},hideWithInteractivity:function(t){0;_.state.isVisible&&(m.body.addEventListener("mouseleave",$),m.addEventListener("mousemove",g),_t(Kt,g),g(t))},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){0;_.state.isVisible&&_.hide();if(!_.state.isMounted)return;Q(),K().forEach(function(t){t._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w);Zt=Zt.filter(function(t){return t!==_}),_.state.isMounted=!1,M("onHidden",[_])},destroy:function(){0;if(_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),H(),delete t._tippy,_.state.isDestroyed=!0,M("onDestroy",[_])}};if(!u.render)return _;var b=u.render(_),w=b.popper,S=b.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+_.id,_.popper=w,t._tippy=_,w._tippy=_;var E=y.map(function(t){return t.fn(_)}),x=t.hasAttribute("aria-expanded");return z(),D(),A(),M("onCreate",[_]),u.showOnCreate&&Z(),w.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(t){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(m.addEventListener("mousemove",g),g(t))}),_;function k(){var t=_.props.touch;return Array.isArray(t)?t:[t,0]}function T(){return"hold"===k()[0]}function C(){var t;return!!(null==(t=_.props.render)?void 0:t.$$tippy)}function P(){return l||t}function O(){return Yt(w)}function I(t){return _.state.isMounted&&!_.state.isVisible||At.isTouch||o&&"focus"===o.type?0:ft(_.props.delay,t?0:1,Bt.delay)}function A(){w.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",w.style.zIndex=""+_.props.zIndex}function M(t,e,n){var i;(void 0===n&&(n=!0),E.forEach(function(n){n[t]&&n[t].apply(void 0,e)}),n)&&(i=_.props)[t].apply(i,e)}function L(){var e=_.props.aria;if(e.content){var n="aria-"+e.content,i=w.id;yt(_.props.triggerTarget||t).forEach(function(t){var e=t.getAttribute(n);if(_.state.isVisible)t.setAttribute(n,e?e+" "+i:i);else{var r=e&&e.replace(i,"").trim();r?t.setAttribute(n,r):t.removeAttribute(n)}})}}function D(){!x&&_.props.aria.expanded&&yt(_.props.triggerTarget||t).forEach(function(t){_.props.interactive?t.setAttribute("aria-expanded",_.state.isVisible&&t===P()?"true":"false"):t.removeAttribute("aria-expanded")})}function R(){m.body.removeEventListener("mouseleave",$),m.removeEventListener("mousemove",g),Kt=Kt.filter(function(t){return t!==g})}function N(t){if(!("mousedown"===t.type&&At.isTouch||_.props.interactive&&w.contains(t.target))){if(P().contains(t.target)){if(At.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else M("onClickOutside",[_,t]);!0===_.props.hideOnClick&&(d=!1,_.clearDelayTimeouts(),_.hide(),p=!0,setTimeout(function(){p=!1}),_.state.isMounted||F())}}function j(){m.addEventListener("mousedown",N,!0),m.addEventListener("touchend",N,!0)}function F(){m.removeEventListener("mousedown",N,!0),m.removeEventListener("touchend",N,!0)}function B(t,e){var n=O().box;function i(t){t.target===n&&(It(n,"remove",i),e())}if(0===t)return e();It(n,"remove",a),It(n,"add",i),a=i}function U(e,n,i){void 0===i&&(i=!1),yt(_.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,n,i),f.push({node:t,eventType:e,handler:n,options:i})})}function z(){var t;T()&&(U("touchstart",q,lt),U("touchend",V,lt)),(t=_.props.trigger,t.split(/\s+/).filter(Boolean)).forEach(function(t){if("manual"!==t)switch(U(t,q),t){case"mouseenter":U("mouseleave",V);break;case"focus":U(jt?"focusout":"blur",G);break;case"focusin":U("focusout",G)}})}function H(){f.forEach(function(t){var e=t.node,n=t.eventType,i=t.handler,r=t.options;e.removeEventListener(n,i,r)}),f=[]}function q(t){var e,n=!1;if(_.state.isEnabled&&!Y(t)&&!p){var i="focus"===(null==(e=o)?void 0:e.type);o=t,l=t.currentTarget,D(),!_.state.isVisible&&xt(t)&&Kt.forEach(function(e){return e(t)}),"click"===t.type&&(_.props.trigger.indexOf("mouseenter")<0||d)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:Z(t),"click"===t.type&&(d=!n),n&&!i&&$(t)}}function W(e){var n=e.target,i=t.contains(n)||w.contains(n);"mousemove"===e.type&&i||function(t,e){var n=e.clientX,i=e.clientY;return t.every(function(t){var e=t.popperRect,r=t.popperState,o=t.props.interactiveBorder,a=bt(r.placement),s=r.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,d="left"===a?s.right.x:0,p=e.top-i+l>o,h=i-e.bottom-c>o,f=e.left-n+u>o,g=n-e.right-d>o;return p||h||f||g})}(K().concat(w).map(function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:u}:null}).filter(Boolean),e)&&(R(),$(e))}function V(t){Y(t)||_.props.trigger.indexOf("click")>=0&&d||(_.props.interactive?_.hideWithInteractivity(t):$(t))}function G(t){_.props.trigger.indexOf("focusin")<0&&t.target!==P()||_.props.interactive&&t.relatedTarget&&w.contains(t.relatedTarget)||$(t)}function Y(t){return!!At.isTouch&&T()!==t.type.indexOf("touch")>=0}function X(){Q();var e=_.props,n=e.popperOptions,i=e.placement,r=e.offset,o=e.getReferenceClientRect,a=e.moveTransition,l=C()?Yt(w).arrow:null,c=o?{getBoundingClientRect:o,contextElement:o.contextElement||P()}:t,u=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(C()){var n=O().box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)}),e.attributes.popper={}}}}];u.push.apply(u,(null==n?void 0:n.modifiers)||[]),C()&&l&&u.push({name:"arrow",options:{element:l,padding:3}}),_.popperInstance=st(c,w,Object.assign({},n,{placement:i,onFirstUpdate:s,modifiers:u}))}function Q(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function K(){return wt(w.querySelectorAll("[data-tippy-root]"))}function Z(t){_.clearDelayTimeouts(),t&&M("onTrigger",[_,t]),j();var e=I(!0),i=k(),r=i[0],o=i[1];At.isTouch&&"hold"===r&&o&&(e=o),e?n=setTimeout(function(){_.show()},e):_.show()}function $(t){if(_.clearDelayTimeouts(),M("onUntrigger",[_,t]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&d)){var e=I(!1);e?i=setTimeout(function(){_.state.isVisible&&_.hide()},e):r=requestAnimationFrame(function(){_.hide()})}}else F()}}function Jt(t,e){void 0===e&&(e={});var n=Bt.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Lt,Object.assign({},lt,{capture:!0})),window.addEventListener("blur",Rt);var i=Object.assign({},e,{plugins:n}),r=Tt(t).reduce(function(t,e){var n=e&&$t(e,i);return n&&t.push(n),t},[]);return Et(t)?r[0]:r}Jt.defaultProps=Bt,Jt.setDefaultProps=function(t){Object.keys(t).forEach(function(e){Bt[e]=t[e]})},Jt.currentInput=At;Jt.setDefaultProps({render:Xt});e.a=Jt},,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),r=function(){function e(){}return e.initTermsPopup=function(){var e=this;t(document).on("click",".termsLink",function(t){t.preventDefault(),e.termsPopup()}),t(document).on("click",".legalLink",function(t){t.preventDefault(),e.legalPopup()})},e.termsPopup=function(){if(0==t("#termsModal").length){t(i.Tools.modalView({id:"termsModal"})).appendTo("body");var e=t(".termsLink").attr("data-a-href")?t(".termsLink").attr("data-a-href"):t(".termsLink").attr("href");t("#termsModal .modal-body").load(e+" #terms")}t("#termsModal").modal("show")},e.legalPopup=function(){if(0==t("#legalModal").length){t(i.Tools.modalView({id:"legalModal"})).appendTo("body");var n=t(".legalLink").attr("data-a-href")?t(".legalLink").attr("data-a-href"):t(".legalLink").attr("href");t("#legalModal .modal-body").load(n+" #privacy",function(){e.runIubenda()})}t("#legalModal").modal("show")},e.runIubenda=function(){var t,e;t=document.createElement("script"),e=document.getElementsByTagName("script")[0],t.src="//cdn.iubenda.com/iubenda.js",e.parentNode.insertBefore(t,e)},e}();e.Popup=r}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n(12),o=n(146),a=n(148),s=n(63),l=n(37),c=n(60),u=function(){function t(t){this.FORM_ID="teamBatchForm",this.memberCheckElementName="teamMemberActionCheck[]",this.invitedCheckElementName="teamInvitedActionCheck[]",this.bacthCheckElementId="selectAll",this.users=1,this.team=1,Object.assign(this,t),this.userModel=new i.UserModel,this.team=window.userConfig.team?window.userConfig.team:1,this.init()}return t.prototype.init=function(){this.initBatchActions(),this.initMemberActions(),i.UserModel.isPremium()||this.initPremiumBtnPopup()},t.prototype.initPremiumBtnPopup=function(){document.querySelector("[become-premium-btn]").addEventListener("click",function(){var t=new l.default({dialogName:"becomePremium"}).setContentBuilder(function(){return new s.PremiumContext({triggerReason:c.REASON.ERROR_FEATURE,limits:null,premiumFeatureName:"teams"})});t.addEventListener("closed",function(t){i.UserModel.isPremium()&&window.location.reload()}),t.show()})},t.prototype.initBatchActions=function(){var t=this;this.batchCheclElement=document.getElementById(t.bacthCheckElementId),this.getAllCheckboxes().forEach(function(e){e.addEventListener("change",function(){t.batchCheclElement.checked=t.checkForAll()})}),t.batchCheclElement.addEventListener("change",function(){t.checkAll(t.batchCheclElement.checked)}),document.getElementById("deleteAll").addEventListener("click",function(){0!=t.checkForAll()&&a.default.show({id:"deleteAllModal",title:r.Lang.t("deleteAll"),primaryBtn:r.Lang.t("yesText"),secondaryBtn:r.Lang.t("noText")}).then(function(){t.submitBatchActionForm()},function(){alert("no")})})},t.prototype.checkForAll=function(){return this.getAllCheckboxesChecked().length>0},t.prototype.getAllCheckboxes=function(){return document.querySelectorAll('[name="'+this.memberCheckElementName+'"], [name="'+this.invitedCheckElementName+'"]')},t.prototype.getAllCheckboxesChecked=function(){return document.querySelectorAll('[name="'+this.memberCheckElementName+'"]:checked, [name="'+this.invitedCheckElementName+'"]:checked')},t.prototype.checkAll=function(t){this.getAllCheckboxes().forEach(function(e){e.checked=t})},t.prototype.initMemberActions=function(){(new o.default).init()},t.prototype.submitBatchActionForm=function(){document.getElementById(this.FORM_ID).submit()},t}();e.UserTeam=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.confirmDatasetName="data-dialog-confirm-link",e}return r(e,t),e.prototype.confirmAction=function(t){window.location.href=document.querySelector('[data-dialog-id="'+t+'"]').href},e}(n(147).default);e.default=o},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),r=n(12),o=function(){function e(e,n){var o=this;void 0===e&&(e=null),void 0===n&&(n=null),this.confirmDatasetName="data-dialog-confirm",this.showConfirmDialog=function(e){var n=t("#"+e+"-modal");n.remove();var a=document.createElement("div"),s=document.querySelector('[data-dialog-id="'+e+'"]'),l=s.dataset.dialogType||"warning",c=s.dataset.dialogTitle||r.Lang.t("Are you sure?"),u=s.dataset.dialogYes||r.Lang.t("Yes"),d=s.dataset.dialogNo||r.Lang.t("No");a.innerHTML=i.Tools.feedbackModalView({id:e+"-modal",img:"/img/icons/svg-icons/notification-"+l+".svg",title:c,primaryBtn:u,secondaryBtn:d}),document.body.appendChild(a.firstChild),n=t("#"+e+"-modal"),o.addEventListeners(n,e),n.modal("show"),n.on("hidden.bs.modal",function(){n.remove()})},this.addEventListeners=function(t,e){t.find("button")[2].addEventListener("click",function(){o.confirmAction(e)}),t.find("button")[1].addEventListener("click",function(){o.cancelAction(e)}),t.remove()},this.confirmCallback=e,this.cancelCallback=n}return e.prototype.init=function(){var t=this;if(!window[this.confirmDatasetName+"Popup"]){var e=document.querySelectorAll("["+this.confirmDatasetName+"]");window[this.confirmDatasetName+"Popup"]=e,e.forEach(function(e){e.addEventListener("click",function(n){n.preventDefault();var i=e.dataset.dialogId;t.showConfirmDialog(i)})})}},e.prototype.confirmAction=function(t){"function"==typeof this.confirmCallback&&this.confirmCallback(t)},e.prototype.cancelAction=function(t){"function"==typeof this.confirmCallback&&this.cancelCallback(t)},e}();e.default=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),r=function(){function e(){}return e.show=function(e){return new Promise(function(n,r){e.img||(e.img="/img/icons/svg-icons/notification-warning.svg");var o=document.createElement("div");o.innerHTML=i.Tools.feedbackModalView(e),document.body.appendChild(o.firstChild);var a=t("#"+e.id);(a=t("#"+e.id)).find("button")[2].addEventListener("click",function(){n()}),a.modal("show"),a.on("hidden.bs.modal",function(){a.remove(),r()})})},e}();e.default=r}).call(this,n(1))},function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0});var r=n(13),o=n(32),a=n(26),s=n(91),l=n(37),c=function(){function e(t){this.FORM_ID="teamAddForm",this.CONTAINER_ID="teamAddList",this.ADD_USER_BTN_ID="teamAddMore",this.PAYMENT_BTN_ID="teamGoPayment",this.users=1,this.team=1,this.INFO_PAYMENT_URL="/stripe/execute",Object.assign(this,t),this.userModel=new r.UserModel,this.teamData=window.userConfig.teamData,this.paymentMethod=window.userConfig.paymentMethod,this.init()}return e.prototype.init=function(){this.userTeamUploadInit(),this.addUserItem(),this.initPayment(),this.initAddMore(),this.initTeamItems()},e.prototype.initTeamItems=function(){this.updateResume()},e.prototype.initAddMore=function(){var t=this;document.getElementById(this.ADD_USER_BTN_ID).addEventListener("click",function(e){e.preventDefault(),t.addUserItem(),t.updateResume()})},e.prototype.initPayment=function(){var t=this;document.getElementById(this.PAYMENT_BTN_ID).addEventListener("click",function(e){e.preventDefault(),t.executePayment()})},e.prototype.executePayment=function(){var t=this;if(0!=this.countAddedUsers()&&(this.cleanEmptyEmails(),0!=this.validate())){document.getElementById(this.FORM_ID).hidden=!0;var e=new s.SubscriptionContext({requestedAction:"summary",neededSignatures:void 0});if(this.getTotalUsersNeededForSubscription()<=this.teamData.allowedUsers)this.executeAddNewUsers();else e.summaryParams.numUsers=this.getTotalUsersNeededForSubscription(),(new l.default).setContentBuilder(function(){return e}).show(),e.addEventListener("end",function(){t.executeAddNewUsers()})}},e.prototype.executeAddNewUsers=function(){document.getElementById(this.FORM_ID).submit()},e.prototype.validate=function(){return this.validateEmails()&&this.validateUniqueEmails()},e.prototype.countAddedUsers=function(){for(var t=0,e=document.getElementById(this.CONTAINER_ID).getElementsByTagName("input"),n=0;n<e.length;n++)""!=e[n].value&&t++;return t},e.prototype.getTotalUsersNeededForSubscription=function(){return this.teamData.teamMembers+this.newLicences()},e.prototype.cleanEmptyEmails=function(){var t=document.getElementById(this.CONTAINER_ID).getElementsByTagName("input");if(1!=t.length)for(var e=0;e<t.length;e++)""==t[e].value&&t[e].parentElement.parentElement.remove()},e.prototype.validateUniqueEmails=function(){for(var t=[],e=[],n=document.getElementById(this.CONTAINER_ID).getElementsByTagName("input"),i=0;i<n.length;i++)""!=n[i].value&&(t.includes(n[i].value)?e.push(n[i].value):t.push(n[i].value));for(i=0;i<n.length;i++)e.includes(n[i].value)&&n[i].classList.add("error");return 0==e.length},e.prototype.validateEmails=function(){for(var t=document.getElementById(this.CONTAINER_ID).getElementsByTagName("input"),e=!0,n=0;n<t.length;n++)if(""!=t[n].value){var i=a.Tools.isEmail(t[n].value);e=e&&i,0==i?t[n].classList.add("error"):t[n].classList.remove("error")}return e},e.prototype.userTeamUploadInit=function(){var e=this,n=t("#teamUpload"),r=t("#teamUploadInput");n.on("click",function(){r.trigger("click")}),r.on("change",function(){var n=new FormData;n.append("file",r[0].files[0]),n.append("onlyemail","true"),t("#teamUpload").hide(),i.ajax({url:o.Settings.get("service")+"/v1/parse-contacts",data:n,headers:{Authorization:"Bearer "+e.userToken},cache:!1,contentType:!1,processData:!1,method:"POST",type:"POST",success:function(n){n.success&&n.success.length>0&&(e.cleanEmptyEmails(),n.success.forEach(function(t){e.addUserItem(t)}),e.validate(),e.updateResume(),t("#teamUpload").show()),document.getElementById("teamUploadInput").value=""}})})},e.prototype.addUserItem=function(e){void 0===e&&(e=null);var n=this,i=t(t("#teamAddItemTemplate").html());null!=e&&i.find("input").val(e),i.find("input").on("keyup",function(){n.validate()&&n.updateResume()}),i.find(".input--remove .input__icon").on("click",function(){i.remove(),n.validate(),n.updateResume()}),t("#teamAddList").append(i)},e.prototype.newLicences=function(){return this.teamData.teamMembers+this.countAddedUsers()-this.teamData.allowedUsers},e.prototype.updateResume=function(){var t=this.newLicences();t>0?(document.getElementById("licencesResume").hidden=!1,document.getElementById("newLicences").innerHTML=t.toString()):document.getElementById("licencesResume").hidden=!0},e}();e.UserTeamAdd=c}).call(this,n(1),n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(68),s=n(92),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SelectUsersState",e.LAYOUT_TEMPLATE_NAME="subscription-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.disabled=!0,e.initSlider(),e.initActions(),e.clearLoadingScreen()},e._onNumUsersChanged=function(){var t=e.usersSelect.isValid();e.actionBtn.disabled=!t},e._onActionBtnClicked=function(t){e._goNextState()},e._goNextState=function(){var t=new s.SummaryState;e.ctx.summaryParams={numUsers:e.usersSelect.getQuantity(),numSignatures:void 0,paymentInterval:void 0},e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e.prototype.initSlider=function(){var t,e;if(this.usersSelect)this._onNumUsersChanged();else{var n=document.getElementById("SelectUsers");this.usersSelect=new a.default,this.usersSelect.onInput(this._onNumUsersChanged);var i=null!==(e=null===(t=this.ctx)||void 0===t?void 0:t.userCurrentSubscription.users)&&void 0!==e?e:void 0;i?this.usersSelect.init(n,{initialQty:i,initialQtyIsValid:!1}):this.usersSelect.init(n,{})}},Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector("[next-from-users]");if(!t)throw"Action button not found";return t},enumerable:!0,configurable:!0}),e.prototype.initActions=function(){this.actionBtn.addEventListener("click",this._onActionBtnClicked)},e}(o.StateBase);e.SelectUsersState=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.init=function(e){t.input=e,t.isRtl=document.body.classList.contains("rtl");var n=t.createBubbleElement();e.insertAdjacentElement("afterend",n),t.recalculatePosition(),e.addEventListener("input",t.recalculatePosition),window.addEventListener("resize",t.recalculatePosition),window.bubble=t},this.setText=function(e){t.bubble&&(t.bubble.innerHTML=e,t.recalculatePosition())},this.createBubbleElement=function(){var e=document.createElement("div");return t.bubble=e,e.classList.add("payment-period__slider__element__bubble"),e},this.recalculatePosition=function(){var e=t.input,n=t.bubble,i=Number(e.value),r=e.offsetWidth,o=Number(e.getAttribute("min")),a=Number(e.getAttribute("max")),s=r/a,l=(i-o)/(a-o)*(r-10-10)+10,c=n.offsetWidth/2,u=l-c;if(u<0){u=0;var d=c-10-i*s;d+=i>0?4:2.5,n.style.setProperty("--left",1==t.isRtl?d+"px":"-"+d+"px")}else if(u+2*c>r){u=r-2*c;d=c-10+2.5;i!==a&&(d-=(a-i)*s-1),n.style.setProperty("--left",1==t.isRtl?"-"+d+"px":d+"px")}else n.style.setProperty("--left","0px");n.style[1==t.isRtl?"right":"left"]=u+"px"}}return t.prototype.setEnabled=function(){this.bubble.classList.remove("disabled")},t.prototype.setDisabled=function(){this.bubble.classList.add("disabled")},t}();e.default=i},function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.localeNumber=function(t){return-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages).format(t):Intl.NumberFormat("de-DE").format(t)},e.localePrice=function(t,e){void 0===e&&(e=null),null==e&&(e=window.ILovePDF.currencyCode);var n={style:"currency",currency:e,currencyDisplay:"narrowSymbol",minimumFractionDigits:0};try{return-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages,n).format(t):Intl.NumberFormat("de-DE",n).format(t)}catch(e){return-1===navigator.language.toLowerCase().indexOf("es")?Intl.NumberFormat(navigator.languages,i(i({},n),{currencyDisplay:"symbol"})).format(t):Intl.NumberFormat("de-DE",i(i({},n),{currencyDisplay:"symbol"})).format(t)}},e.fromRgbToHex=function(t){var e=t.split(" ").join("").split(","),n=e[0].indexOf("("),i=e[0].substring(n+1),r=e[1],o=e[2].substr(0,e[2].length-1);return function(t,e,n){return"#"+((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)}(Number(i),Number(r),Number(o))}},function(t,e,n){"use strict";function i(){return window.navigator.mockUserAgent||window.navigator.userAgent}function r(){return!0===window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}function o(t){return void 0===t&&(t=i()),-1!==t.indexOf("FBAN")||-1!==t.indexOf("FBAV")}function a(t){return void 0===t&&(t=i()),/FxiOS/i.test(t)}function s(t){return void 0===t&&(t=i()),/EdgiOS/i.test(t)}function l(t){return void 0===t&&(t=i()),t.indexOf("Opera Mini")>-1}function c(t){return void 0===t&&(t=i()),/Android/.test(t)}function u(t){return void 0===t&&(t=i()),/iPhone|iPod|iPad/.test(t)}function d(t){return void 0===t&&(t=i()),/\bGSA\b/.test(t)}function p(t){return void 0===t&&(t=i()),/QQBrowser/.test(t)}function h(t){return void 0===t&&(t=i()),!!u(t)&&(!!d(t)||/.+AppleWebKit(?!.*Safari)/.test(t))}function f(t){return void 0===t&&(t=i()),!!c(t)&&(/Version\/[\d.]+/.test(t)&&!l(t))}function g(){var t=i();return/Macintosh.*AppleWebKit(?!.*Safari)/i.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getUserAgent=i,e.isDevice=function(){return!!i().match(/Android|webOS|iPhone|iPad|iPod|bada|Symbian|Palm|CriOS|BlackBerry|IEMobile|WindowsMobile|Opera Mini/i)},e.isStandAlone=r,e.isFacebookWebView=o,e.isFirefoxIOS=a,e.isEdgeIOS=s,e.isOperaMini=l,e.isAndroid=c,e.isIos=u,e.isGoogleSearchApp=d,e.isQQBrowser=p,e.isIosWebview=h,e.isAndroidWebview=f,e.isWebView=function(){return o()||h()||f()},e.isIE=function(){return!!window.document.documentMode||Boolean(window.navigator&&window.navigator.userAgent&&/Edge|MSIE/i.test(window.navigator.userAgent))},e.isIE11=function(){return!!window.MSInputMethodContext&&!!window.document.documentMode},e.isIECompHeader=function(){var t=window.document.querySelector('meta[http-equiv="X-UA-Compatible"]'),e=window.document.querySelector('meta[content="IE=edge"]');return!(!t||!e)},e.isIEIntranet=function(){if(window.document.documentMode)try{var t=window.status;return window.status="testIntranetMode","testIntranetMode"===window.status&&(window.status=t,!0)}catch(t){return!1}return!1},e.isMacOsCna=g,e.supportsPopups=function(t){return void 0===t&&(t=i()),!(h(t)||f(t)||l(t)||a(t)||s(t)||o(t)||p(t)||g()||r())}},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="PaymentCompletedState",e.LAYOUT_TEMPLATE_NAME="subscription-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.clearLoadingScreen();e.animatedGif;e.actionBtn.addEventListener("click",function(){return e.dispatchEvent(new o.IloveEvent("end"))})},e}return r(e,t),Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector("[next-from-payment-completed]");if(!t)throw"'Done' button not found";return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animatedGif",{get:function(){var t=this.domStateRoot.querySelector(".dialog__icon img");if(!t)throw"Check gif not found";return t},enumerable:!0,configurable:!0}),e}(n(10).StateBase);e.PaymentCompletedState=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(68),a=n(10),s=n(92),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SelectSignaturesState",e.LAYOUT_TEMPLATE_NAME="subscription-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.disabled=!0,e.initSlider(),e.actionBtn.addEventListener("click",e._onActionBtnClicked),e.clearLoadingScreen()},e._onNumSignaturesChanged=function(){var t,n,i=e.signaturesSelect.getQuantity();if(void 0===e.ctx.neededSignatures){var r=null!==(n=null===(t=e.ctx)||void 0===t?void 0:t.userCurrentSubscription.signatures)&&void 0!==n?n:void 0;(r||0===r)&&(e.actionBtn.disabled=i===r)}else e.actionBtn.disabled=!(i>=e.numToBuy)},e._onActionBtnClicked=function(t){var n=new s.SummaryState;e.ctx.summaryParams={numSignatures:e.signaturesSelect.getQuantity(),numUsers:void 0,paymentInterval:void 0},e.ctx.changeState(n),n.render(e.domRoot)},e}return r(e,t),Object.defineProperty(e.prototype,"numToBuy",{get:function(){var t,e;return void 0===this.ctx.neededSignatures?0:(null!==(e=null===(t=this.ctx)||void 0===t?void 0:t.userCurrentSubscription.signatures)&&void 0!==e?e:0)+(this.ctx.neededSignatures-this.ctx.user.signatures_left)},enumerable:!0,configurable:!0}),e.prototype.initSlider=function(){var t,e,n=this;if(!this.signaturesSelect){var i=this.domRoot.querySelector("#SelectSignatures");this.signaturesSelect=new o.default,this.signaturesSelect.onInput(this._onNumSignaturesChanged);var r=null!==(e=null===(t=this.ctx)||void 0===t?void 0:t.userCurrentSubscription.signatures)&&void 0!==e?e:void 0;void 0===this.ctx.neededSignatures?r?this.signaturesSelect.init(i,{initialQty:r,initialQtyIsValid:!1}):this.signaturesSelect.init(i,{}):this.signaturesSelect.init(i,{initialQty:function(t){return t>=n.numToBuy},minQty:this.numToBuy})}},Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector("[next-from-signatures]");if(!t)throw"Action button not found";return t},enumerable:!0,configurable:!0}),e}(a.StateBase);e.SelectSignaturesState=l},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(157),r=n(193),o=n(134),a=n(129),s=n(13),l=n(130),c=n(135),u=n(12),d=n(52),p=n(78),h=n(37),f=function(){function e(t){Object.assign(this,t),this.init()}return e.prototype.init=function(){var e;this.listenOnceEventSignatureConfigInit(),this.api=new o.SignApi({taskId:null,tool:null,workerServer:this.startServer,token:this.token});var n=this;null===(e=document.getElementById("addCerts"))||void 0===e||e.addEventListener("click",function(){n.buySignatures()}),l.CanvasHelper.forcePrerenderFonts(a.FONT_FAMILY_EXPLORER,a.FONT_STYLES);var c=s.UserModel.get();c.signature||(c.signature={signature:c.name}),t("#signaturePanel").length>0&&window.setTimeout(function(){n.signatureConfig=new i.default(new r.SignerModel,n.api,new a.SignatureModel(c.signature)),n.signatureConfig.serviceOnly=!0},500),this.initVoidSignatureAction(),this.initDeleteSignatureAction(),this.initDeclineSignatureAction(),this.initRemnoveSignatureAction(),this.initCertifySignatureAction(),this.initDeleteTemplateAction()},e.prototype.listenOnceEventSignatureConfigInit=function(){var e=function(n){t("#signaturePanel").find(".signature__area").removeClass("signature__area--transparent"),window.removeEventListener("signatureConfigInit",e,!1)};window.addEventListener("signatureConfigInit",e)},e.prototype.initVoidSignatureAction=function(){var e=this;if(t(".void-request-btn").length>0){var n=new c.ConfirmModal("void-signature"),i=null;t(".void-request-btn").click(function(e){e.preventDefault();var r=t(e.target);if(0===(i=r.closest("[data-token-requester]")).length)throw"Token requester not found";n.show()}),n.onYes=function(){var t=d.FormDataHelper.jsonToFormData({status:"void"});n.setState("loading"),e.api.workerServer=i.attr("data-worker"),e.api.signatureUpdate(i.attr("data-token-requester"),t).then(function(t){var e;e=u.Lang.t("signature_status_void"),i.find(".signature-status").text(e),i.find(".btn-group").remove(),n.hide()},function(t){n.setState("error",{message:u.Lang.t("voidActionError")})})}}},e.prototype.initDeclineSignatureAction=function(){var e=this;if(t(".decline-request-btn").length>0){var n=new c.ConfirmModal("decline-signature"),i=null;t(".decline-request-btn").click(function(e){e.preventDefault();var r=t(e.target);if(0===(i=r.closest("[data-token-signer]")).length)throw"Token requester not found";n.show()}),n.onYes=function(){var t=d.FormDataHelper.jsonToFormData({status:"declined"});n.setState("loading"),e.api.sign(i.attr("data-token-signer"),t).then(function(t){var e;e=u.Lang.t("signature_status_void"),i.find(".signature-status").text(e),n.hide()},function(t){n.setState("error",{message:u.Lang.t("declineActionError")})})}}},e.prototype.initDeleteSignatureAction=function(){var e=this;if(t(".delete-request-btn").length>0){var n=new c.ConfirmModal("delete-signature");window.voidmodal=n;var i=null;t(".delete-request-btn").click(function(e){e.preventDefault();var r=t(e.target);if(0===(i=r.closest("[data-token-requester]")).length)throw"Token requester not found";n.show()}),n.onYes=function(){d.FormDataHelper.jsonToFormData({status:"delete"});n.setState("loading"),e.api.delete(i.attr("data-token-requester")).then(function(t){var e;e=u.Lang.t("signature_status_delete"),i.find(".signature-status").text(e),n.hide(),window.location.reload()},function(t){n.setState("error",{message:u.Lang.t("deleteActionError")})})}}},e.prototype.initRemnoveSignatureAction=function(){var e=this;if(t(".remove-request-btn").length>0){var n=new c.ConfirmModal("remove-signature"),i=null;t(".remove-request-btn").click(function(e){e.preventDefault();var r=t(e.target);if(0===(i=r.closest("[data-token-signer]")).length)throw"Token signer not found";n.show()}),n.onYes=function(){d.FormDataHelper.jsonToFormData({status:"delete"});n.setState("loading"),e.api.remove(i.attr("data-token-signer")).then(function(t){var e;e=u.Lang.t("signature_status_remove"),i.find(".signature-status").text(e),n.hide()},function(t){n.setState("error",{message:u.Lang.t("removeActionError")})})}}},e.prototype.initCertifySignatureAction=function(){if(t(".certify-request-btn").length>0){var e=new c.ConfirmModal("certify-signature"),n=null,i=this,r=function(){var t=d.FormDataHelper.jsonToFormData({certified:1});i.api.signatureUpdate(n.attr("data-token-requester"),t).then(function(t){e.hide(),window.location.reload()},function(t){e.setState("error",{message:u.Lang.t("certifyActionError")})})};t(".certify-request-btn").click(function(r){r.preventDefault();var o=t(r.target);if(0===(n=o.closest("[data-token-requester]")).length)throw"Token requester not found";var a=parseInt(o.attr("data-files-quantity"));s.UserModel.get().signatures_left<a?i.buySignatures():(e.show(),window.setTimeout(function(){t(".certsNeeded").html(a.toString())},100))}),e.onYes=function(){d.FormDataHelper.jsonToFormData({certified:1});e.setState("loading"),r()}}},e.prototype.buySignatures=function(){var t=new p.PackagesContext({requestedAction:"selectPackageSignatures",neededNumberOfPkgItems:void 0});(new h.default).setContentBuilder(function(){return t}).show(),t.addEventListener("end",function(){window.location.reload()})},e.prototype.initDeleteTemplateAction=function(){var e=this;if(t(".delete-template-btn").length>0){var n=new c.ConfirmModal("deleteTemplateModal"),i=null;t(".delete-template-btn").click(function(e){e.preventDefault();var r=t(e.target);if(0===(i=r.closest("[data-template]")).length)throw"Token requester not found";n.show()}),n.onYes=function(){var t=d.FormDataHelper.jsonToFormData({custom_string:i.attr("data-token"),custom_int:i.attr("data-user-id")});n.setState("loading"),e.api.templateDelete(i.attr("data-template"),t).then(function(t){n.hide(),i.remove(),window.location.reload()},function(t){n.setState("error",{message:u.Lang.t("deleteActionError")})})}}},e}();e.UserSignature=f}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(158),r=n(77),o=n(47),a=n(105),s=n(129),l=n(178),c=n(179),u=n(95),d=n(94),p=n(180),h=n(13),f=n(192),g=n(12),m=n(43),v=n(133),y=function(){function e(e,n,i){void 0===i&&(i=null),this.signer=e,this.api=n,this.signatureModel=i,window.Tooltip=m.Tooltip,this.init(),this.authElement=new p.AuthElement({elementAuth:t(".signature-avatar"),elementAvatar:t(".signature-avatar img")}),this.listenEventUserAuth(),this.listenEventWindowChange()}return e.prototype.checkAllowCostumize=function(){"image"!=this.mode&&"image"==this.signer.allowCostumize&&(t("#cancelSignature").hide(),this.showModal(),this.forceApply()),"font"!=this.mode&&"text"==this.signer.allowCostumize&&(t("#cancelSignature").hide(),this.showModal(),this.forceApply()),"draw"!=this.mode&&"sign"==this.signer.allowCostumize&&(this.showModal(),this.forceApply())},e.prototype.forceSettings=function(){t("#cancelSignature").hide(),this.showModal(),this.forceApply()},e.prototype.listenEventWindowChange=function(){var t=this;window.addEventListener("resize",function(){t.repaintSignature(),t.repaintInitials()}),window.addEventListener("orientationchange",function(){t.repaintSignature(),t.repaintInitials()})},e.prototype.saveToStorage=function(){l.Storage.set("sign.signature",this.getSignature())},e.prototype.loadFromStorage=function(){this.signatureModel||(this.signatureModel=new s.SignatureModel({})),this.signatureModel.setData(l.Storage.get("sign.signature")),this.drawPreview(),this.sendEventSignatureChanged()},e.prototype.loadFromService=function(e){void 0===e&&(e=null);var n=h.UserModel.get(),i={mode:"font",font:{fontFamily:"alex",color:"#555555"},signature:n.name,initials:n.name.charAt(0)};n.signature&&(i=n.signature),this.signatureModel||(this.signatureModel=new s.SignatureModel({})),this.signer.name=n.name,this.signer.email=n.email,null!=e&&(i.mode=e),this.mode=i.mode,"all"!=this.signer.allowCostumize&&this.signer.allowCostumize!=i.mode&&this.checkAllowCostumize(),this.signatureModel.setData(i),this.applySignatureModelToElements(),this.drawPreview(),this.sendEventSignatureChanged(),0!=t(".tool").length&&((this.signatureModel.signatureImageService||this.signatureModel.initialsImageService)&&(this.initUploaderActions(),this.uploadImageFromService()),(this.signatureModel.signatureDrawService||this.signatureModel.initialsDrawService)&&this.uploadSvgFromService())},e.prototype.uploadSvgFromService=function(){this.initSvgUploaders(),this.signatureModel.signatureDrawService&&(this.signatureDrawApi=null,this.uploaderSignatureSvg.uploadToApi(this.signatureModel.signatureDrawService)),this.signatureModel.initialsDrawService&&(this.initialsDrawApi=null,this.uploaderInitialsSvg.uploadToApi(this.signatureModel.initialsDrawService))},e.prototype.uploadImageFromService=function(){this.initImageUploaders(),this.signatureModel.signatureImageService&&(this.signatureImageApi=null,this.uploaderSignature.uploadToApi(this.signatureModel.signatureImageService)),this.signatureModel.initialsImageService&&(this.initialsImageApi=null,this.uploaderInitials.uploadToApi(this.signatureModel.initialsImageService))},e.prototype._removeErrorTooltips=function(){m.Tooltip.disable("#confirmSignature"),m.Tooltip.disable("#uploadSignature"),m.Tooltip.disable("#uploadInitials")},e.prototype.applySignatureModelToElements=function(){var e;(t("#signName").val(this.signatureModel.signature),t("#signInitials").val(this.signatureModel.initials),t('[name="fontFamily"][value="'+this.signatureModel.fontFamily+'"]').trigger("click"),t(".signature__color__item").removeClass("active"),t('[data-color="'+this.signatureModel.color+'"]').addClass("active"),this.signatureModel.signatureImageService)&&(t("#uploadSignaturePreview").css({"background-image":'url("'+this.signatureModel.signatureImageService+'")'}),(e=document.getElementById("uploadSignaturePreview"))&&e.parentElement.classList.add("signed"));this.signatureModel.initialsImageService&&(t("#uploadInitialsPreview").css({"background-image":'url("'+this.signatureModel.initialsImageService+'")'}),(e=document.getElementById("uploadInitialsPreview"))&&e.parentElement.classList.add("signed"));this.applyColorPreview(),t("#signName").trigger("change"),t("#signInitials").trigger("change")},e.prototype.init=function(){var e=this,n=this;if(this.listenEventUuidChanged(),"sign"==this.signer.allowCostumize&&(t("#image-tab").addClass("disabled"),t("#font-tab").addClass("disabled"),this.mode="draw"),"text"==this.signer.allowCostumize&&(t("#image-tab").addClass("disabled"),t("#draw-tab").addClass("disabled"),this.mode="font"),"image"==this.signer.allowCostumize&&(t("#draw-tab").addClass("disabled"),t("#font-tab").addClass("disabled"),this.mode="image"),t("#draw-tab").on("click",function(t){n.mode="draw",setTimeout(function(){n.initCanvas()},500),n._removeErrorTooltips()}),t("#image-tab").on("click",function(t){n.mode="image",setTimeout(function(){n.initUploader()},500),n._removeErrorTooltips()}),t("#font-tab").on("click",function(t){n.mode="font",n._removeErrorTooltips()}),1==h.UserModel.isUser()){var i=h.UserModel.get();i.signature&&i.signature.signature?this.api.pingService().then(function(){e.preloadImages(i),e.loadFromService()},function(){n.serviceError()}):"all"!=this.signer.allowCostumize&&"text"!=this.signer.allowCostumize&&this.forceSettings()}this.initModalSignatureConfig();var r=new CustomEvent("signatureConfigInit",{detail:{signatureModel:n.signatureModel}});window.setTimeout(function(){window.dispatchEvent(r)},500)},e.prototype.preloadImages=function(t){var e=this;t.signature.draw&&""!=t.signature.draw.signature&&(u.ImageHelper.urlToBase64(t.signature.draw.signature).then(function(t){e.signatureModel.signatureDrawBase64=t,u.ImageHelper.preload(t)},function(){e.serviceError()}),""==t.signature.draw.initials?t.signature.draw.initials=t.signature.draw.signature.replace("signature.svg","initials.svg"):1==t.signature.draw.initials.includes("/initials/")&&(t.signature.draw.initials=t.signature.draw.initials.replace("signature.svg","initials.svg"),t.signature.draw.initials=t.signature.draw.initials.replace("/initials/","/signature/")),u.ImageHelper.urlToBase64(t.signature.draw.initials).then(function(t){e.signatureModel.initialsDrawBase64=t,u.ImageHelper.preload(t)},function(){e.serviceError()})),t.signature.image&&""!=t.signature.image.signature&&(u.ImageHelper.urlToBase64(t.signature.image.signature).then(function(t){e.signatureModel.signatureImageBase64=t,u.ImageHelper.preload(t)},function(){e.serviceError()}),u.ImageHelper.urlToBase64(t.signature.image.initials).then(function(t){e.signatureModel.initialsImageBase64=t,u.ImageHelper.preload(t)},function(){e.serviceError()}))},e.prototype.serviceError=function(){this.serviceFail=!0},e.prototype.isServiceAvailable=function(){return 1!=this.serviceFail},e.prototype.initModalSignatureConfig=function(){var e=this,n=document.getElementById("openSignatureConfig");if(n){n.addEventListener("click",function(n){t(n.target).hasClass("signature__option")||t(n.target).parent().hasClass("signature__option")||t(n.target).parent().parent().hasClass("signature__option")||e.showModal()}),document.getElementById("confirmSignature").addEventListener("click",function(){t("#confirmSignature").attr("disabled","disabled"),1==e.validate()?(t("#configSignature .wait").show(),e.uploadAllImages().then(function(){e.applyUploadedModeToModel(),e.saveSignatureSettingsToService().then(function(){e.drawPreview(),t("#configSignature .wait").hide(),e.hideModal(),t("#confirmSignature").removeAttr("disabled"),e.sendEventSignatureConfirmed(),e.sendEventSignatureChanged()},function(){e.drawPreview(),t("#configSignature .wait").hide(),e.hideModal(),t("#confirmSignature").removeAttr("disabled"),e.sendEventSignatureConfirmed(),e.sendEventSignatureChanged()})},function(){t("#configSignature .wait").hide(),t("#confirmSignature").removeAttr("disabled"),m.Tooltip.setContent("#confirmSignature",g.Lang.t("Upload error")+" - "+g.Lang.t("Retry")),m.Tooltip.show("#confirmSignature")})):t("#confirmSignature").removeAttr("disabled")}),document.getElementById("cancelSignature").addEventListener("click",function(){e.sendEventSignatureCancel(),e.hideModal()}),0==t(".signature__color__item.active").length&&t(".signature__color__item:first-child").addClass("active"),t(".signature__color__item").on("click",function(n){var i=t(n.target).attr("data-color");t(".signature__color__item").removeClass("active"),t('[data-color="'+i+'"]').addClass("active"),e.signatureModel.color=i,e.applyColorPreview()}),t("#signName").on("keyup change",function(){var e=o(t("#signName").val().toString());e!=t("#signName").val().toString()&&t("#signName").val(e),""!=e?t(".signature__font__signature").html(e):t(".signature__font__signature").html(g.Lang.t("signature"))}),t("#signInitials").on("keyup change",function(){var e=o(t("#signInitials").val().toString());e!=t("#signInitials").val().toString()&&t("#signInitials").val(e),""!=e?t(".signature__font__initials").html(e):t(".signature__font__initials").html(g.Lang.t("initials"))});var i=v.TextHelper.maxLength(t("#signName").val().toString().trim(),255),r=t("#signInitials").val().toString().trim();""==i&&(i=g.Lang.t("signature")),""==r&&(r=g.Lang.t("initials")),t(".signature__font__signature").html(i),t(".signature__font__initials").html(r)}function o(t){return t?t.replace(/^\s+/g,""):t}},e.prototype.paintDrawSigntaure=function(){if(this.signatureModel.signatureDrawData&&this.signaturePad){var t=this.signatureModel.signatureDrawData,e=this.resizeCanvas(document.getElementById("canvasSignature"));this.signaturePad.clear(),t=this.fitDataPoints(t,e),this.signaturePad.fromData(t)}},e.prototype.paintDrawInitials=function(){if(this.signatureModel.initialsDrawData&&this.initialsPad){var t=this.signatureModel.initialsDrawData,e=this.resizeCanvas(document.getElementById("canvasSignature"));this.initialsPad.clear(),t=this.fitDataPoints(t,e),this.initialsPad.fromData(t)}},e.prototype.showImageSignature=function(){},e.prototype.showImageInitials=function(){},e.prototype.repaintSignature=function(){if(this.signaturePad){var t=this.signaturePad.toData(),e=this.resizeCanvas(document.getElementById("canvasSignature"));this.signaturePad.clear(),t=this.fitDataPoints(t,e),this.signaturePad.fromData(t)}},e.prototype.repaintInitials=function(){if(this.initialsPad){var t=this.initialsPad.toData(),e=this.resizeCanvas(document.getElementById("canvasInitials"));this.initialsPad.clear(),t=this.fitDataPoints(t,e),this.initialsPad.fromData(t)}},e.prototype.resizeCanvas=function(t){var e=Math.max(window.devicePixelRatio||1,1),n=t.width,i=t.height,r=t.offsetWidth*e,o=t.offsetHeight*e;return t.width=r,t.height=o,t.getContext("2d").scale(e,e),{prev:{w:n,h:i},next:{w:r,h:o},factor:{w:r/n,h:o/i}}},e.prototype.fitDataPoints=function(t,e){return t.forEach(function(n,i){n.points.forEach(function(n,r){t[i].points[r].x=n.x*e.next.w/e.prev.w,t[i].points[r].y=n.y*e.next.h/e.prev.h})}),t},e.prototype.applyColorPreview=function(){var e,n=this;(t(".signature__font li label").css("color",this.signatureModel.color),this.signaturePad)&&(this.signaturePad.penColor=this.signatureModel.color,(e=this.signaturePad.toData()).forEach(function(t,e){t.color=n.signatureModel.color}),this.signaturePad.clear(),this.signaturePad.penColor=this.signatureModel.color,this.signaturePad.fromData(e));this.initialsPad&&(this.initialsPad.penColor=this.signatureModel.color,(e=this.initialsPad.toData()).forEach(function(t,e){t.color=n.signatureModel.color}),this.initialsPad.clear(),this.initialsPad.penColor=this.signatureModel.color,this.initialsPad.fromData(e))},e.prototype.sendEventSignatureCancel=function(){var t=new CustomEvent("signatureCancel",{detail:{signatureModel:this.signatureModel}});window.dispatchEvent(t)},e.prototype.sendEventSignatureChanged=function(){var t=new CustomEvent("signatureChanged",{detail:{signatureModel:this.signatureModel}});window.dispatchEvent(t)},e.prototype.sendEventSignatureConfirmed=function(){var t=new CustomEvent("signatureConfirmed");window.dispatchEvent(t)},e.prototype.formatData=function(t){return t.forEach(function(t,e){t.points.forEach(function(t,e){t.time=parseInt(t.time),t.x=parseFloat(t.x),t.y=parseFloat(t.y)})}),t},e.prototype.initSvgUploaders=function(){this.filesSignatureSvg||(this.filesSignatureSvg=new o.FileStack,this.filesInitialsSvg=new o.FileStack,this.uploaderSignatureSvg=this.makeUploaderService("draw","signature","uploadSignatureSvg","uploadSignatureContainerSvg","uploadSignatureAreaSvg",this.filesSignatureSvg),this.uploaderInitialsSvg=this.makeUploaderService("draw","initials","uploadInitialsSvg","uploadInitialsContainerSvg","uploadInitialsAreaSvg",this.filesInitialsSvg))},e.prototype.initImageUploaders=function(){this.filesSignature||(this.filesSignature=new o.FileStack,this.filesInitials=new o.FileStack,this.uploaderSignature=this.makeUploaderService("image","signature","uploadSignature","uploadSignatureContainer","uploadSignatureArea",this.filesSignature),this.uploaderInitials=this.makeUploaderService("image","initials","uploadInitials","uploadInitialsContainer","uploadInitialsArea",this.filesInitials))},e.prototype.initCanvas=function(){var e=this,n=this;if(this.initSvgUploaders(),null==this.signaturePad){var r=document.getElementById("canvasSignature");if(r.width=t(r).parent().innerWidth(),r.height=t(r).parent().innerHeight(),this.signaturePad=new i.default(r),this.signaturePad.penColor=this.signatureModel.color,this.signatureModel.signatureDrawData){var o=this.formatData(this.signatureModel.signatureDrawData);this.signaturePad.fromData(o),t(".signature__draw").addClass("signed")}var a=t("#signatureContainer");a[0].addEventListener("pointerdown",function(t){if((90==window.orientation||-90==window.orientation)&&0==a.hasClass("active"))return a.addClass("active"),t.preventDefault(),t.stopPropagation(),void n.repaintSignature()},!0),document.getElementById("canvasSignatureClose").addEventListener("click",function(){a.removeClass("active"),n.repaintSignature()}),document.getElementById("canvasSignatureClean").addEventListener("click",function(){null!=e.signaturePad&&e.signaturePad.clear(),r.parentElement.classList.remove("signed")}),r.addEventListener("mousedown",function(t){r.parentElement.classList.add("signed")})}if(null==this.initialsPad){var s=document.getElementById("canvasInitials");if(s.width=t(s).parent().innerWidth(),s.height=t(s).parent().innerHeight(),this.initialsPad=new i.default(s),this.initialsPad.penColor=this.signatureModel.color,this.signatureModel.initialsDrawData){o=this.formatData(this.signatureModel.initialsDrawData);this.initialsPad.fromData(o),t(".initials__draw").addClass("signed")}var l=t("#initialsContainer");l[0].addEventListener("pointerdown",function(t){if((90==window.orientation||-90==window.orientation)&&0==l.hasClass("active"))return l.addClass("active"),t.preventDefault(),t.stopPropagation(),void n.repaintInitials()},!0),document.getElementById("canvasInitialsClose").addEventListener("click",function(){l.removeClass("active"),n.repaintInitials()}),document.getElementById("canvasInitialsClean").addEventListener("click",function(){null!=e.initialsPad&&e.initialsPad.clear(),s.parentElement.classList.remove("signed")}),s.addEventListener("mousedown",function(){s.parentElement.classList.add("signed")})}},e.prototype.initUploader=function(){this.uploaderSignature||(this.initImageUploaders(),this.initUploaderActions())},e.prototype.initUploaderActions=function(){var e=this,n=document.getElementById("uploadSignatureClean");t(n).off("click"),t(n).on("click",function(){e.filesSignature.files=[],n.parentElement.classList.remove("signed")});var i=document.getElementById("uploadInitialsClean");t(i).off("click"),t(i).on("click",function(){e.filesInitials.files=[],i.parentElement.classList.remove("signed")})},e.prototype.makeUploaderService=function(t,e,n,i,o,a){return new f.SignaturePlupload({target:null!=h.UserModel.get()&&1!=this.serviceFail?1==this.serviceOnly?"serviceOnly":"service":"api",signatureMode:t,signatureType:e,id:n,container:i,optionsManager:this,config:new r.Config({tool:"sign",subtool:"sign",config:{sign:{mimeTypes:[{title:"Image files",extensions:"png,svg,jpg",mime:"image/png,image/jpeg,image/svg+xml,image/svg"}],multiSelection:!1}}}),files:a,workerServer:this.api.workerServer,tool:"sign",servers:[],haveDrop:!0,dropElement:o,tokenApi:this.api.token,tokenService:null!=h.UserModel.get()&&1!=this.serviceFail?h.UserModel.get().token:null,token:null!=h.UserModel.get()&&1!=this.serviceFail?h.UserModel.get().token:this.api.token,taskId:this.api.taskId})},e.prototype.changeServer=function(t){},e.prototype.checkLimits=function(t,e){return t},e.prototype.fileAdded=function(e,n,i){var r=this;return m.Tooltip.disable("#confirmSignature"),this._removeErrorTooltips(),this.apiFail=!1,"uploadSignature"==n&&(this.signatureImageApi="",m.Tooltip.disable("#uploadSignature")),"uploadInitials"==n&&(this.initialsImageApi="",m.Tooltip.disable("#uploadInitials")),"uploadSignatureSvg"==n&&(this.signatureDrawApi=""),"uploadInitialsSvg"==n&&(this.initialsDrawApi=""),this.uploadStarts(n),new Promise(function(i,o){var s=e.getSource().getSource(),l="";if("uploadInitials"==n&&(l="uploadInitialsPreview",t("#uploadInitialsPreview").css("background-image","none"),u.ImageHelper.getBase64(e,!0).then(function(t){r.signatureModel.initialsImageBase64=t,u.ImageHelper.preload(t)})),"uploadSignature"==n&&(l="uploadSignaturePreview",t("#uploadSignaturePreview").css("background-image","none"),u.ImageHelper.getBase64(e,!0).then(function(t){r.signatureModel.signatureImageBase64=t,u.ImageHelper.preload(t)})),"uploadSignatureSvg"!=n&&"uploadInitialsSvg"!=n)if(""!=l){var c=e.name.endsWith(".svg")?"renderSvg":"renderImage";(new a.ImageView)[c](s,l,!1).then(function(t){return e.width=t.width,e.height=t.height,document.getElementById(l).parentElement.classList.add("signed"),i(t)},function(t){o(t)})}else o("invalid canvas id");else i()})},e.prototype.fileUploaded=function(t,e){return this.filesSignature&&null!=this.filesSignature.updateFile(t,e)?(e.service_filename&&(this.signatureImageService=e.service_filename),e.server_filename&&(this.signatureImageApi=e.server_filename),this.applyUploadedModeToModel(),void this.uploadEnds("uploadSignature")):this.filesInitials&&null!=this.filesInitials.updateFile(t,e)?(e.service_filename&&(this.initialsImageService=e.service_filename),e.server_filename&&(this.initialsImageApi=e.server_filename),this.applyUploadedModeToModel(),void this.uploadEnds("uploadInitials")):this.filesSignatureSvg&&null!=this.filesSignatureSvg.updateFile(t,e)?(e.service_filename&&(this.signatureDrawService=e.service_filename),e.server_filename&&(this.signatureDrawApi=e.server_filename),void this.applyUploadedModeToModel()):this.filesInitialsSvg&&null!=this.filesInitialsSvg.updateFile(t,e)?(e.service_filename&&(this.initialsDrawService=e.service_filename),e.server_filename&&(this.initialsDrawApi=e.server_filename),void this.applyUploadedModeToModel()):void 0},e.prototype.timeout=function(){},e.prototype.validate=function(){if(""==t("#signName").val().toString().trim())return t("#signName").addClass("error").removeClass("shake"),t(".modal-body").animate({scrollTop:t("#signName")[0].getBoundingClientRect().top,duration:200},function(){t("#signName").addClass("shake")}),!1;if(""==t("#signInitials").val().toString().trim()){if(""==t("#signName").val().toString().trim())return t("#signInitials").addClass("error").removeClass("shake"),t(".modal-body").animate({scrollTop:t("#signInitials")[0].getBoundingClientRect().top,duration:200},function(){t("#signInitials").addClass("shake")}),!1;t("#signInitials").val(t("#signName").val().toString().charAt(0)),t("#signInitials").trigger("change")}if(t("#signInitials, #signName").removeClass("error").removeClass("shake"),"draw"==this.mode){if(1==this.signaturePad.isEmpty())return t("#canvasSignature").addClass("error").removeClass("shake"),t(".modal-body").animate({scrollTop:t("#canvasSignature")[0].getBoundingClientRect().top,duration:200},function(){t("#canvasSignature").addClass("shake")}),!1;if(1==this.initialsPad.isEmpty())return t("#canvasInitials").addClass("error").removeClass("shake"),t(".modal-body").animate({scrollTop:t("#canvasInitials")[0].getBoundingClientRect().top,duration:200},function(){t("#canvasInitials").addClass("shake")}),!1}if(t("#canvasSignatureClean").parent().removeClass("error").removeClass("shake"),t("#canvasInitials").parent().removeClass("error").removeClass("shake"),"image"==this.mode){if(0==t("#uploadSignatureContainer").hasClass("signed"))return window.setTimeout(function(){t("#uploadSignatureContainer").addClass("shake")},500),!1;if(0==t("#uploadInitialsContainer").hasClass("signed"))return window.setTimeout(function(){t("#uploadInitialsContainer").addClass("shake")},500),!1}return t("#canvasSignatureClean").parent().removeClass("error").removeClass("shake"),t("#canvasInitials").parent().removeClass("error").removeClass("shake"),!0},e.prototype.getSignature=function(){return this.signatureModel},e.prototype.forceApply=function(){t("#cancelSignature").hide()},e.prototype.showModal=function(){var e=this;if(t(".tippy-box").hide(),t("#configSignature .error").removeClass("error"),t("#configSignature .shake").removeClass("shake"),t("#cancelSignature").show(),this.signatureModel)switch(this.signer.allowCostumize){case"all":t("#"+this.signatureModel.mode+"-tab").tab("show");break;case"text":t("#font-tab").tab("show"),this.signatureModel.mode=this.mode="font";break;case"image":t("#image-tab").tab("show"),this.signatureModel.mode=this.mode="image";break;case"sign":t("#draw-tab").tab("show"),this.signatureModel.mode=this.mode="draw"}t("#configSignature").modal("show"),"draw"!=this.signatureModel.mode||this.signaturePad||0!=t("#draw-tab").hasClass("disabled")||window.setTimeout(function(){e.initCanvas()},500),"image"!=this.signatureModel.mode||this.uploaderSignature||0!=t("#image-tab").hasClass("disabled")||window.setTimeout(function(){e.initUploader()},500),window.setTimeout(function(){t("#signName").focus()},500)},e.prototype.hideModal=function(){t("#configSignature").modal("hide")},e.prototype.apply=function(){this.signatureModel||(this.signatureModel=new s.SignatureModel({})),this.mode||(this.mode="font"),this.signatureModel.mode=this.mode,"font"==this.signatureModel.mode&&this.signatureModel.setData(this.getTextData()),"draw"==this.signatureModel.mode&&this.signatureModel.setData(this.getDrawData()),"image"==this.signatureModel.mode&&this.signatureModel.setData(this.getImageData()),this.signer.name=this.signatureModel.signature,this.signer.initials=this.signatureModel.initials,t("#configSignature .error").removeClass("error"),t("#configSignature .shake").removeClass("shake"),this.saveToStorage(),this.sendEventSignatureChanged()},e.prototype.getTextData=function(){var e=this.getSignatureAndInitials();return{mode:"font",signature:e.signature,initials:e.initials,font:{color:t(".signature__color__item.active").attr("data-color"),fontFamily:t('[name="fontFamily"]:checked').val().toString()}}},e.prototype.getDrawData=function(){var e=this.getSignatureAndInitials();if(!this.signaturePad)return{mode:"draw",signature:e.signature,initials:e.initials};var n=this.signaturePad.toData(),i=this.initialsPad.toData(),r=c.SvgHelper.fromBase64(this.signaturePad.toDataURL("image/svg+xml")).replace("undefined",this.signatureModel.color),o=c.SvgHelper.trim(r),a=c.SvgHelper.toBase64(o),s=c.SvgHelper.fromBase64(this.initialsPad.toDataURL("image/svg+xml")),l=c.SvgHelper.trim(s),u=c.SvgHelper.toBase64(l);return{mode:"draw",signature:e.signature,initials:e.initials,draw:{signatureBase64:a,initialsBase64:u,signatureData:n||this.signatureModel.signatureDrawData,initialsData:i||this.signatureModel.initialsDrawData,color:t(".signature__color__item.active").attr("data-color")}}},e.prototype.uploadSvg=function(){this.signatureDrawApi=null,this.initialsDrawApi=null;var t=c.SvgHelper.fromBase64(this.signaturePad.toDataURL("image/svg+xml")).replace("undefined",this.signatureModel.color),e=c.SvgHelper.trim(t),n=(c.SvgHelper.toBase64(e),c.SvgHelper.toBlob(e)),i=c.SvgHelper.fromBase64(this.initialsPad.toDataURL("image/svg+xml")),r=c.SvgHelper.trim(i),o=(c.SvgHelper.toBase64(r),c.SvgHelper.toBlob(r));this.uploaderSignatureSvg.uploader.addFile(n,"signature.svg"),this.uploaderInitialsSvg.uploader.addFile(o,"initials.svg")},e.prototype.getImageData=function(){var t=this.getSignatureAndInitials();return"image"==this.mode&&this.filesSignature?{mode:"image",signature:t.signature,initials:t.initials,image:{signatureApi:this.signatureImageApi?this.signatureImageApi:"",initialsApi:this.initialsImageApi?this.initialsImageApi:""}}:{mode:"image",signature:t.signature,initials:t.initials}},e.prototype.getSignatureAndInitials=function(){var e=t("#signName").val().toString(),n=t("#signInitials").val().toString();return""==e&&(e=this.signer.name,t("#signName").val(e)),""==n&&(n=this.signer.name.split(" ").map(function(t){return t[0]}).join(""),t("#signInitials").val(n)),{signature:e,initials:n}},e.prototype.drawPreview=function(){this.signatureModel&&(t(".signature__preview").html(this.signatureModel.getSignaturePreview()),t(".signature__firm").html(d.Frame.make(this.signatureModel.uuid)))},e.prototype.saveSignatureSettingsToService=function(){var t=this;return new Promise(function(e,n){if(h.UserModel.isUser())if(1!=t.serviceFail){var i=t.signatureModel.getServiceData();window.userModel.signature=i,t.api.saveToolConfig("signature",i,window.userModel.token).then(function(t){e()},function(t){n(t)})}else e();else e()})},e.prototype.listenEventUserAuth=function(){var e=this;window.addEventListener("userAuth",function(n){var i=h.UserModel.get();if(i.signature&&i.signature.signature){var r=t("#signature-tabs .nav-link.active").attr("id").replace("-tab","");i.signature.mode=r,e.uploaderSignature&&e.uploaderSignature.setServiceMode(),e.uploaderInitials&&e.uploaderInitials.setServiceMode(),e.loadFromService(r),e.paintDrawSigntaure(),e.paintDrawInitials(),window.setTimeout(function(){window.dispatchEvent(new Event("resize"))}),(e.signatureModel.signatureImageService||e.signatureModel.initialsImageService)&&(e.initUploaderActions(),e.uploadImageFromService(),e.drawPreview()),e.preloadImages(i)}})},e.prototype.listenEventUuidChanged=function(){var t=this;window.addEventListener("uuidChanged",function(e){t.signatureModel&&(t.signatureModel.uuidVisble="enabled"==e.detail.uuid)})},e.prototype.uploadCloudFile=function(t,e){},e.prototype.invalidUpload=function(t){this.fatalError(t)},e.prototype.setUploaderError=function(t){"uploadSignatureSvg"==t.id||"uploadInitialsSvg"==t.id?(this.signatureDrawData=null,this.initialsDrawData=null):("uploadSignature"==t.id&&(m.Tooltip.setContent("#uploadSignature",g.Lang.t("Upload error")+" - "+g.Lang.t("Retry")),m.Tooltip.show("#uploadSignature"),document.getElementById("uploadSignatureContainer").classList.remove("signed"),document.getElementById("uploadSignatureContainer").classList.remove("upload")),"uploadInitials"==t.id&&(m.Tooltip.setContent("#uploadInitials",g.Lang.t("Upload error")+" - "+g.Lang.t("Retry")),m.Tooltip.show("#uploadInitials"),document.getElementById("uploadInitialsContainer").classList.remove("signed"),document.getElementById("uploadInitialsContainer").classList.remove("upload")))},e.prototype.fatalError=function(t){1==t.cloudFile?(this.apiFail=!0,this.setUploaderError(t)):"api"!=t.target&&"serviceOnly"!=t.target||(this.apiFail=!0,this.setUploaderError(t))},e.prototype.uploadStarts=function(e){t("#"+e+"Container").addClass("upload")},e.prototype.uploadEnds=function(e){t("#"+e+"Container").removeClass("upload")},e.prototype.waitForAllUploadsCompleted=function(){var t=null,e=this;return new Promise(function(n,i){t=window.setInterval(function(){1==e.checkUploadIsCompleted()&&(window.clearInterval(t),n()),1==e.apiFail&&i()},500)})},e.prototype.uploadAllImages=function(){return"draw"==this.mode&&JSON.stringify(this.signaturePad.toData())!=JSON.stringify(this.signatureDrawData)&&(this.signatureDrawData=this.signaturePad.toData(),this.initialsDrawData=this.initialsPad.toData(),this.uploadSvg()),this.apply(),this.waitForAllUploadsCompleted()},e.prototype.checkUploadIsCompleted=function(){return 1==this.serviceOnly?"draw"==this.mode?null!=this.initialsDrawService&&""!=this.initialsDrawService&&null!=this.signatureDrawService&&""!=this.signatureDrawService:"image"!=this.mode||(this.filesInitials.files.length>0&&null!=this.initialsImageService&&""!=this.initialsImageService||this.filesSignature.files.length>0&&null!=this.signatureImageService&&""!=this.signatureImageService):"draw"==this.mode?null!=this.initialsDrawApi&&""!=this.initialsDrawApi&&null!=this.signatureDrawApi&&""!=this.signatureDrawApi:"image"!=this.mode||null!=this.initialsImageApi&&""!=this.initialsImageApi&&null!=this.signatureImageApi&&""!=this.signatureImageApi},e.prototype.applyUploadedModeToModel=function(){"draw"==this.mode&&this.applyUploadedDrawToSignatureModel(),"image"==this.mode&&this.applyUploadedImagesToSignatureModel()},e.prototype.applyUploadedImagesToSignatureModel=function(){this.signatureImageApi&&(this.signatureModel.signatureImageApi=this.signatureImageApi),this.initialsImageApi&&(this.signatureModel.initialsImageApi=this.initialsImageApi),this.signatureImageService&&(this.signatureModel.signatureImageService=this.signatureImageService),this.initialsImageService&&(this.signatureModel.initialsImageService=this.initialsImageService)},e.prototype.applyUploadedDrawToSignatureModel=function(){this.signatureDrawApi&&(this.signatureModel.signatureDrawApi=this.signatureDrawApi),this.initialsDrawApi&&(this.signatureModel.initialsDrawApi=this.initialsDrawApi),this.signatureDrawService&&(this.signatureModel.signatureDrawService=this.signatureDrawService),this.initialsDrawService&&(this.signatureModel.initialsDrawService=this.initialsDrawService)},e}();e.default=y}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(159),r=n(120),o=n(160),a=function(){function t(e,n){var i=this;void 0===n&&(n={}),this.canvas=e,this.options=n,this._handleMouseDown=function(t){1===t.which&&(i._mouseButtonDown=!0,i._strokeBegin(t))},this._handleMouseMove=function(t){i._mouseButtonDown&&i._strokeMoveUpdate(t)},this._handleMouseUp=function(t){1===t.which&&i._mouseButtonDown&&(i._mouseButtonDown=!1,i._strokeEnd(t))},this._handleTouchStart=function(t){if(t.preventDefault(),1===t.targetTouches.length){var e=t.changedTouches[0];i._strokeBegin(e)}},this._handleTouchMove=function(t){t.preventDefault();var e=t.targetTouches[0];i._strokeMoveUpdate(e)},this._handleTouchEnd=function(t){if(t.target===i.canvas){t.preventDefault();var e=t.changedTouches[0];i._strokeEnd(e)}},this.velocityFilterWeight=n.velocityFilterWeight||.7,this.minWidth=n.minWidth||.5,this.maxWidth=n.maxWidth||2.5,this.throttle="throttle"in n?n.throttle:16,this.minDistance="minDistance"in n?n.minDistance:5,this.throttle?this._strokeMoveUpdate=o.throttle(t.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=t.prototype._strokeUpdate,this.dotSize=n.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=n.penColor||"black",this.backgroundColor=n.backgroundColor||"rgba(0,0,0,0)",this.onBegin=n.onBegin,this.onEnd=n.onEnd,this._ctx=e.getContext("2d"),this.clear(),this.on()}return t.prototype.clear=function(){var t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0},t.prototype.fromDataURL=function(t,e,n){var i=this;void 0===e&&(e={});var r=new Image,o=e.ratio||window.devicePixelRatio||1,a=e.width||this.canvas.width/o,s=e.height||this.canvas.height/o;this._reset(),r.onload=function(){i._ctx.drawImage(r,0,0,a,s),n&&n()},r.onerror=function(t){n&&n(t)},r.src=t,this._isEmpty=!1},t.prototype.toDataURL=function(t,e){switch(void 0===t&&(t="image/png"),t){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(t,e)}},t.prototype.on=function(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())},t.prototype.off=function(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(t){var n=t.color,i=t.curve;return e._drawCurve({color:n,curve:i})},function(t){var n=t.color,i=t.point;return e._drawDot({color:n,point:i})}),this._data=t},t.prototype.toData=function(){return this._data},t.prototype._strokeBegin=function(t){var e={color:this.penColor,points:[]};this._data.push(e),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},t.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,i=this._createPoint(e,n),r=this._data[this._data.length-1],o=r.points,a=o.length>0&&o[o.length-1],s=!!a&&i.distanceTo(a)<=this.minDistance,l=r.color;if(!a||!a||!s){var c=this._addPoint(i);a?c&&this._drawCurve({color:l,curve:c}):this._drawDot({color:l,point:i}),o.push({time:i.time,x:i.x,y:i.y})}},t.prototype._strokeEnd=function(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)},t.prototype._handlePointerEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)},t.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},t.prototype._handleTouchEvents=function(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)},t.prototype._reset=function(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},t.prototype._createPoint=function(t,e){var n=this.canvas.getBoundingClientRect();return new r.Point(t-n.left,e-n.top,(new Date).getTime())},t.prototype._addPoint=function(t){var e=this._lastPoints;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);var n=this._calculateCurveWidths(e[1],e[2]),r=i.Bezier.fromPoints(e,n);return e.shift(),r}return null},t.prototype._calculateCurveWidths=function(t,e){var n=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(n),r={end:i,start:this._lastWidth};return this._lastVelocity=n,this._lastWidth=i,r},t.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)},t.prototype._drawCurveSegment=function(t,e,n){var i=this._ctx;i.moveTo(t,e),i.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},t.prototype._drawCurve=function(t){var e=t.color,n=t.curve,i=this._ctx,r=n.endWidth-n.startWidth,o=2*Math.floor(n.length());i.beginPath(),i.fillStyle=e;for(var a=0;a<o;a+=1){var s=a/o,l=s*s,c=l*s,u=1-s,d=u*u,p=d*u,h=p*n.startPoint.x;h+=3*d*s*n.control1.x,h+=3*u*l*n.control2.x,h+=c*n.endPoint.x;var f=p*n.startPoint.y;f+=3*d*s*n.control1.y,f+=3*u*l*n.control2.y,f+=c*n.endPoint.y;var g=n.startWidth+c*r;this._drawCurveSegment(h,f,g)}i.closePath(),i.fill()},t.prototype._drawDot=function(t){var e=t.color,n=t.point,i=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(n.x,n.y,r),i.closePath(),i.fillStyle=e,i.fill()},t.prototype._fromData=function(t,e,n){for(var i=0,o=t;i<o.length;i++){var a=o[i],s=a.color,l=a.points;if(l.length>1)for(var c=0;c<l.length;c+=1){var u=l[c],d=new r.Point(u.x,u.y,u.time);this.penColor=s,0===c&&this._reset();var p=this._addPoint(d);p&&e({color:s,curve:p})}else this._reset(),n({color:s,point:l[0]})}},t.prototype._toSVG=function(){var t=this,e=this._data,n=Math.max(window.devicePixelRatio||1,1),i=this.canvas.width/n,r=this.canvas.height/n,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",this.canvas.width.toString()),o.setAttribute("height",this.canvas.height.toString()),this._fromData(e,function(t){var e=t.color,n=t.curve,i=document.createElement("path");if(!(isNaN(n.control1.x)||isNaN(n.control1.y)||isNaN(n.control2.x)||isNaN(n.control2.y))){var r="M "+n.startPoint.x.toFixed(3)+","+n.startPoint.y.toFixed(3)+" C "+n.control1.x.toFixed(3)+","+n.control1.y.toFixed(3)+" "+n.control2.x.toFixed(3)+","+n.control2.y.toFixed(3)+" "+n.endPoint.x.toFixed(3)+","+n.endPoint.y.toFixed(3);i.setAttribute("d",r),i.setAttribute("stroke-width",(2.25*n.endWidth).toFixed(3)),i.setAttribute("stroke",e),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),o.appendChild(i)}},function(e){var n=e.color,i=e.point,r=document.createElement("circle"),a="function"==typeof t.dotSize?t.dotSize():t.dotSize;r.setAttribute("r",a.toString()),r.setAttribute("cx",i.x.toString()),r.setAttribute("cy",i.y.toString()),r.setAttribute("fill",n),o.appendChild(r)});var a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+i+" "+r+'" width="'+i+'" height="'+r+'">',s=o.innerHTML;if(void 0===s){var l=document.createElement("dummy"),c=o.childNodes;l.innerHTML="";for(var u=0;u<c.length;u+=1)l.appendChild(c[u].cloneNode(!0));s=l.innerHTML}return"data:image/svg+xml;base64,"+btoa(a+s+"</svg>")},t}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(120),r=function(){function t(t,e,n,i,r,o){this.startPoint=t,this.control2=e,this.control1=n,this.endPoint=i,this.startWidth=r,this.endWidth=o}return t.fromPoints=function(e,n){var i=this.calculateControlPoints(e[0],e[1],e[2]).c2,r=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new t(e[1],i,r,e[2],n.start,n.end)},t.calculateControlPoints=function(t,e,n){var r=t.x-e.x,o=t.y-e.y,a=e.x-n.x,s=e.y-n.y,l=(t.x+e.x)/2,c=(t.y+e.y)/2,u=(e.x+n.x)/2,d=(e.y+n.y)/2,p=Math.sqrt(r*r+o*o),h=Math.sqrt(a*a+s*s),f=h/(p+h),g=u+(l-u)*f,m=d+(c-d)*f,v=e.x-g,y=e.y-m;return{c1:new i.Point(l+v,c+y),c2:new i.Point(u+v,d+y)}},t.prototype.length=function(){for(var t,e,n=0,i=0;i<=10;i+=1){var r=i/10,o=this.point(r,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),a=this.point(r,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var s=o-t,l=a-e;n+=Math.sqrt(s*s+l*l)}t=o,e=a}return n},t.prototype.point=function(t,e,n,i,r){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*i*(1-t)*t*t+r*t*t*t},t}();e.Bezier=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=function(t,e){void 0===e&&(e=250);var n,i,r,o=0,a=null,s=function(){o=Date.now(),a=null,n=t.apply(i,r),a||(i=null,r=[])};return function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var u=Date.now(),d=e-(u-o);return i=this,r=l,d<=0||d>e?(a&&(clearTimeout(a),a=null),o=u,n=t.apply(i,r),a||(i=null,r=[])):a||(a=window.setTimeout(s,d)),n}}},function(t,e,n){t.exports=n(38),n(121),n(69),n(162),n(122),n(163),n(123),n(164),n(165)},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38),n(69)],void 0===(o="function"==typeof(i=function(t){"undefined"!=typeof fetch&&"undefined"!=typeof Request&&(t.fetchBlob=function(e,n,i){if(t.hasMetaOption(i))return fetch(new Request(e,i)).then(function(t){return t.blob()}).then(n).catch(function(t){n()});n()})})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38),n(122)],void 0===(o="function"==typeof(i=function(t){t.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},t.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},t.ExifMap.prototype.getText=function(t){var e=this.get(t);switch(t){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[t][e];case"ExifVersion":case"FlashpixVersion":if(!e)return;return String.fromCharCode(e[0],e[1],e[2],e[3]);case"ComponentsConfiguration":if(!e)return;return this.stringValues[t][e[0]]+this.stringValues[t][e[1]]+this.stringValues[t][e[2]]+this.stringValues[t][e[3]];case"GPSVersionID":if(!e)return;return e[0]+"."+e[1]+"."+e[2]+"."+e[3]}return String(e)},function(t){var e,n=t.tags,i=t.map;for(e in n)n.hasOwnProperty(e)&&(i[n[e]]=e)}(t.ExifMap.prototype),t.ExifMap.prototype.getAll=function(){var t,e,n={};for(t in this)this.hasOwnProperty(t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38),n(123)],void 0===(o="function"==typeof(i=function(t){t.IptcMap.prototype.tags={3:"ObjectType",4:"ObjectAttribute",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectRef",15:"Category",20:"SupplCategory",22:"FixtureID",25:"Keywords",26:"ContentLocCode",27:"ContentLocName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"RefService",47:"RefDate",50:"RefNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"CountryName",103:"OrigTransRef",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",122:"WriterEditor",130:"ImageType",131:"ImageOrientation",135:"LanguageID"},t.IptcMap.prototype.getText=function(t){var e=this.get(t);return String(e)},function(t){var e,n=t.tags,i=t.map||{};for(e in n)n.hasOwnProperty(e)&&(i[n[e]]=e)}(t.IptcMap.prototype),t.IptcMap.prototype.getAll=function(){var t,e,n={};for(t in this)this.hasOwnProperty(t)&&(e=this.tags[t])&&(n[e]=this.getText(e));return n}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(38),n(121),n(69)],void 0===(o="function"==typeof(i=function(t){var e=t.hasCanvasOption,n=t.hasMetaOption,i=t.transformCoordinates,r=t.getTransformedOptions;t.hasCanvasOption=function(n){return!!n.orientation||e.call(t,n)},t.hasMetaOption=function(e){return e&&!0===e.orientation||n.call(t,e)},t.transformCoordinates=function(e,n){i.call(t,e,n);var r=e.getContext("2d"),o=e.width,a=e.height,s=e.style.width,l=e.style.height,c=n.orientation;if(c&&!(c>8))switch(c>4&&(e.width=a,e.height=o,e.style.width=l,e.style.height=s),c){case 2:r.translate(o,0),r.scale(-1,1);break;case 3:r.translate(o,a),r.rotate(Math.PI);break;case 4:r.translate(0,a),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-a);break;case 7:r.rotate(.5*Math.PI),r.translate(o,-a),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-o,0)}},t.getTransformedOptions=function(e,n,i){var o,a,s=r.call(t,e,n),l=s.orientation;if(!0===l&&i&&i.exif&&(l=i.exif.get("Orientation")),!l||l>8||1===l)return s;for(a in o={},s)s.hasOwnProperty(a)&&(o[a]=s[a]);switch(o.orientation=l,l){case 2:o.left=s.right,o.right=s.left;break;case 3:o.left=s.right,o.top=s.bottom,o.right=s.left,o.bottom=s.top;break;case 4:o.top=s.bottom,o.bottom=s.top;break;case 5:o.left=s.top,o.top=s.left,o.right=s.bottom,o.bottom=s.right;break;case 6:o.left=s.top,o.top=s.right,o.right=s.bottom,o.bottom=s.left;break;case 7:o.left=s.bottom,o.top=s.right,o.right=s.top,o.bottom=s.left;break;case 8:o.left=s.bottom,o.top=s.left,o.right=s.top,o.bottom=s.right}return o.orientation>4&&(o.maxWidth=s.maxHeight,o.maxHeight=s.maxWidth,o.minWidth=s.minHeight,o.minHeight=s.minWidth,o.sourceWidth=s.sourceHeight,o.sourceHeight=s.sourceWidth),o}})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i;!function(r){"use strict";var o=r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype,a=r.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),s=a&&r.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),l=r.BlobBuilder||r.WebKitBlobBuilder||r.MozBlobBuilder||r.MSBlobBuilder,c=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,u=(a||l)&&r.atob&&r.ArrayBuffer&&r.Uint8Array&&function(t){var e,n,i,r,o,u,d,p,h;if(!(e=t.match(c)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),i=!!e[4],r=t.slice(e[0].length),o=i?atob(r):decodeURIComponent(r),u=new ArrayBuffer(o.length),d=new Uint8Array(u),p=0;p<o.length;p+=1)d[p]=o.charCodeAt(p);return a?new Blob([s?d:u],{type:n}):((h=new l).append(u),h.getBlob(n))};r.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(t,e,n){var i=this;setTimeout(function(){n&&o.toDataURL&&u?t(u(i.toDataURL(e,n))):t(i.mozGetAsFile("blob",e))})}:o.toDataURL&&u&&(o.toBlob=function(t,e,n){var i=this;setTimeout(function(){t(u(i.toDataURL(e,n)))})})),void 0===(i=function(){return u}.call(e,n,e,t))||(t.exports=i)}(window)},function(t,e,n){(function(t){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i={decode:function(t){i.decode._decodeG3.allow2D=null;var e=new Uint8Array(t),n=0,r=i._binBE.readASCII(e,n,2);n+=2;var o="II"==r?i._binLE:i._binBE;o.readUshort(e,n);n+=2;var a=o.readUint(e,n);n+=4;for(var s=[];;){var l=i.decode._readIFD(o,e,a,s);if(0==(a=o.readUint(e,l)))break}for(var c=0;c<s.length;c++){var u=s[c];u.width=u.t256[0],delete u.t256,u.height=u.t257[0],delete u.t257;var d=u.t259[0];delete u.t259;var p=u.t266?u.t266[0]:1;delete u.t266,u.t284&&u.t284[0];var h=(u.t258?u.t258[0]:1)*(u.t277?u.t277[0]:1),f=u.t273;null==f&&(f=u.t324);var g=u.t279;1==d&&1==f.length&&(g=[u.height*u.width*h>>3]),null==g&&(g=u.t325);var m=new Uint8Array(u.width*u.height*h>>3),v=0;if(null!=u.t322){for(var y=u.t322[0],_=u.t323[0],b=Math.floor((u.width+y-1)/y),w=Math.floor((u.height+_-1)/_),S=new Uint8Array(y*_*h>>3),E=0;E<w;E++)for(var x=0;x<b;x++){for(var k=E*b+x,T=0;T<S.length;T++)S[T]=0;i.decode._decompress(u,e,f[k],g[k],d,S,0,p),i._copyTile(S,y*h>>3,_,m,u.width*h>>3,u.height,x*y*h>>3,E*_)}v=m.length<<3}else{var C=u.t278?u.t278[0]:u.height;C=Math.min(C,u.height);for(k=0;k<f.length;k++)i.decode._decompress(u,e,f[k],g[k],d,m,v>>3,p),v+=u.width*h*C;v=Math.min(v,m.length<<3)}u.data=new Uint8Array(m.buffer,0,v>>3)}return s}};i.decode._decompress=function(t,e,r,o,a,s,l,c){var u=n(169);if(1==a)for(var d=0;d<o;d++)s[l+d]=e[r+d];else if(3==a)i.decode._decodeG3(e,r,o,s,l,t.width,c);else if(4==a)i.decode._decodeG4(e,r,o,s,l,t.width,c);else if(5==a)i.decode._decodeLZW(e,r,s,l);else if(8==a)for(var p=new Uint8Array(e.buffer,r,o),h=u.inflate(p),f=0;f<h.length;f++)s[l+f]=h[f];else 32773==a?i.decode._decodePackBits(e,r,o,s,l):32809==a&&i.decode._decodeThunder(e,r,o,s,l);if(t.t317&&2==t.t317[0])for(var g=t.t277?t.t277[0]:1,m=t.t278?t.t278[0]:t.height,v=t.width*g,y=0;y<m;y++){var _=l+y*v;for(d=g;d<v;d++)s[_+d]=s[_+d]+s[_+d-g]&255}},i.decode._decodePackBits=function(t,e,n,i,r){for(var o=new Int8Array(t.buffer),a=new Int8Array(i.buffer),s=e+n;e<s;){var l=o[e];if(e++,l>=0&&l<128)for(var c=0;c<l+1;c++)a[r]=o[e],r++,e++;if(l>=-127&&l<0){for(c=0;c<1-l;c++)a[r]=o[e],r++;e++}}},i.decode._decodeThunder=function(t,e,n,i,r){for(var o=[0,1,0,-1],a=[0,1,2,3,0,-3,-2,-1],s=e+n,l=2*r,c=0;e<s;){var u=t[e],d=u>>6,p=63&u;if(e++,3==d&&(c=15&p,i[l>>1]|=c<<4*(1-l&1),l++),0==d)for(var h=0;h<p;h++)i[l>>1]|=c<<4*(1-l&1),l++;if(2==d)for(h=0;h<2;h++){4!=(f=p>>3*(1-h)&7)&&(c+=a[f],i[l>>1]|=c<<4*(1-l&1),l++)}if(1==d)for(h=0;h<3;h++){var f;2!=(f=p>>2*(2-h)&3)&&(c+=o[f],i[l>>1]|=c<<4*(1-l&1),l++)}}},i.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},i.decode._lens=function(){var t=function(t,e,n,i){for(var r=0;r<e.length;r++)t[e[r]]=n+r*i},e="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",n="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",i="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",r="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",o="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";e=e.split(","),n=n.split(","),i=i.split(","),r=r.split(","),o=o.split(",");var a={},s={};return t(a,e,0,1),t(a,i,64,64),t(a,o,1792,64),t(s,n,0,1),t(s,r,64,64),t(s,o,1792,64),[a,s]}(),i.decode._decodeG4=function(t,e,n,r,o,a,s){for(var l=i.decode,c=e<<3,u=0,d="",p=[],h=[],f=0;f<a;f++)h.push(0);h=l._makeDiff(h);for(var g=0,m=0,v=0,y=0,_=0,b=0,w="",S=0;c>>3<e+n;){v=l._findDiff(h,g+(0==g?0:1),1-_),y=l._findDiff(h,v,_);var E=0;if(1==s&&(E=t[c>>3]>>7-(7&c)&1),2==s&&(E=t[c>>3]>>(7&c)&1),c++,d+=E,"H"==w){if(null!=l._lens[_][d]){var x=l._lens[_][d];d="",u+=x,x<64&&(l._addNtimes(p,u,_),g+=u,_=1-_,u=0,0==--S&&(w=""))}}else"0001"==d&&(d="",l._addNtimes(p,y-g,_),g=y),"001"==d&&(d="",w="H",S=2),null!=l._dmap[d]&&(m=v+l._dmap[d],l._addNtimes(p,m-g,_),g=m,d="",_=1-_);p.length==a&&""==w&&(l._writeBits(p,r,8*o+b*a),_=0,b++,g=0,h=l._makeDiff(p),p=[])}},i.decode._findDiff=function(t,e,n){for(var i=0;i<t.length;i+=2)if(t[i]>=e&&t[i+1]==n)return t[i]},i.decode._makeDiff=function(t){var e=[];1==t[0]&&e.push(0,1);for(var n=1;n<t.length;n++)t[n-1]!=t[n]&&e.push(n,t[n]);return e.push(t.length,0,t.length,1),e},i.decode._decodeG3=function(t,e,n,r,o,a,s){for(var l=i.decode,c=e<<3,u=0,d="",p=[],h=[],f=0;f<a;f++)p.push(0);for(var g=0,m=0,v=0,y=0,_=0,b=-1,w="",S=0,E=!1;c>>3<e+n;){v=l._findDiff(h,g+(0==g?0:1),1-_),y=l._findDiff(h,v,_);var x=0;if(1==s&&(x=t[c>>3]>>7-(7&c)&1),2==s&&(x=t[c>>3]>>(7&c)&1),c++,d+=x,E){if(null!=l._lens[_][d]){var k=l._lens[_][d];d="",u+=k,k<64&&(l._addNtimes(p,u,_),_=1-_,u=0)}}else if("H"==w){if(null!=l._lens[_][d]){k=l._lens[_][d];d="",u+=k,k<64&&(l._addNtimes(p,u,_),g+=u,_=1-_,u=0,0==--S&&(w=""))}}else"0001"==d&&(d="",l._addNtimes(p,y-g,_),g=y),"001"==d&&(d="",w="H",S=2),null!=l._dmap[d]&&(m=v+l._dmap[d],l._addNtimes(p,m-g,_),g=m,d="",_=1-_);d.endsWith("000000000001")&&(b>=0&&l._writeBits(p,r,8*o+b*a),E=1==(t[c>>3]>>(7&c)&1),c++,null==l._decodeG3.allow2D&&(l._decodeG3.allow2D=E),l._decodeG3.allow2D||(E=!0,c--),d="",_=0,b++,g=0,h=l._makeDiff(p),p=[])}p.length==a&&l._writeBits(p,r,8*o+b*a)},i.decode._addNtimes=function(t,e,n){for(var i=0;i<e;i++)t.push(n)},i.decode._writeBits=function(t,e,n){for(var i=0;i<t.length;i++)e[n+i>>3]|=t[i]<<7-(n+i&7)},i.decode._decodeLZW=function(t,e,n,i){for(var r=[],o=9,a=e<<3,s=0,l=0;;){if(s=(t[a>>3]<<16|t[a+8>>3]<<8|t[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,0==r.length&&256!=s)return;if(257==s)break;if(256==s){o=9,r=[];for(var c=0;c<258;c++)r[c]=[c];if(s=(t[a>>3]<<16|t[a+8>>3]<<8|t[a+16>>3])>>24-(7&a)-o&(1<<o)-1,a+=o,257==s)break;for(c=0;c<r[s].length;c++)n[i+c]=r[s][c];i+=r[s].length,l=s}else if(s<r.length){for(c=0;c<r[s].length;c++)n[i+c]=r[s][c];i+=r[s].length;var u=r[l].slice(0);u.push(r[s][0]),r.push(u),r.length+1==1<<o&&o++,l=s}else{var d=r[l].slice(0);d.push(d[0]);for(c=0;c<d.length;c++)n[i+c]=d[c];i+=d.length,r.push(d),r.length+1==1<<o&&o++,l=s}}},i.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",317:"Predictor",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",336:"DotRange",338:"ExtraSample",339:"SampleFormat",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",33432:"Copyright",34377:"Photoshop"},i.decode._readIFD=function(t,e,n,i){var r=t.readUshort(e,n);n+=2;var o={};i.push(o);for(var a=0;a<r;a++){var s=t.readUshort(e,n);n+=2;var l=t.readUshort(e,n);n+=2;var c=t.readUint(e,n);n+=4;var u=t.readUint(e,n);n+=4;var d=o["t"+s]=[];if(1==l||7==l)for(var p=0;p<c;p++)d.push(e[(c<5?n-4:u)+p]);if(2==l&&d.push(t.readASCII(e,c<5?n-4:u,c-1)),3==l)for(p=0;p<c;p++)d.push(t.readUshort(e,(c<3?n-4:u)+2*p));if(4==l)for(p=0;p<c;p++)d.push(t.readUint(e,(c<2?n-4:u)+4*p));if(5==l)for(p=0;p<c;p++)d.push(t.readUint(e,u+8*p)/t.readUint(e,u+8*p+4));d.length}return n},i.toRGBA8=function(t){var e=t.width*t.height,n=4*e,i=t.data,r=new Uint8Array(4*e),o=t.t262[0],a=t.t258?t.t258[0]:1;if(0==o){if(1==a)for(var s=0;s<e;s++){var l=s<<2,c=i[s>>3]>>7-(7&s)&1;r[l]=r[l+1]=r[l+2]=255*(1-c),r[l+3]=255}if(4==a)for(s=0;s<e;s++){l=s<<2,c=i[s>>1]>>4-4*(1&s)&15;r[l]=r[l+1]=r[l+2]=17*(15-c),r[l+3]=255}if(8==a)for(s=0;s<e;s++){l=s<<2,c=i[s];r[l]=r[l+1]=r[l+2]=255-c,r[l+3]=255}}if(1==o){if(1==a)for(s=0;s<e;s++){l=s<<2,c=i[s>>3]>>7-(7&s)&1;r[l]=r[l+1]=r[l+2]=255*c,r[l+3]=255}if(2==a)for(s=0;s<e;s++){l=s<<2,c=i[s>>2]>>6-2*(3&s)&3;r[l]=r[l+1]=r[l+2]=85*c,r[l+3]=255}if(8==a)for(s=0;s<e;s++){l=s<<2,c=i[s];r[l]=r[l+1]=r[l+2]=c,r[l+3]=255}if(16==a)for(s=0;s<e;s++){l=s<<2,c=Math.max(0,i[2*s+1]-5)<<8|i[2*s];r[l]=r[l+1]=r[l+2]=Math.min(255,c),r[l+3]=255}}if(2==o)if(8==a)if(t.t338)if(1==t.t338[0])for(s=0;s<n;s++)r[s]=i[s];else for(s=0;s<n;s+=4)r[s]=i[s],r[s+1]=i[s+1],r[s+2]=i[s+2],r[s+3]=255;else for(s=0;s<e;s++){var u=3*s;r[l=s<<2]=i[u],r[l+1]=i[u+1],r[l+2]=i[u+2],r[l+3]=255}else for(s=0;s<e;s++){u=6*s;r[l=s<<2]=i[u],r[l+1]=i[u+2],r[l+2]=i[u+4],r[l+3]=255}if(3==o){var d=t.t320;for(s=0;s<e;s++){l=s<<2;var p=i[s];r[l]=d[p]>>8,r[l+1]=d[256+p]>>8,r[l+2]=d[512+p]>>8,r[l+3]=255}}if(5==o)for(s=0;s<e;s++){var h=255-i[l=s<<2],f=255-i[l+1],g=255-i[l+2],m=(255-i[l+3])*(1/255);r[l]=Math.round(h*m),r[l+1]=Math.round(f*m),r[l+2]=Math.round(g*m),r[l+3]=255}return r},i.replaceIMG=function(){for(var t=document.getElementsByTagName("img"),e=0;e<t.length;e++){var n=t[e],r=n.getAttribute("src"),o=r.split(".").pop().toLowerCase();if("tif"==o||"tiff"==o){var a=new XMLHttpRequest;i._xhrs.push(a),i._imgs.push(n),a.open("GET",r),a.responseType="arraybuffer",a.onload=i._imgLoaded,a.send()}}},i._xhrs=[],i._imgs=[],i._imgLoaded=function(t){var e=i.decode(t.target.response)[0],n=i.toRGBA8(e),r=e.width,o=e.height,a=i._xhrs.indexOf(t.target),s=i._imgs[a];i._xhrs.splice(a,1),i._imgs.splice(a,1);var l=document.createElement("canvas");l.width=r,l.height=o;for(var c=l.getContext("2d"),u=c.createImageData(r,o),d=0;d<n.length;d++)u.data[d]=n[d];c.putImageData(u,0,0);var p=["style","class","id"];for(d=0;d<p.length;d++)l.setAttribute(p[d],s.getAttribute(p[d]));s.parentNode.replaceChild(l,s)},i._binBE={nextZero:function(t,e){for(;0!=t[e];)e++;return e},readUshort:function(t,e){return t[e]<<8|t[e+1]},readUint:function(t,e){var n=i._binBE.ui8;return n[0]=t[e+3],n[1]=t[e+2],n[2]=t[e+1],n[3]=t[e],i._binBE.ui32[0]},readASCII:function(t,e,n){for(var i="",r=0;r<n;r++)i+=String.fromCharCode(t[e+r]);return i}},i._binBE.ui8=new Uint8Array(4),i._binBE.ui32=new Uint32Array(i._binBE.ui8.buffer),i._binLE={nextZero:i._binBE.nextZero,readUshort:function(t,e){return t[e+1]<<8|t[e]},readUint:function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},readASCII:i._binBE.readASCII},i._copyTile=function(t,e,n,i,r,o,a,s){for(var l=0;l<n;l++)for(var c=0;c<e;c++){var u=a+c,d=s+l;u<r&&d<o&&(i[d*r+u]=t[l*e+c])}},"object"==e(t)&&(t.exports=i)}).call(this,n(168)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var i={};(0,n(44).assign)(i,n(170),n(173),n(128)),t.exports=i},function(t,e,n){"use strict";var i=n(171),r=n(44),o=n(126),a=n(93),s=n(127),l=Object.prototype.toString,c=0,u=-1,d=0,p=8;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==c)throw new Error(a[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var f;if(f="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==c)throw new Error(a[n]);this._dict_set=!0}}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,a))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=h,e.deflate=f,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,f(t,e)}},function(t,e,n){"use strict";var i,r=n(44),o=n(172),a=n(124),s=n(125),l=n(93),c=0,u=1,d=3,p=4,h=5,f=0,g=1,m=-2,v=-3,y=-5,_=-1,b=1,w=2,S=3,E=4,x=0,k=2,T=8,C=9,P=15,O=8,I=286,A=30,M=19,L=2*I+1,D=15,R=3,N=258,j=N+R+1,F=32,B=42,U=69,z=73,H=91,q=103,W=113,V=666,G=1,Y=2,X=3,Q=4,K=3;function Z(t,e){return t.msg=l[e],e}function $(t){return(t<<1)-(t>4?9:0)}function J(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-j?t.strstart-(t.w_size-j):0,c=t.window,u=t.w_mask,d=t.prev,p=t.strstart+N,h=c[o+a-1],f=c[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===f&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(i=N-(p-o),o=p-N,i>a){if(t.match_start=e,a=i,i>=s)break;h=c[o+a-1],f=c[o+a]}}}while((e=d[e&u])>l&&0!=--r);return a<=t.lookahead?a:t.lookahead}function ot(t){var e,n,i,o,l,c,u,d,p,h,f=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-j)){r.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=f?i-f:0}while(--n);e=n=f;do{i=t.prev[--e],t.prev[e]=i>=f?i-f:0}while(--n);o+=f}if(0===t.strm.avail_in)break;if(c=t.strm,u=t.window,d=t.strstart+t.lookahead,p=o,h=void 0,(h=c.avail_in)>p&&(h=p),n=0===h?0:(c.avail_in-=h,r.arraySet(u,c.input,c.next_in,h,d),1===c.state.wrap?c.adler=a(c.adler,u,h,d):2===c.state.wrap&&(c.adler=s(c.adler,u,h,d)),c.next_in+=h,c.total_in+=h,h),t.lookahead+=n,t.lookahead+t.insert>=R)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+R-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<R)););}while(t.lookahead<j&&0!==t.strm.avail_in)}function at(t,e){for(var n,i;;){if(t.lookahead<j){if(ot(t),t.lookahead<j&&e===c)return G;if(0===t.lookahead)break}if(n=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-j&&(t.match_length=rt(t,n)),t.match_length>=R)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-R),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=R){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=t.strstart<R-1?t.strstart:R-1,e===p?(et(t,!0),0===t.strm.avail_out?X:Q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}function st(t,e){for(var n,i,r;;){if(t.lookahead<j){if(ot(t),t.lookahead<j&&e===c)return G;if(0===t.lookahead)break}if(n=0,t.lookahead>=R&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=R-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-j&&(t.match_length=rt(t,n),t.match_length<=5&&(t.strategy===b||t.match_length===R&&t.strstart-t.match_start>4096)&&(t.match_length=R-1)),t.prev_length>=R&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-R,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-R),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+R-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=R-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return G}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return G}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<R-1?t.strstart:R-1,e===p?(et(t,!0),0===t.strm.avail_out?X:Q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}function lt(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function ct(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=k,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?B:W,t.adler=2===e.wrap?0:1,e.last_flush=c,o._tr_init(e),f):Z(t,m)}function ut(t){var e,n=ct(t);return n===f&&((e=t.state).window_size=2*e.w_size,J(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=R-1,e.match_available=0,e.ins_h=0),n}function dt(t,e,n,i,o,a){if(!t)return m;var s=1;if(e===_&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>C||n!==T||i<8||i>15||e<0||e>9||a<0||a>E)return Z(t,m);8===i&&(i=9);var l=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*L),this.dyn_dtree=new r.Buf16(2*(2*A+1)),this.bl_tree=new r.Buf16(2*(2*M+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(D+1),this.heap=new r.Buf16(2*I+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*I+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+R-1)/R),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,ut(t)}i=[new lt(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),0===t.lookahead&&e===c)return G;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return G;if(t.strstart-t.block_start>=t.w_size-j&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?X:Q):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),G)}),new lt(4,4,8,4,at),new lt(4,5,16,8,at),new lt(4,6,32,32,at),new lt(4,4,16,16,st),new lt(8,16,32,32,st),new lt(8,16,128,128,st),new lt(8,32,128,256,st),new lt(32,128,258,1024,st),new lt(32,258,258,4096,st)],e.deflateInit=function(t,e){return dt(t,e,T,P,O,x)},e.deflateInit2=dt,e.deflateReset=ut,e.deflateResetKeep=ct,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?m:(t.state.gzhead=e,f):m},e.deflate=function(t,e){var n,r,a,l;if(!t||!t.state||e>h||e<0)return t?Z(t,m):m;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===V&&e!==p)return Z(t,0===t.avail_out?y:m);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===B)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=U):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=w||r.level<2?4:0),nt(r,K),r.status=W);else{var v=T+(r.w_bits-8<<4)<<8;v|=(r.strategy>=w||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(v|=F),v+=31-v%31,r.status=W,it(r,v),0!==r.strstart&&(it(r,t.adler>>>16),it(r,65535&t.adler)),t.adler=1}if(r.status===U)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=z)}else r.status=z;if(r.status===z)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),tt(t),a=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>a&&(t.adler=s(t.adler,r.pending_buf,r.pending-a,a)),0===l&&(r.status=q)}else r.status=q;if(r.status===q&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=W)):r.status=W),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,f}else if(0===t.avail_in&&$(e)<=$(n)&&e!==p)return Z(t,y);if(r.status===V&&0!==t.avail_in)return Z(t,y);if(0!==t.avail_in||0!==r.lookahead||e!==c&&r.status!==V){var _=r.strategy===w?function(t,e){for(var n;;){if(0===t.lookahead&&(ot(t),0===t.lookahead)){if(e===c)return G;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?X:Q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}(r,e):r.strategy===S?function(t,e){for(var n,i,r,a,s=t.window;;){if(t.lookahead<=N){if(ot(t),t.lookahead<=N&&e===c)return G;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=R&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=t.strstart+N;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);t.match_length=N-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=R?(n=o._tr_tally(t,1,t.match_length-R),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return G}return t.insert=0,e===p?(et(t,!0),0===t.strm.avail_out?X:Q):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?G:Y}(r,e):i[r.level].func(r,e);if(_!==X&&_!==Q||(r.status=V),_===G||_===X)return 0===t.avail_out&&(r.last_flush=-1),f;if(_===Y&&(e===u?o._tr_align(r):e!==h&&(o._tr_stored_block(r,0,0,!1),e===d&&(J(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,f}return e!==p?f:r.wrap<=0?g:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(it(r,t.adler>>>16),it(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?f:g)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==B&&e!==U&&e!==z&&e!==H&&e!==q&&e!==W&&e!==V?Z(t,m):(t.state=null,e===W?Z(t,v):f):m},e.deflateSetDictionary=function(t,e){var n,i,o,s,l,c,u,d,p=e.length;if(!t||!t.state)return m;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==B||n.lookahead)return m;for(1===s&&(t.adler=a(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(J(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,e,p-n.w_size,n.w_size,0),e=d,p=n.w_size),l=t.avail_in,c=t.next_in,u=t.input,t.avail_in=p,t.next_in=0,t.input=e,ot(n);n.lookahead>=R;){i=n.strstart,o=n.lookahead-(R-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+R-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=R-1,ot(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=R-1,n.match_available=0,t.next_in=c,t.input=u,t.avail_in=l,n.wrap=s,f},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(44),r=4,o=0,a=1,s=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var c=0,u=1,d=2,p=29,h=256,f=h+1+p,g=30,m=19,v=2*f+1,y=15,_=16,b=7,w=256,S=16,E=17,x=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(f+2));l(O);var I=new Array(2*g);l(I);var A=new Array(512);l(A);var M=new Array(256);l(M);var L=new Array(p);l(L);var D,R,N,j=new Array(g);function F(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function B(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function U(t){return t<256?A[t]:A[256+(t>>>7)]}function z(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function H(t,e,n){t.bi_valid>_-n?(t.bi_buf|=e<<t.bi_valid&65535,z(t,t.bi_buf),t.bi_buf=e>>_-t.bi_valid,t.bi_valid+=n-_):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function q(t,e,n){H(t,n[2*e],n[2*e+1])}function W(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function V(t,e,n){var i,r,o=new Array(y+1),a=0;for(i=1;i<=y;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=W(o[s]++,s))}}function G(t){var e;for(e=0;e<f;e++)t.dyn_ltree[2*e]=0;for(e=0;e<g;e++)t.dyn_dtree[2*e]=0;for(e=0;e<m;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function Y(t){t.bi_valid>8?z(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function X(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function Q(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&X(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!X(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function K(t,e,n){var i,r,o,a,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===i?q(t,r,e):(q(t,(o=M[r])+h+1,e),0!==(a=k[o])&&H(t,r-=L[o],a),q(t,o=U(--i),n),0!==(a=T[o])&&H(t,i-=j[o],a))}while(s<t.last_lit);q(t,w,e)}function Z(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=v,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)Q(t,o,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Q(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,Q(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,s,l=e.dyn_tree,c=e.max_code,u=e.stat_desc.static_tree,d=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,h=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(o=0;o<=y;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<v;n++)(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)>f&&(o=f,g++),l[2*i+1]=o,i>c||(t.bl_count[o]++,a=0,i>=h&&(a=p[i-h]),s=l[2*i],t.opt_len+=s*(o+a),d&&(t.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>c||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(t,e),V(o,c,t.bl_count)}function $(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<l&&r===a||(s<c?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*S]++):s<=10?t.bl_tree[2*E]++:t.bl_tree[2*x]++,s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4))}function J(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<l&&r===a)){if(s<c)do{q(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(q(t,r,t.bl_tree),s--),q(t,S,t.bl_tree),H(t,s-3,2)):s<=10?(q(t,E,t.bl_tree),H(t,s-3,3)):(q(t,x,t.bl_tree),H(t,s-11,7));s=0,o=r,0===a?(l=138,c=3):r===a?(l=6,c=3):(l=7,c=4)}}l(j);var tt=!1;function et(t,e,n,r){H(t,(c<<1)+(r?1:0),3),function(t,e,n,r){Y(t),r&&(z(t,n),z(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(function(){var t,e,n,i,r,o=new Array(y+1);for(n=0,i=0;i<p-1;i++)for(L[i]=n,t=0;t<1<<k[i];t++)M[n++]=i;for(M[n-1]=i,r=0,i=0;i<16;i++)for(j[i]=r,t=0;t<1<<T[i];t++)A[r++]=i;for(r>>=7;i<g;i++)for(j[i]=r<<7,t=0;t<1<<T[i]-7;t++)A[256+r++]=i;for(e=0;e<=y;e++)o[e]=0;for(t=0;t<=143;)O[2*t+1]=8,t++,o[8]++;for(;t<=255;)O[2*t+1]=9,t++,o[9]++;for(;t<=279;)O[2*t+1]=7,t++,o[7]++;for(;t<=287;)O[2*t+1]=8,t++,o[8]++;for(V(O,f+1,o),t=0;t<g;t++)I[2*t+1]=5,I[2*t]=W(t,5);D=new F(O,k,h+1,f,y),R=new F(I,T,0,g,y),N=new F(new Array(0),C,0,m,b)}(),tt=!0),t.l_desc=new B(t.dyn_ltree,D),t.d_desc=new B(t.dyn_dtree,R),t.bl_desc=new B(t.bl_tree,N),t.bi_buf=0,t.bi_valid=0,G(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,i){var l,c,p=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<h;e++)if(0!==t.dyn_ltree[2*e])return a;return o}(t)),Z(t,t.l_desc),Z(t,t.d_desc),p=function(t){var e;for($(t,t.dyn_ltree,t.l_desc.max_code),$(t,t.dyn_dtree,t.d_desc.max_code),Z(t,t.bl_desc),e=m-1;e>=3&&0===t.bl_tree[2*P[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(c=t.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==e?et(t,e,n,i):t.strategy===r||c===l?(H(t,(u<<1)+(i?1:0),3),K(t,O,I)):(H(t,(d<<1)+(i?1:0),3),function(t,e,n,i){var r;for(H(t,e-257,5),H(t,n-1,5),H(t,i-4,4),r=0;r<i;r++)H(t,t.bl_tree[2*P[r]+1],3);J(t,t.dyn_ltree,e-1),J(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,p+1),K(t,t.dyn_ltree,t.dyn_dtree)),G(t),i&&Y(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(M[n]+h+1)]++,t.dyn_dtree[2*U(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){H(t,u<<1,3),q(t,w,O),function(t){16===t.bi_valid?(z(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var i=n(174),r=n(44),o=n(126),a=n(128),s=n(93),l=n(127),c=n(177),u=Object.prototype.toString;function d(t){if(!(this instanceof d))return new d(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function p(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(t,e){var n,s,l,c,d,p,h=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?h.input=o.binstring2buf(t):"[object ArrayBuffer]"===u.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new r.Buf8(f),h.next_out=0,h.avail_out=f),(n=i.inflate(h,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&g&&(p="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===u.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===m&&(n=a.Z_OK,m=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&n!==a.Z_STREAM_END&&(0!==h.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(h.output,h.next_out),c=h.next_out-l,d=o.buf2string(h.output,l),h.next_out=c,h.avail_out=f-c,c&&r.arraySet(h.output,h.output,l,c,0),this.onData(d)):this.onData(r.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),h.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=d,e.inflate=p,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.ungzip=p},function(t,e,n){"use strict";var i=n(44),r=n(124),o=n(125),a=n(175),s=n(176),l=0,c=1,u=2,d=4,p=5,h=6,f=0,g=1,m=2,v=-2,y=-3,_=-4,b=-5,w=8,S=1,E=2,x=3,k=4,T=5,C=6,P=7,O=8,I=9,A=10,M=11,L=12,D=13,R=14,N=15,j=16,F=17,B=18,U=19,z=20,H=21,q=22,W=23,V=24,G=25,Y=26,X=27,Q=28,K=29,Z=30,$=31,J=32,tt=852,et=592,nt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=S,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,f):v}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,rt(t)):v}function at(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?v:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ot(t))):v}function st(t,e){var n,r;return t?(r=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=r,r.window=null,(n=at(t,e))!==f&&(t.state=null),n):v}var lt,ct,ut=!0;function dt(t){if(ut){var e;for(lt=new i.Buf32(512),ct=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(c,t.lens,0,288,lt,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(u,t.lens,0,32,ct,0,t.work,{bits:5}),ut=!1}t.lencode=lt,t.lenbits=9,t.distcode=ct,t.distbits=5}function pt(t,e,n,r){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>r&&(o=r),i.arraySet(a.window,e,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=ot,e.inflateReset2=at,e.inflateResetKeep=rt,e.inflateInit=function(t){return st(t,nt)},e.inflateInit2=st,e.inflate=function(t,e){var n,tt,et,nt,rt,ot,at,st,lt,ct,ut,ht,ft,gt,mt,vt,yt,_t,bt,wt,St,Et,xt,kt,Tt=0,Ct=new i.Buf8(4),Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return v;(n=t.state).mode===L&&(n.mode=D),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,lt=n.bits,ct=ot,ut=at,Et=f;t:for(;;)switch(n.mode){case S:if(0===n.wrap){n.mode=D;break}for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(2&n.wrap&&35615===st){n.check=0,Ct[0]=255&st,Ct[1]=st>>>8&255,n.check=o(n.check,Ct,2,0),st=0,lt=0,n.mode=E;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",n.mode=Z;break}if((15&st)!==w){t.msg="unknown compression method",n.mode=Z;break}if(lt-=4,St=8+(15&(st>>>=4)),0===n.wbits)n.wbits=St;else if(St>n.wbits){t.msg="invalid window size",n.mode=Z;break}n.dmax=1<<St,t.adler=n.check=1,n.mode=512&st?A:L,st=0,lt=0;break;case E:for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(n.flags=st,(255&n.flags)!==w){t.msg="unknown compression method",n.mode=Z;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Z;break}n.head&&(n.head.text=st>>8&1),512&n.flags&&(Ct[0]=255&st,Ct[1]=st>>>8&255,n.check=o(n.check,Ct,2,0)),st=0,lt=0,n.mode=x;case x:for(;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.time=st),512&n.flags&&(Ct[0]=255&st,Ct[1]=st>>>8&255,Ct[2]=st>>>16&255,Ct[3]=st>>>24&255,n.check=o(n.check,Ct,4,0)),st=0,lt=0,n.mode=k;case k:for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.xflags=255&st,n.head.os=st>>8),512&n.flags&&(Ct[0]=255&st,Ct[1]=st>>>8&255,n.check=o(n.check,Ct,2,0)),st=0,lt=0,n.mode=T;case T:if(1024&n.flags){for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.length=st,n.head&&(n.head.extra_len=st),512&n.flags&&(Ct[0]=255&st,Ct[1]=st>>>8&255,n.check=o(n.check,Ct,2,0)),st=0,lt=0}else n.head&&(n.head.extra=null);n.mode=C;case C:if(1024&n.flags&&((ht=n.length)>ot&&(ht=ot),ht&&(n.head&&(St=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,tt,nt,ht,St)),512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,n.length-=ht),n.length))break t;n.length=0,n.mode=P;case P:if(2048&n.flags){if(0===ot)break t;ht=0;do{St=tt[nt+ht++],n.head&&St&&n.length<65536&&(n.head.name+=String.fromCharCode(St))}while(St&&ht<ot);if(512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,St)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=O;case O:if(4096&n.flags){if(0===ot)break t;ht=0;do{St=tt[nt+ht++],n.head&&St&&n.length<65536&&(n.head.comment+=String.fromCharCode(St))}while(St&&ht<ot);if(512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,St)break t}else n.head&&(n.head.comment=null);n.mode=I;case I:if(512&n.flags){for(;lt<16;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(st!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Z;break}st=0,lt=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=L;break;case A:for(;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}t.adler=n.check=it(st),st=0,lt=0,n.mode=M;case M:if(0===n.havedict)return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=lt,m;t.adler=n.check=1,n.mode=L;case L:if(e===p||e===h)break t;case D:if(n.last){st>>>=7&lt,lt-=7&lt,n.mode=X;break}for(;lt<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}switch(n.last=1&st,lt-=1,3&(st>>>=1)){case 0:n.mode=R;break;case 1:if(dt(n),n.mode=z,e===h){st>>>=2,lt-=2;break t}break;case 2:n.mode=F;break;case 3:t.msg="invalid block type",n.mode=Z}st>>>=2,lt-=2;break;case R:for(st>>>=7&lt,lt-=7&lt;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Z;break}if(n.length=65535&st,st=0,lt=0,n.mode=N,e===h)break t;case N:n.mode=j;case j:if(ht=n.length){if(ht>ot&&(ht=ot),ht>at&&(ht=at),0===ht)break t;i.arraySet(et,tt,nt,ht,rt),ot-=ht,nt+=ht,at-=ht,rt+=ht,n.length-=ht;break}n.mode=L;break;case F:for(;lt<14;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(n.nlen=257+(31&st),st>>>=5,lt-=5,n.ndist=1+(31&st),st>>>=5,lt-=5,n.ncode=4+(15&st),st>>>=4,lt-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Z;break}n.have=0,n.mode=B;case B:for(;n.have<n.ncode;){for(;lt<3;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.lens[Pt[n.have++]]=7&st,st>>>=3,lt-=3}for(;n.have<19;)n.lens[Pt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,xt={bits:n.lenbits},Et=s(l,n.lens,0,19,n.lencode,0,n.work,xt),n.lenbits=xt.bits,Et){t.msg="invalid code lengths set",n.mode=Z;break}n.have=0,n.mode=U;case U:for(;n.have<n.nlen+n.ndist;){for(;vt=(Tt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,yt=65535&Tt,!((mt=Tt>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(yt<16)st>>>=mt,lt-=mt,n.lens[n.have++]=yt;else{if(16===yt){for(kt=mt+2;lt<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(st>>>=mt,lt-=mt,0===n.have){t.msg="invalid bit length repeat",n.mode=Z;break}St=n.lens[n.have-1],ht=3+(3&st),st>>>=2,lt-=2}else if(17===yt){for(kt=mt+3;lt<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}lt-=mt,St=0,ht=3+(7&(st>>>=mt)),st>>>=3,lt-=3}else{for(kt=mt+7;lt<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}lt-=mt,St=0,ht=11+(127&(st>>>=mt)),st>>>=7,lt-=7}if(n.have+ht>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Z;break}for(;ht--;)n.lens[n.have++]=St}}if(n.mode===Z)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Z;break}if(n.lenbits=9,xt={bits:n.lenbits},Et=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,xt),n.lenbits=xt.bits,Et){t.msg="invalid literal/lengths set",n.mode=Z;break}if(n.distbits=6,n.distcode=n.distdyn,xt={bits:n.distbits},Et=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,xt),n.distbits=xt.bits,Et){t.msg="invalid distances set",n.mode=Z;break}if(n.mode=z,e===h)break t;case z:n.mode=H;case H:if(ot>=6&&at>=258){t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=lt,a(t,ut),rt=t.next_out,et=t.output,at=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,st=n.hold,lt=n.bits,n.mode===L&&(n.back=-1);break}for(n.back=0;vt=(Tt=n.lencode[st&(1<<n.lenbits)-1])>>>16&255,yt=65535&Tt,!((mt=Tt>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(vt&&0==(240&vt)){for(_t=mt,bt=vt,wt=yt;vt=(Tt=n.lencode[wt+((st&(1<<_t+bt)-1)>>_t)])>>>16&255,yt=65535&Tt,!(_t+(mt=Tt>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}st>>>=_t,lt-=_t,n.back+=_t}if(st>>>=mt,lt-=mt,n.back+=mt,n.length=yt,0===vt){n.mode=Y;break}if(32&vt){n.back=-1,n.mode=L;break}if(64&vt){t.msg="invalid literal/length code",n.mode=Z;break}n.extra=15&vt,n.mode=q;case q:if(n.extra){for(kt=n.extra;lt<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.length+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=W;case W:for(;vt=(Tt=n.distcode[st&(1<<n.distbits)-1])>>>16&255,yt=65535&Tt,!((mt=Tt>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(0==(240&vt)){for(_t=mt,bt=vt,wt=yt;vt=(Tt=n.distcode[wt+((st&(1<<_t+bt)-1)>>_t)])>>>16&255,yt=65535&Tt,!(_t+(mt=Tt>>>24)<=lt);){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}st>>>=_t,lt-=_t,n.back+=_t}if(st>>>=mt,lt-=mt,n.back+=mt,64&vt){t.msg="invalid distance code",n.mode=Z;break}n.offset=yt,n.extra=15&vt,n.mode=V;case V:if(n.extra){for(kt=n.extra;lt<kt;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}n.offset+=st&(1<<n.extra)-1,st>>>=n.extra,lt-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Z;break}n.mode=G;case G:if(0===at)break t;if(ht=ut-at,n.offset>ht){if((ht=n.offset-ht)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Z;break}ht>n.wnext?(ht-=n.wnext,ft=n.wsize-ht):ft=n.wnext-ht,ht>n.length&&(ht=n.length),gt=n.window}else gt=et,ft=rt-n.offset,ht=n.length;ht>at&&(ht=at),at-=ht,n.length-=ht;do{et[rt++]=gt[ft++]}while(--ht);0===n.length&&(n.mode=H);break;case Y:if(0===at)break t;et[rt++]=n.length,at--,n.mode=H;break;case X:if(n.wrap){for(;lt<32;){if(0===ot)break t;ot--,st|=tt[nt++]<<lt,lt+=8}if(ut-=at,t.total_out+=ut,n.total+=ut,ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,rt-ut):r(n.check,et,ut,rt-ut)),ut=at,(n.flags?st:it(st))!==n.check){t.msg="incorrect data check",n.mode=Z;break}st=0,lt=0}n.mode=Q;case Q:if(n.wrap&&n.flags){for(;lt<32;){if(0===ot)break t;ot--,st+=tt[nt++]<<lt,lt+=8}if(st!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Z;break}st=0,lt=0}n.mode=K;case K:Et=g;break t;case Z:Et=y;break t;case $:return _;case J:default:return v}return t.next_out=rt,t.avail_out=at,t.next_in=nt,t.avail_in=ot,n.hold=st,n.bits=lt,(n.wsize||ut!==t.avail_out&&n.mode<Z&&(n.mode<X||e!==d))&&pt(t,t.output,t.next_out,ut-t.avail_out)?(n.mode=$,_):(ct-=t.avail_in,ut-=t.avail_out,t.total_in+=ct,t.total_out+=ut,n.total+=ut,n.wrap&&ut&&(t.adler=n.check=n.flags?o(n.check,et,ut,t.next_out-ut):r(n.check,et,ut,t.next_out-ut)),t.data_type=n.bits+(n.last?64:0)+(n.mode===L?128:0)+(n.mode===z||n.mode===N?256:0),(0===ct&&0===ut||e===d)&&Et===f&&(Et=b),Et)},e.inflateEnd=function(t){if(!t||!t.state)return v;var e=t.state;return e.window&&(e.window=null),t.state=null,f},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?v:(n.head=e,e.done=!1,f):v},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==M?v:n.mode===M&&r(1,e,i,0)!==n.check?y:pt(t,e,i,i)?(n.mode=$,_):(n.havedict=1,f):v},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v,y,_,b,w,S,E,x,k,T;n=t.state,i=t.next_in,k=t.input,r=i+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,d=n.wnext,p=n.window,h=n.hold,f=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{f<15&&(h+=k[i++]<<f,f+=8,h+=k[i++]<<f,f+=8),_=g[h&v];e:for(;;){if(h>>>=b=_>>>24,f-=b,0===(b=_>>>16&255))T[o++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=g[(65535&_)+(h&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&_,(b&=15)&&(f<b&&(h+=k[i++]<<f,f+=8),w+=h&(1<<b)-1,h>>>=b,f-=b),f<15&&(h+=k[i++]<<f,f+=8,h+=k[i++]<<f,f+=8),_=m[h&y];n:for(;;){if(h>>>=b=_>>>24,f-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=m[(65535&_)+(h&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(S=65535&_,f<(b&=15)&&(h+=k[i++]<<f,(f+=8)<b&&(h+=k[i++]<<f,f+=8)),(S+=h&(1<<b)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(h>>>=b,f-=b,S>(b=o-a)){if((b=S-b)>u&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,x=p,0===d){if(E+=c-b,b<w){w-=b;do{T[o++]=p[E++]}while(--b);E=o-S,x=T}}else if(d<b){if(E+=c+d-b,(b-=d)<w){w-=b;do{T[o++]=p[E++]}while(--b);if(E=0,d<w){w-=b=d;do{T[o++]=p[E++]}while(--b);E=o-S,x=T}}}else if(E+=d-b,b<w){w-=b;do{T[o++]=p[E++]}while(--b);E=o-S,x=T}for(;w>2;)T[o++]=x[E++],T[o++]=x[E++],T[o++]=x[E++],w-=3;w&&(T[o++]=x[E++],w>1&&(T[o++]=x[E++]))}else{E=o-S;do{T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],w-=3}while(w>2);w&&(T[o++]=T[E++],w>1&&(T[o++]=T[E++]))}break}}break}}while(i<r&&o<s);i-=w=f>>3,h&=(1<<(f-=w<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<s?s-o+257:257-(o-s),n.hold=h,n.bits=f}},function(t,e,n){"use strict";var i=n(44),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,c,u,d,p){var h,f,g,m,v,y,_,b,w,S=p.bits,E=0,x=0,k=0,T=0,C=0,P=0,O=0,I=0,A=0,M=0,L=null,D=0,R=new i.Buf16(16),N=new i.Buf16(16),j=null,F=0;for(E=0;E<=15;E++)R[E]=0;for(x=0;x<l;x++)R[e[n+x]]++;for(C=S,T=15;T>=1&&0===R[T];T--);if(C>T&&(C=T),0===T)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(k=1;k<T&&0===R[k];k++);for(C<k&&(C=k),I=1,E=1;E<=15;E++)if(I<<=1,(I-=R[E])<0)return-1;if(I>0&&(0===t||1!==T))return-1;for(N[1]=0,E=1;E<15;E++)N[E+1]=N[E]+R[E];for(x=0;x<l;x++)0!==e[n+x]&&(d[N[e[n+x]]++]=x);if(0===t?(L=j=d,y=19):1===t?(L=r,D-=257,j=o,F-=257,y=256):(L=a,j=s,y=-1),M=0,x=0,E=k,v=u,P=C,O=0,g=-1,m=(A=1<<C)-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){_=E-O,d[x]<y?(b=0,w=d[x]):d[x]>y?(b=j[F+d[x]],w=L[D+d[x]]):(b=96,w=0),h=1<<E-O,k=f=1<<P;do{c[v+(M>>O)+(f-=h)]=_<<24|b<<16|w|0}while(0!==f);for(h=1<<E-1;M&h;)h>>=1;if(0!==h?(M&=h-1,M+=h):M=0,x++,0==--R[E]){if(E===T)break;E=e[n+d[x]]}if(E>C&&(M&m)!==g){for(0===O&&(O=C),v+=k,I=1<<(P=E-O);P+O<T&&!((I-=R[P+O])<=0);)P++,I<<=1;if(A+=1<<P,1===t&&A>852||2===t&&A>592)return 1;c[g=M&m]=C<<24|P<<16|v-u|0}}return 0!==M&&(c[v+M]=E-O<<24|64<<16|0),p.bits=C,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.set=function(t,e,n){void 0===n&&(n=60);var i=0;0!=n&&(i=(new Date).getTime()+60*n*1e3);var r={value:JSON.stringify(e),timestamp:i};try{localStorage.setItem(t,JSON.stringify(r))}catch(t){return e}return e},t.get=function(t,e){void 0===e&&(e=null);var n=null;try{n=JSON.parse(localStorage.getItem(t))}catch(t){}return null==n?e:0==(0==n.timestamp||(new Date).getTime()<n.timestamp)?(localStorage.removeItem(t),e):JSON.parse(n.value)},t.touch=function(t,e){void 0===e&&(e=60);var n=60*e*1e3,i=null;try{i=JSON.parse(localStorage.getItem(t))}catch(t){return i}return 1==(new Date).getTime()<i.timestamp&&(i.timestamp=(new Date).getTime()+n,localStorage.setItem(t,JSON.stringify(i))),i},t.check=function(t){var e=null;try{e=JSON.parse(localStorage.getItem(t))}catch(t){}if(null==e)return!1;var n=(new Date).getTime()<e.timestamp;return 0==n&&localStorage.removeItem(t),n},t.remove=function(t){try{localStorage.removeItem(t)}catch(t){}},t.cleanSign=function(){try{localStorage.removeItem("sign.task"),localStorage.removeItem("sign.mode"),localStorage.removeItem("sign.files"),localStorage.removeItem("sign.receivers"),localStorage.removeItem("sign.signature"),localStorage.removeItem("sign.elements")}catch(t){}},t}();e.Storage=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="data:image/svg+xml;base64,",r=function(){function t(){}return t.toBase64=function(t){"string"!=typeof t&&(t=(new XMLSerializer).serializeToString(t));return i+btoa(t)},t.toBlob=function(t){for(var e=t.length,n=new Uint8Array(e);e--;)n[e]=t.charCodeAt(e);return new Blob([n])},t.fromBase64=function(t){return atob(t.replace(i,""))},t.trim=function(t){var e=!1;"string"==typeof t&&(t=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement,e=!0);var n=document.body.appendChild(t),i=t.getBBox();(t.setAttribute("viewBox",i.x-10+" "+(i.y-10)+" "+(i.width+20)+" "+(i.height+20)),t.setAttribute("width",i.width+20+"px"),t.setAttribute("height",i.height+20+"px"),document.body.removeChild(n),1==e)&&(t=(new XMLSerializer).serializeToString(t));return t},t}();e.SvgHelper=r},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n(181),o=function(){function e(t){Object.assign(this,t),this.init()}return e.prototype.init=function(){this.listenEventUserAuth(),this.initLoginElements(),this.setUserElement()},e.prototype.initLoginElements=function(){if(this.elementAuth&&null===i.UserModel.get()){t(".loginAuth").on("click",function(){t(".modal:visible").removeAttr("tabindex"),r.SignatureDialogs.auth("signature").show()}),this.elementAuth.on("click",function(){!1===i.UserModel.isUser()&&(t(".modal:visible").removeAttr("tabindex"),r.SignatureDialogs.auth("signature").show())})}},e.prototype.listenEventUserAuth=function(){var t=this;window.addEventListener("userAuth",function(e){t.setUserElement()})},e.prototype.setUserElement=function(){null!=i.UserModel.get()&&(t("#loginText").hide(),t(".loginAuth").remove(),this.elementAvatar&&this.elementAvatar.attr("src",i.UserModel.get().avatar))},e}();e.AuthElement=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),r=n(78),o=n(63),a=n(91),s=n(189),l=n(60),c=n(13),u=function(){function e(){}return e.auth=function(e){return t(".modal:visible").removeAttr("tabindex"),s.DialogCollection.auth(e)},e.updateSignaturesSubscription=function(e,n){return void 0===n&&(n=!0),t(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"updateSignaturesSubscription",canBeClosedByUser:n}).setContentBuilder(function(){return new a.SubscriptionContext({requestedAction:"selectSignatures",neededSignatures:e})})},e.buySignaturesPackages=function(e,n){return void 0===n&&(n=!0),t(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"buySignaturesPackages",canBeClosedByUser:n}).setContentBuilder(function(){return new r.PackagesContext({requestedAction:"selectPackageSignatures",neededNumberOfPkgItems:e})})},e.becomePremium=function(e){return void 0===e&&(e="sign"),t(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"becomePremium"}).setContentBuilder(function(){return new o.PremiumContext({tool:e,triggerReason:l.REASON.ERROR_FEATURE,limits:null})})},e.buySmsPackage=function(e,n){return void 0===n&&(n=!0),t(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"smsPackage",canBeClosedByUser:n}).setContentBuilder(function(){return new r.PackagesContext({requestedAction:"selectPackageSms",neededNumberOfPkgItems:e})})},e.teamMemberNotEnoughFunds=function(e,n){return void 0===n&&(n=!0),t(".modal:visible").removeAttr("tabindex"),new i.default({dialogName:"notEnoughCredits",canBeClosedByUser:n}).setContentBuilder(function(){return new r.PackagesContext({requestedAction:"notEnoughCredits",neededNumberOfPkgItems:null,creditType:e})})},e.getSuitableDialogToObtainSignatures=function(t,e){var n,i,r=c.UserModel.isPremium(),o=r?null===(n=c.UserModel.get())||void 0===n?void 0:n.current_subscription:null,a=c.UserModel.get();r?i="member"==a.team_role?this.teamMemberNotEnoughFunds("signature").show():o.signatures>=e?this.buySignaturesPackages(t).show():this.updateSignaturesSubscription(t).show():i=this.becomePremium().show();return i},e}();e.SignatureDialogs=u}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(68),s=n(96),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SelectPackageCertsState",e.LAYOUT_TEMPLATE_NAME="packages",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initNextAction(),e.initCertsSelector(),e.clearLoadingScreen()},e._onSliderInputChanged=function(){void 0!==e.ctx.neededNumberOfPkgItems&&(e.certsSelect.getQuantity()>=e.numToBuy?e.actionNextBtn.disabled=!1:e.actionNextBtn.disabled=!0)},e._goNextState=function(){e.ctx.summaryParams={packageName:"certificates",packageQty:e.certsSelect.getQuantity()};var t=new s.SummaryState;e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),Object.defineProperty(e.prototype,"numToBuy",{get:function(){return void 0===this.ctx.neededNumberOfPkgItems?0:this.ctx.neededNumberOfPkgItems-this.ctx.user.certificates_left},enumerable:!0,configurable:!0}),e.prototype.initCertsSelector=function(){var t=this;if(this.certsSelect)this._onSliderInputChanged();else{var e=document.getElementById("SelectCerts");this.certsSelect=new a.default,this.certsSelect.onInput(this._onSliderInputChanged),void 0===this.ctx.neededNumberOfPkgItems?this.certsSelect.init(e,{}):this.certsSelect.init(e,{minQty:this.numToBuy,initialQty:function(e){return e>=t.numToBuy}})}},e.prototype.initNextAction=function(){this.actionNextBtn.addEventListener("click",this._goNextState)},Object.defineProperty(e.prototype,"actionNextBtn",{get:function(){return this.domRoot.querySelector("[next-from-certs]")},enumerable:!0,configurable:!0}),e.prototype.cleanUpState=function(){this.domRoot.querySelector("[next-from-certs]").removeEventListener("click",this._goNextState)},e}(o.StateBase);e.SelectPackageCertsState=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="PaymentCompletedState",e.LAYOUT_TEMPLATE_NAME="packages",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),e.prototype.initNextAction=function(){var t=this;this.domRoot.querySelector("[next-from-payment-completed]").addEventListener("click",function(){t._goNextState()})},e}(o.StateBase);e.PaymentCompletedState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(96),s=n(68),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SelectPackageSignaturesState",e.LAYOUT_TEMPLATE_NAME="packages",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initSignaturesSelector(),e.initNextAction(),e.clearLoadingScreen()},e._onSliderQtyChanged=function(){void 0!==e.ctx.neededNumberOfPkgItems&&e.updateCheckoutBtnAvailability()},e._goNextState=function(){e.cleanUpState(),e.ctx.summaryParams={packageName:"signatures_package",packageQty:e.signaturesSelect.getQuantity()};var t=new a.SummaryState;e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e.prototype.initSignaturesSelector=function(){var t=this;if(this.signaturesSelect)this._onSliderQtyChanged();else{var e=document.getElementById("SelectSignatures");this.signaturesSelect=new s.default,this.signaturesSelect.onInput(this._onSliderQtyChanged),void 0===this.ctx.neededNumberOfPkgItems?this.signaturesSelect.init(e,{}):this.signaturesSelect.init(e,{initialQty:function(e){return e>=t.numToBuy},minQty:this.numToBuy})}},Object.defineProperty(e.prototype,"numToBuy",{get:function(){return void 0===this.ctx.neededNumberOfPkgItems?0:this.ctx.neededNumberOfPkgItems-this.ctx.user.signatures_left},enumerable:!0,configurable:!0}),e.prototype.updateCheckoutBtnAvailability=function(){var t=this.signaturesSelect.getQuantity();this.nextStateBtn.disabled=!(t>=this.numToBuy)},e.prototype.initNextAction=function(){this.domRoot;this.nextStateBtn.addEventListener("click",this._goNextState)},Object.defineProperty(e.prototype,"nextStateBtn",{get:function(){var t=this.domRoot.querySelector("[next-from-signatures]");if(!t)throw"Btn not found";return t},enumerable:!0,configurable:!0}),e.prototype.cleanUpState=function(){this.domRoot;this.nextStateBtn.removeEventListener("click",this._goNextState)},e}(o.StateBase);e.SelectPackageSignaturesState=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(68),s=n(96),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="SelectPackageSmsState",e.LAYOUT_TEMPLATE_NAME="packages",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.initSmsSelector(),e.initNextAction(),e.clearLoadingScreen()},e._onSliderQtyChanged=function(){void 0!==e.ctx.neededNumberOfPkgItems&&e.updateCheckoutBtnAvailability()},e._goNextState=function(){e.ctx.summaryParams={packageName:"sms",packageQty:e.smsSelect.getQuantity()},e.cleanUpState();var t=new s.SummaryState;e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e.prototype.initSmsSelector=function(){var t=this;if(this.smsSelect)this._onSliderQtyChanged();else{var e=document.getElementById("SelectSMS");this.smsSelect=new a.default,this.smsSelect.onInput(this._onSliderQtyChanged),void 0===this.ctx.neededNumberOfPkgItems?this.smsSelect.init(e,{}):this.smsSelect.init(e,{initialQty:function(e){return e>=t.numToBuy},minQty:this.numToBuy})}},Object.defineProperty(e.prototype,"numToBuy",{get:function(){return void 0===this.ctx.neededNumberOfPkgItems?0:this.ctx.neededNumberOfPkgItems-this.ctx.user.sms_left},enumerable:!0,configurable:!0}),e.prototype.updateCheckoutBtnAvailability=function(){var t=this.smsSelect.getQuantity();this.proceedToCheckoutBtn.disabled=!(t>=this.numToBuy)},e.prototype.initNextAction=function(){this.proceedToCheckoutBtn.addEventListener("click",this._goNextState)},Object.defineProperty(e.prototype,"proceedToCheckoutBtn",{get:function(){var t=this.domRoot.querySelector("[next-from-sms]");if(!t)throw"Button not found";return t},enumerable:!0,configurable:!0}),e.prototype.cleanUpState=function(){this.domRoot.querySelector("[next-from-sms]").removeEventListener("click",this._goNextState)},e}(o.StateBase);e.SelectPackageSmsState=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),l=n(13),c=n(187),u=n(188),d=n(48),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="NotEnoughCreditsState",e.LAYOUT_TEMPLATE_NAME="teams",e.INITIAL_SCREEN="default",e.onDomReady=function(){var t;e.changeScreen(e.INITIAL_SCREEN),e.api=new d.Api({taskId:null,tool:null,workerServer:null,token:null===(t=l.UserModel.get())||void 0===t?void 0:t.token}),e.actionSendEmailBtn.addEventListener("click",e._onSendEmailBtnClicked),e.clearLoadingScreen()},e._onSendEmailBtnClicked=function(){return o(e,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:this.actionSendEmailBtn.disabled=!0,e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.sendRequest(this.ctx.creditType)];case 2:return[4,e.sent().json()];case 3:if(!0!==e.sent().success)throw new Error("Error when sending email to team owner");return t=new c.EmailTeamAdminOk,this.ctx.changeState(t),t.render(this.domRoot),[3,5];case 4:return e.sent(),t=new u.EmailTeamAdminFailed,this.ctx.changeState(t),t.render(this.domRoot),[3,5];case 5:return[2]}})})},e}return r(e,t),Object.defineProperty(e.prototype,"actionSendEmailBtn",{get:function(){return this.domRoot.querySelector("[send-email-to-admin]")},enumerable:!0,configurable:!0}),e.prototype.sendRequest=function(t){var e=new Headers;e.append("Content-Type","application/json");var n={creditType:t},i=new Request("user/ask-admin-more-credits",{method:"POST",headers:e,mode:"cors",body:JSON.stringify(n)});return fetch(i)},e}(s.StateBase);e.NotEnoughCreditsState=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="EmailTeamAdminOk",e.LAYOUT_TEMPLATE_NAME="teams",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.addEventListener("click",e._onDoneButtonClick),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector(".dialog__action .btn");if(!t)throw"'Done' button not found";return t},enumerable:!0,configurable:!0}),e}(o.StateBase);e.EmailTeamAdminOk=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="EmailTeamAdminFailed",e.LAYOUT_TEMPLATE_NAME="teams",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.actionBtn.addEventListener("click",e._onDoneButtonClick),e.clearLoadingScreen()},e._onDoneButtonClick=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),Object.defineProperty(e.prototype,"actionBtn",{get:function(){var t=this.domStateRoot.querySelector(".dialog__action .btn");if(!t)throw"'Done' button not found";return t},enumerable:!0,configurable:!0}),e}(o.StateBase);e.EmailTeamAdminFailed=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(37),r=n(190),o=n(191),a=function(){function t(){}return t.auth=function(t){return new i.default({dialogName:"auth"}).setContentBuilder(function(){return new o.SingletonContext(r.AuthState,{tool:t})})},t}();e.DialogCollection=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="AuthState",e.LAYOUT_TEMPLATE_NAME="singleton/auth",e.onDomReady=function(){e.initAbstractAuth(),e.ctx.tool&&(e.extraLoginParams={tool:e.ctx.tool}),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen()},e._onLoginSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e._onRegisterSuccess=function(){e.executeAfterLoginOrRegisterSuccess()},e.executeAfterLoginOrRegisterSuccess=function(){e.dispatchEvent(new o.IloveEvent("end"))},e}return r(e,t),e}(n(65).AbstractAuthState);e.AuthState=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){function e(e,n){var i=t.call(this,n)||this;i.contentName="SingletonContext",i.tool=n.tool,i.changeState(new e);i.getState();return i}return r(e,t),e.prototype.getInitialState=function(){return this.getState()},e}(n(42).ContextBase);e.SingletonContext=o},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(131),a=n(32),s=n(13),l=n(25),c=n(14),u=n(26),d=n(47),p=function(t){function e(e){var n=t.call(this,e)||this;return n.target=n.target||"api",n.chunkSize=!1,n.RETRY_NUM=0,n.retryCount=0,n}return r(e,t),e.prototype.getUrl=function(){return"api"==this.target?t.prototype.getUrl.call(this):this.getServiceUrl()},e.prototype.getServiceUrl=function(){return a.Settings.get("service")+"/signature/upload"},e.prototype.getUploadParams=function(){return"api"==this.target?{task:this.taskId,v:this.appVersion}:{mode:this.signatureMode,type:this.signatureType}},e.prototype.setApiMode=function(){this.target="api",this.uploader.stop(),this.token=this.tokenApi,this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start()},e.prototype.setServiceMode=function(){var t=s.UserModel.get();if(!t||!t.token)return!1;this.tokenService=t.token,this.target="service",this.token=this.tokenService,this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start()},e.prototype.setServiceOnlyMode=function(){var t=s.UserModel.get();if(!t||!t.token)return!1;this.target="serviceOnly",this.token=t.token,this.uploader.stop(),this.uploader.setOption("url",this.getUrl()),this.uploader.setOption("headers",this.getHeaders()),this.uploader.setOption("multipart_params",this.getUploadParams()),this.uploader.start()},e.prototype.fileUploaded=function(t,e){"api"==this.target||"serviceOnly"==this.target?this.optionsManager.fileUploaded(t,e):e.service_filename?this.uploadToApi(e.service_filename,t):(l.configureScope(function(t){t.setExtra("error",e)}),l.captureMessage("[sign] no service_filename on response",c.Severity.Error),this.fatalError("no server_filename present"))},e.prototype.uploadToApi=function(t,e){var n=this;void 0===e&&(e=null);var i=this;null==e&&(e=u.Tools.randomId(),this.files.addFile(new d.File({id:e,name:t,filename:t}))),this.optionsManager.api.uploadCloudFile(this.taskId,t).then(function(n){n.service_filename=t,i.optionsManager.fileUploaded(e,n)},function(t){t.cloudFile=!0,n.fatalError(t)})},e.prototype.error=function(e){e.id=this.id,e.retry=this.retryCount,e.dnsFallback=this.dnsFallback,e.target=this.target,"api"==this.target||"serviceOnly"==this.target?this.optionsManager.invalidUpload(e):(this.setApiMode(),this.reUploadAllFiles()),t.prototype.error.call(this,e)},e.prototype.fatalError=function(t){t.id=this.id,t.retry=this.retryCount,t.dnsFallback=this.dnsFallback,t.target=this.target,"api"==this.target||"serviceOnly"==this.target?this.optionsManager.fatalError(t):(this.setApiMode(),this.reUploadAllFiles())},e}(o.ServicePlupload);e.SignaturePlupload=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(194),a=n(94),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type="signer",n.uuid=e.uuid||a.Frame.uuid(),n.initials=e.initials||"",n.imageSignature=e.imageSignature||"",n.imageInitials=e.imageInitials||"",n.colorClass=e.colorClass||"fileB",n}return r(e,t),e}(o.ReceiverModel);e.SignerModel=s},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),r=function(){function n(n){void 0===n&&(n={}),this.id=n.id||i.Tools.randomId(),this.email=n.email||"",this.name=n.name||"",this.num=n.num||1,this.type=n.type||"signer",this.phone=n.phone||"",this.password=n.password||"",this.allowCostumize=n.allowCostumize||"all",this.num=n.num||t(".receiver-list__item").length,window.colors=e.RECEIVER_COLORS_VALUES,this.colorClass=n.colorClass||this.getNextColor()}return n.prototype.isSmsValidationEnabled=function(){return this.phone&&this.phone.length>0},n.prototype.getNextColor=function(n){void 0===n&&(n=0);for(var i=null,r=0,o=e.RECEIVER_COLORS_VALUES;r<o.length;r++){var a=o[r];if(t(".receiver__count."+a).length==n){i=a;break}}return null==i&&(n++,i=this.getNextColor(n)),i},n.prototype.cleanData=function(){this.name="",this.email="",this.password="",this.phone="",this.type="signer",this.allowCostumize="all"},n.prototype.getData=function(){var t={id:this.id,name:this.name,email:this.email,type:this.type,files:[],force_signature_type:this.allowCostumize,letter_color:this.colorClass.replace("file","")};return""!=this.password&&(t.access_code=this.password),""!=this.phone&&(t.phone=this.phone),t},n}();e.ReceiverModel=r,e.RECEIVER_COLORS_VALUES=["fileA","fileB","fileC","fileD","fileE","fileF","fileG","fileH","fileI","fileJ"]}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(196),r=function(){function e(){}return e.prototype.init=function(){this.initOrder(),this.initExpire(),this.initMultiple(),this.initCerts(),this.initCertName(),this.initLanguage(),this.initReminders(),this.initCustomMessage(),this.initUuid(),this.initNotify(),this.initBrand()},e.prototype.initOrder=function(){t("#orderCheckbox")},e.prototype.initExpire=function(){var e=function(){t("#expireSet").show(),t("#dayExpire").show(),t("#expireDaysDefault").hide(),t("#dayExpireDefault").hide(),t("#expire").focus()},n=function(){t("#expireSet").hide(),t("#dayExpire").hide(),t("#expireDaysDefault").show(),t("#dayExpireDefault").show()},i=t("#expirateCheckbox");i.on("change",function(){i.is(":checked")?e():n()}),i.is(":checked")?e():n();var r=window.navigator.userLanguage||window.navigator.language,o=t("#dayExpireDefault"),a=t("#dayExpire");try{o.html(new Intl.DateTimeFormat(r).format(new Date(o.html()))),a.html(o.html())}catch(t){}var s=t("#expire");s.on("change",function(){var e=s.val().toString();""==(e=e.replace(/\D/g,""))&&(e=s.attr("data-default")),parseInt(e)>parseInt(s.attr("max"))&&(e=s.attr("max")),s.val(parseInt(e));var n=parseInt(e),i=new Date;i.setDate(i.getDate()+n);var o=i.getDate().toString().padStart(2,"0"),a=(i.getMonth()+1).toString().padStart(2,"0"),l=i.getFullYear()+"-"+a+"-"+o;try{l=new Intl.DateTimeFormat(r).format(i)}catch(t){}t("#dayExpire").html(l)})},e.prototype.initMultiple=function(){var e=t("#orderCheckbox"),n=t("#multipleCheckbox"),i=function(){1!=n.is(":checked")?e.removeAttr("disabled"):e.attr("disabled","disabled")};n.on("change",function(){i()}),i()},e.prototype.initCerts=function(){var e=this;t("#certifiedCheckbox").on("change",function(){e.certsAction()}),this.certsAction()},e.prototype.certsAction=function(){t("#certifiedCheckbox").is(":checked")?this.enableCustomCerts():this.diableCustomCerts()},e.prototype.enableCustomCerts=function(){t("#certificateSelectCheckbox").removeAttr("disabled"),t("#certificateSelectOption").parent().find(".receiver__setting__content").removeClass("disabled")},e.prototype.diableCustomCerts=function(){t("#certificateSelectCheckbox").attr("disabled","disabled"),t("#certificateSelectOption").parent().find(".receiver__setting__content").addClass("disabled")},e.prototype.initCertName=function(){new i.CustomCertsManager},e.prototype.initLanguage=function(){var e=t("#languageCheckbox"),n=function(){e.is(":checked")?(t("#languageSelectOption").show(),t("#languageSelected").show(),t("#languageDefault").hide()):(t("#languageSelectOption").hide(),t("#languageSelected").hide(),t("#languageDefault").show())};t("#languageSelectOption").hide(),t("#languageSelected").hide(),e.on("change",function(){n()}),n(),t("#selectLanguage").on("change",function(){var e=t("#selectLanguage option:selected").html();t("#languageSelected").html(e)})},e.prototype.initCustomMessage=function(){var e=t("#messageCheckbox"),n=t(".receiver__messages");e.is(":checked")?n.show():n.hide(),e.on("change",function(){e.is(":checked")?n.show():n.hide()})},e.prototype.initReminders=function(){var e=function(){t("#reminderSet").show(),t("#reminderDays").hide(),t("#reminderInput").focus()},n=function(){t("#reminderSet").hide(),t("#reminderDays").show()},i=t("#reminderCheckbox");i.on("change",function(){1==i.is(":checked")?e():n()}),1==i.is(":checked")?e():n()},e.prototype.initUuid=function(){t("#uuidCheckbox")},e.prototype.initNotify=function(){t("#notifyCheckbox")},e.prototype.setFromTemplate=function(e){var n=t("#certifiedCheckbox");("1"==e.certified&&0==n.is(":checked")||"0"==e.certified&&1==n.is(":checked"))&&n.trigger("click");var i=t("#expirateCheckbox");e.expiration_days&&0==i.is(":checked")&&(t("#expireDaysDefault .value").html(e.expiration_days),t("#expire").val(e.expiration_days),i.trigger("click"));var r=t("#languageCheckbox");if(e.language){var o=t('#selectLanguage option[value="'+e.language+'"]'),a=o.text();t("#languageSelected").html(a),t("#selectLanguage").val(e.language)}e.language&&0==r.is(":checked")&&r.trigger("click");var s=t("#uuidCheckbox");("true"==e.uuid_visible&&0==s.is(":checked")||"false"==e.uuid_visible&&1==s.is(":checked"))&&s.trigger("click");var l=t("#multipleCheckbox");("batch"==e.mode&&0==l.is(":checked")||"batch"!=e.mode&&1==l.is(":checked"))&&l.trigger("click");var c=t("#messageCheckbox");e.subject_signer?t("#customSubject").val(e.subject_signer):t("#customSubject").val(""),e.message_signer?t("#customMessage").html(e.message_signer):t("#customMessage").html(""),(e.message_signer&&0==c.is(":checked")||!e.message_signer&&1==c.is(":checked"))&&c.trigger("click")},e.prototype.initBrand=function(){var e=t("#brandCheckbox"),n=t("#brandOptions");e.is(":checked")?n.show():n.hide(),e.on("change",function(){e.is(":checked")?n.show():n.hide()})},e}();e.SignConfigManager=r}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(t){void 0===t&&(t=null),this.elementSelector=t||".askCustomCert",this.initSelect(),this.init()}return e.prototype.init=function(){var e=this;null!=this.elementSelector&&(t(this.elementSelector).off("click"),t(this.elementSelector).on("click",function(t){t.preventDefault(),e.showModal()}));var n=t("#sendCustomCertBtn");n.off("click"),n.on("click",function(){e.hideModal()}),t("#cancelCustomCertBtn").on("click",function(){e.hideModal()})},e.prototype.initSelect=function(){var e=this,n=t("#selectCertName");n.off("change"),n.on("change",function(){"custominc"==n.val()&&e.showModal(),n.val(n.find("option:first").val())})},e.prototype.showModal=function(){t("#customCertsModal").modal("show"),window.setTimeout(function(){t("#emailCustomCert").focus()},500)},e.prototype.hideModal=function(){t("#customCertsModal").modal("hide")},e}();e.CustomCertsManager=n}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.prototype.init=function(){},t}();e.TeamConfigManager=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(134),r=n(135),o=n(12),a=n(52),s=n(13),l=n(78),c=n(37),u=function(){function e(t){Object.assign(this,t),this.init()}return e.prototype.init=function(){this.api=new i.SignApi({taskId:null,tool:null,workerServer:this.startServer,token:this.token}),this.initVoidSignatureAction(),this.initCertifySignatureAction()},e.prototype.initVoidSignatureAction=function(){var e=this;if(t(".void-request-btn").length>0){var n=new r.ConfirmModal("void-signature"),i=null;t(".void-request-btn").click(function(e){if(e.preventDefault(),!(i=t(e.target)).attr("data-token-requester"))throw"Token requester not found";if(!i.attr("data-worker"))throw"Worker not found";n.show()}),n.onYes=function(){var r=a.FormDataHelper.jsonToFormData({status:"void"});n.setState("loading"),e.api.workerServer=i.attr("data-worker"),e.api.signatureUpdate(i.attr("data-token-requester"),r).then(function(e){var i;i=o.Lang.t("signature_status_void"),t(".signature-status").text(i),n.hide()},function(t){n.setState("error",{message:o.Lang.t("voidActionError")})})}}},e.prototype.initCertifySignatureAction=function(){if(t(".certify-request-btn").length>0){var e=new r.ConfirmModal("certify-signature"),n=null,i=this,u=function(){var t=a.FormDataHelper.jsonToFormData({certified:1});i.api.signatureUpdate(n.attr("data-token-requester"),t).then(function(t){e.hide(),window.location.reload()},function(t){e.setState("error",{message:o.Lang.t("certifyActionError")})})};t(".certify-request-btn").click(function(i){i.preventDefault();var r=t(i.target);if(0===(n=r.closest("[data-token-requester]")).length)throw"Token requester not found";var o=parseInt(r.attr("data-files-quantity")),a=Math.max(0,o-s.UserModel.get().signatures_left);if(a>0){var u=new l.PackagesContext({requestedAction:"selectPackageSignatures",neededNumberOfPkgItems:a});(new c.default).setContentBuilder(function(){return u}).show(),u.addEventListener("end",function(){window.location.reload()})}else e.show(),window.setTimeout(function(){t(".certsNeeded").html(o.toString())},100)}),e.onYes=function(){a.FormDataHelper.jsonToFormData({certified:1});e.setState("loading"),u()}}},e}();e.UserSignatureDetails=u}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(200),r=n(47),o=n(13),a=n(95),s=n(77),l=n(105),c=function(){function e(t,e){void 0===e&&(e=!1),this.api=t,this.serviceOnly=e,this.init(),this.listenEventUserAuth()}return e.prototype.init=function(){var e=this,n=this;if(1==o.UserModel.isUser()){var i=o.UserModel.get();this.service_filename=i.signConfig.brandLogo}this.initBrandUploader(),this.service_filename&&this.api.pingService().then(function(){e.setServiceBrandLogo(),1!=e.serviceOnly&&n.uploadBrandFromService()}),t("#uploadBrandClean").on("click",function(){t("#brandLogo").val(""),t("#fileApiBrand").val(""),t("#uploadBrandArea, #uploadBrandContainer").removeClass("uploaded"),t("#uploadBrandPreview").css("background-image","none")})},e.prototype.listenEventUserAuth=function(){},e.prototype.serviceError=function(){},e.prototype.uploadBrandFromService=function(){this.initBrandUploader(),this.uploadStarts(),this.uploader.uploadToApi(this.service_filename)},e.prototype.initBrandUploader=function(){this.files||(this.files=new r.FileStack,this.uploader=this.makeUploaderService("uploadBrand","uploadBrandContainer","uploadBrandArea",this.files))},e.prototype.makeUploaderService=function(t,e,n,r){return new i.BrandPlupload({target:null!=o.UserModel.get()&&1!=this.serviceFail?1==this.serviceOnly?"serviceOnly":"service":"api",id:t,container:e,optionsManager:this,config:new s.Config({tool:"sign",subtool:"sign",config:{sign:{mimeTypes:[{title:"Image files",extensions:"png,svg,jpg",mime:"image/png,image/jpeg,image/svg+xml,image/svg"}],multiSelection:!1}}}),files:r,workerServer:this.api.workerServer,tool:"sign",servers:[],haveDrop:!0,dropElement:n,tokenApi:this.api.token,tokenService:null!=o.UserModel.get()&&1!=this.serviceFail?o.UserModel.get().token:null,token:null!=o.UserModel.get()&&1!=this.serviceFail?o.UserModel.get().token:this.api.token,taskId:this.api.taskId})},e.prototype.changeServer=function(t){},e.prototype.checkLimits=function(t,e){return t},e.prototype.fileAdded=function(t,e,n){return this.uploadStarts(),this.setBrandLogo(t)},e.prototype.setServiceBrandLogo=function(){(new l.ImageView).renderUrl(this.service_filename,"uploadBrandPreview").then(function(){document.getElementById("uploadBrandPreview").parentElement.classList.add("uploaded")})},e.prototype.setBrandLogo=function(e){return void 0===e&&(e=null),new Promise(function(n,i){var r=e.getSource().getSource();t("#uploadBrandArea").css("background-image","none"),a.ImageHelper.getBase64(e,!0).then(function(t){a.ImageHelper.preload(t)});var o=e.name.endsWith(".svg")?"renderSvg":"renderImage";(new l.ImageView)[o](r,"uploadBrandPreview",!1).then(function(t){return e.width=t.width,e.height=t.height,document.getElementById("uploadBrandPreview").parentElement.classList.add("uploaded"),n(t)},function(t){i(t)})})},e.prototype.fileUploaded=function(e,n){this.uploadEnds(),null!=this.files.updateFile(e,n)&&(n.service_filename&&(this.service_filename=n.service_filename,t("#brandLogo").val(n.service_filename),this.server_filename=n.service_filename),n.server_filename&&(this.server_filename=n.server_filename,t("#fileApiBrand").val(n.server_filename)))},e.prototype.invalidUpload=function(t){},e.prototype.fatalError=function(t){},e.prototype.uploadStarts=function(){t("#uploadBrandContainer").addClass("uploading")},e.prototype.uploadEnds=function(){t("#uploadBrandContainer").removeClass("uploading")},e}();e.default=c}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(32),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getServiceUrl=function(){return o.Settings.get("service")+"/brand/upload"},e}(n(131).ServicePlupload);e.BrandPlupload=a},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),a=n(202),s=n(203),l=n(118),c=n(205),u=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="SubscriptionStatusContext",n.requestedAction=e.requestedAction,n}return r(e,t),e.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new l.AuthState},e.prototype._getInitialState=function(){switch(this.requestedAction){case"cancelSubscription":return new a.CancelState;case"cancelOfferSubscription":return new c.CancelOfferState;case"reactivateSubscription":return new s.ReactivateState;default:throw"Requested Action '"+this.requestedAction+"' is not handled"}throw"Not implemented 'initialState' when userType is "+this.userType},e}(o.ContextBase);e.SubscriptionStatusContext=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(136),s=n(8),l=n(36),c=n(98),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CancelState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.showLoadingScreen(),(new l.UserPayment).cancelSubscription().then(function(){var t=new a.CancelledReasonState;e.ctx.changeState(t),e.clearLoadingScreen(),t.render(e.domRoot)},function(){var t=new c.ErrorState;e.ctx.changeState(t),e.clearLoadingScreen(),t.render(e.domRoot)})},e._end=function(){e.dispatchEvent(new s.IloveEvent("end"))},e}return r(e,t),e.prototype.initNextAction=function(){var t=this,e=this.domRoot;e.querySelector("[next-from-cancel]").addEventListener("click",function(){t._goNextState()}),e.querySelector("[end-from-cancel]").addEventListener("click",function(){t._end()})},e}(o.StateBase);e.CancelState=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{l(i.next(t))}catch(t){o(t)}}function s(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}l((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(10),l=n(204),c=n(8),u=n(36),d=n(98),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ReactivateState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){return o(e,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.showLoadingScreen(),[4,this._reactivateSubscription()];case 1:return t=1==e.sent()?new l.ReactivatedState:new d.ErrorState,this.ctx.changeState(t),this.clearLoadingScreen(),t.render(this.domRoot),[2]}})})},e._end=function(){e.dispatchEvent(new c.IloveEvent("end"))},e}return r(e,t),e.prototype.initNextAction=function(){var t=this,e=this.domRoot;e.querySelector("[next-from-reactivate]").addEventListener("click",function(){t._goNextState()}),e.querySelector("[end-from-reactivate]").addEventListener("click",function(){t._end()})},e.prototype._reactivateSubscription=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:t=new u.UserPayment,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.reactivateSubscription()];case 2:return e.sent(),[3,4];case 3:return e.sent(),[2,!1];case 4:return[2,!0]}})})},e}(s.StateBase);e.ReactivateState=p},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ReactivatedState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new a.IloveEvent("end")),window.location.reload()},e}return r(e,t),e.prototype.initNextAction=function(){var t=this;this.domRoot.querySelector("[next-from-reactivated]").addEventListener("click",function(){t._goNextState()})},e}(o.StateBase);e.ReactivatedState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=n(136),l=n(206),c=n(98),u=n(36),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CancelOfferState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e._selectButtons=[],e._submitButtons=[],e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),0===e._selectButtons.length&&(e._selectButtons=Array.from(e.domStateRoot.querySelectorAll(".dialog__action .pricing-btn"))),0===e._submitButtons.length&&(e._submitButtons=Array.from(e.domStateRoot.querySelectorAll(".dialog__action .btn"))),e.initButtons()},e._selectBtnHandler=function(t){var n=t.currentTarget,i=n.dataset.actionOption;e._selectButtons.forEach(function(t){return t.classList.remove("pricing-btn--active")}),n.classList.add("pricing-btn--active"),e._submitButtons.forEach(function(t){var e=t.dataset.action===i;t.style.display=e?"":"none"})},e._submitBtnHandler=function(t){var n=t.currentTarget.dataset.action;e._goNextState(n)},e._goNextState=function(t){var n=new u.UserPayment;switch(t){case"apply-discount":e.showLoadingScreen(),n.subscribeNextMonthsWithDiscount().then(e._goDiscountState,e._goErrorState);break;case"cancel-subscription":e.showLoadingScreen(),n.cancelSubscription().then(e._goReasonState,e._goErrorState);break;default:throw"Unknown submit action name "+t}},e._goReasonState=function(){e.clearLoadingScreen();var t=new s.CancelledReasonState;e.ctx.changeState(t),t.render(e.domRoot)},e._goDiscountState=function(){e.clearLoadingScreen();var t=new l.DiscountAppliedState;e.ctx.changeState(t),t.render(e.domRoot)},e._goErrorState=function(){e.clearLoadingScreen();var t=new c.ErrorState;e.ctx.changeState(t),t.render(e.domRoot)},e._end=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),e.prototype.initButtons=function(){var t=this;this._selectButtons.forEach(function(e){e.addEventListener("click",t._selectBtnHandler)}),this._submitButtons.forEach(function(e){e.addEventListener("click",t._submitBtnHandler)})},Object.defineProperty(e.prototype,"applyDiscountSelectBtn",{get:function(){return this._selectButtons.find(function(t){return"apply-discount"===t.dataset.actionOption})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelSubscriptionSelectBtn",{get:function(){return this._selectButtons.find(function(t){return"cancel-subscription"===t.dataset.actionOption})},enumerable:!0,configurable:!0}),e}(o.StateBase);e.CancelOfferState=d},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="DiscountAppliedState",e.LAYOUT_TEMPLATE_NAME="subscription-status",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._end=function(){e.dispatchEvent(new a.IloveEvent("end")),window.location.reload()},e}return r(e,t),e.prototype.initNextAction=function(){var t=this;this.domRoot.querySelector("[next-from-discount-applied]").addEventListener("click",function(){t._end()})},e}(o.StateBase);e.DiscountAppliedState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),a=n(97),s=n(208),l=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="RemovePaymentContext",n.requestedAction=e.requestedAction,n}return r(e,t),e.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new a.AuthState},e.prototype._getInitialState=function(){return new s.ConfirmRemoveState},e}(o.ContextBase);e.RemovePaymentContext=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(209),a=n(210),s=n(10),l=n(8),c=n(36),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="ConfirmRemoveState",e.LAYOUT_TEMPLATE_NAME="payment-remove",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){var t=new o.PaymentRemovedState;e.ctx.changeState(t),t.render(e.domRoot)},e._goFailedState=function(){var t=new a.CannotRemoveState;e.ctx.changeState(t),t.render(e.domRoot)},e._goEnd=function(){e.dispatchEvent(new l.IloveEvent("end"))},e}return r(e,t),e.prototype.initNextAction=function(){var t=this,e=this.domRoot;e.querySelector("[next-from-confirm-remove-yes]").addEventListener("click",function(){t._removePayment()}),e.querySelector("[next-from-confirm-remove-no]").addEventListener("click",function(){t._goEnd()})},e.prototype._removePayment=function(){var t=this;this.showLoadingScreen(),(new c.UserPayment).paymentRemove().then(function(e){t.clearLoadingScreen(),t._goNextState()},function(e){t.clearLoadingScreen(),t._goFailedState()})},e}(s.StateBase);e.ConfirmRemoveState=u},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="PaymentRemovedState",e.LAYOUT_TEMPLATE_NAME="payment-remove",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.ctx.setEndState(),e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),e.prototype.initNextAction=function(){var t=this;this.domRoot.querySelector("[next-from-payment-removed]").addEventListener("click",function(){t._goNextState()})},e}(o.StateBase);e.PaymentRemovedState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CannotRemoveState",e.LAYOUT_TEMPLATE_NAME="payment-remove",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction()},e._goNextState=function(){var t=new a.IloveEvent("end",{action:"close"});e.dispatchEvent(t)},e}return r(e,t),e.prototype.initNextAction=function(){var t=this;this.domRoot.querySelector("[next-from-cannot-remove]").addEventListener("click",function(){t._goNextState()})},e}(o.StateBase);e.CannotRemoveState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),a=n(97),s=n(212),l=function(t){function e(e){var n=t.call(this,e)||this;return n.contentName="CardContext",n.requestedAction=e.requestedAction,n}return r(e,t),e.prototype.getInitialState=function(){return this.isLoggedIn()?this._getInitialState():new a.AuthState},e.prototype._getInitialState=function(){return new s.CardState},e}(o.ContextBase);e.CardContext=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(213),a=n(51),s=n(36),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CardState",e.LAYOUT_TEMPLATE_NAME="card-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN);var t=new s.UserPayment,n=e.initAbstractCard({userPayment:t,currentPaymentMethod:null,paymentProviderProps:[{name:"stripe",paymentButtonText:e.t("paymentButtonText")}],paymentAction:"update_card"});Promise.all([n]).then(e._onEverythingReady)},e._onPaymentSuccess=function(t,n){e._goNextState()},e._onPaymentFailed=function(t,e){},e._onEverythingReady=function(){e.domRoot.querySelector(".payment__mountpoint").style.display="block",setTimeout(e.clearLoadingScreen,150)},e._goNextState=function(){var t=new o.CardUpdatedState;e.ctx.changeState(t),t.render(e.domRoot)},e}return r(e,t),e.prototype.initPaymentProviderSelectorButtons=function(){},e.prototype.clickProviderButton=function(){},e}(a.AbstractPaymentState);e.CardState=l},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="CardUpdatedState",e.LAYOUT_TEMPLATE_NAME="card-update",e.INITIAL_SCREEN="default",e.onDomReady=function(){e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.initNextAction(),document.getElementById("cartUpdateText").innerText=document.getElementById("cartUpdateText").innerText.replace("{card}","")},e._goNextState=function(){e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),e.prototype.initNextAction=function(){var t=this;this.domRoot.querySelector("[next-from-card-updated]").addEventListener("click",function(){t._goNextState()})},e}(o.StateBase);e.CardUpdatedState=s},function(t,e){var n,i,r,o,a,s;!function(){var t=document.querySelectorAll(".index-bar, .admin-sidebar"),e=function(){t.forEach(function(t){n(t),i(t)})},n=function(t){var e=t.getBoundingClientRect(),n=t.parentElement,i=n.getBoundingClientRect(),r=getComputedStyle(t),o=getComputedStyle(n);t.style.width=i.width-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)+"px";var a=r.getPropertyValue("--max-height-offset");t.style.maxHeight="calc(100vh - "+e.top+"px "+(a?"-"+a:"")+")";var s=Math.abs(e.bottom-i.bottom);e.bottom>i.bottom?t.style.height=e.height-s+"px":t.style.height=e.height+s+"px"},i=function(t){var e=t.querySelector(".index-bar__container__item--selected");if(e){var n=e;void 0===n.scrollIntoViewIfNeeded?n.scrollIntoView():n.scrollIntoViewIfNeeded()}};if(window.addEventListener("scroll",e),window.addEventListener("resize",e),void 0!==window.ResizeObserver){var r=new window.ResizeObserver(e);r.observe(document.body)}e()}(),n=function(){var t=document.querySelectorAll("a.anchor");t.forEach(function(t){i(t)})},i=function(t){var e=t.getAttribute("name");if(e){var n=t.getBoundingClientRect().y;if(o(n)){var i=!1,s=document.querySelectorAll('.index-bar a[href$="#'+e+'"] .index-bar__container__item');s.forEach(function(t){t.classList.add("index-bar__container__item--selected"),a(t),i=!0}),i&&r(e)}}},r=function(t){var e=document.querySelectorAll('.index-bar a[href]:not([href$="#'+t+'"]) .index-bar__container__item');e.forEach(function(t){t.classList.remove("index-bar__container__item--selected")})},o=function(t){var e=.3*window.innerHeight;return t<=e},a=function(t){var e=t.parentElement.parentElement.scrollTop,n=t.parentElement.parentElement.parentElement.clientHeight,i=n+e,r=t.getBoundingClientRect(),o=r.y,a=r.height,s=a;(o<=s||o>i)&&t.scrollIntoView()},window.addEventListener("scroll",n),n(),(s=document.querySelectorAll(".new-block--with-sidebar__sidebar")).forEach(function(t){t.addEventListener("click",function(t){t.target===this&&this.classList.toggle("new-block--with-sidebar__sidebar--display")})}),document.querySelectorAll(".new-block--with-sidebar__backdrop").forEach(function(t){t.addEventListener("click",function(){s.forEach(function(t){t.classList.remove("new-block--with-sidebar__sidebar--display")})})})},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=function(){function t(t){void 0===t&&(t={}),this.src="https://apis.google.com/js/platform.js",this.developerKey="AIzaSyAscL1olxYauMLc0sj0LXpCWL2Jmztr8dA",this.clientId="391438661644-2uum636mg2ckariol0if8h3364a1h6dc.apps.googleusercontent.com",this.scope="https://www.googleapis.com/auth/drive https://www.googleapis.com/auth/userinfo.email",this.URL_API="https://www.googleapis.com/drive/v3/",Object.assign(this,t)}return t.prototype.init=function(){var t=this;this.loadDrive().then(function(){setTimeout(function(){t.drive()},500)},function(){})},t.prototype.loadDrive=function(){var t=this;return new Promise(function(e,n){if(null===window.gapi||void 0!==window.gapi)return e(!0);i.lazyload(t.src);var r=window.setInterval(function(){if(null!==window.gapi&&"object"==typeof window.gapi)return clearInterval(r),e(!0)},100)})},t.prototype.drive=function(){},t}();e.DriveService=r},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=function(){function e(t){void 0===t&&(t={}),this.src="https://www.dropbox.com/static/api/2/dropins.js",this.appKey="xntw8za866940lz",this.id=null,Object.assign(this,t)}return e.prototype.init=function(){var t=this;this.loadDropbox().then(function(){setTimeout(function(){t.initDropbox()},500)},function(){})},e.prototype.loadDropbox=function(){var t=this;return new Promise(function(e,n){if(null===window.Dropbox||void 0!==window.Dropbox)return e(!0);i.lazyload(t.src,{"data-app-key":t.appKey,id:"dropboxjs"});var r=window.setInterval(function(){if(null!==window.Dropbox&&"object"==typeof window.Dropbox||"function"==typeof window.Dropbox)return clearInterval(r),e(!0)},100)})},e.prototype.initDropbox=function(){var e=this;t("#"+this.id).addClass("active").on("click",function(){e.dropbox()})},e.prototype.dropbox=function(){},e}();e.DropboxService=r}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){}return t.validate=function(t){return new RegExp("^(http:\\/\\/www\\.|https:\\/\\/www\\.|http:\\/\\/|https:\\/\\/)?[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(\\/.*)?$","g").test(t)},t.correct=function(t){return"http://"!==t.substr(0,"http://".length)&&"https://"!==t.substr(0,"https://".length)&&(t="http://"+t),t},t.getParam=function(t,e){void 0===e&&(e=null),null==e&&(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},t}();e.Url=i},,function(t,e,n){var i,r,o;r=[n(1),n(243),n(62),n(107)],void 0===(o="function"==typeof(i=function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&t(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===t.data(n.target,this.widgetName+".preventClickEvent")&&t.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),e=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&t.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,n.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){return t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=function(){function t(t){this.parentId=null,this.tool=null,this.token=null,Object.assign(this,t)}return t.prototype.makeChild=function(){var t=this,e=this;return new Promise(function(n,r){null!=e.parentId?(t.api=new i.Api({taskId:null,tool:e.tool,workerServer:e.workerServer,token:e.token}),t.api.next(e.parentId,e.tool).then(function(t){n(t)},function(t){r(t)})):n()})},t.prototype.getFileUrl=function(t,e){return this.api.nextFile(t,e)},t}();e.Chain=r},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),r=n(256),o=n(257),a=n(77),s=n(25),l=n(222),c=n(14),u=n(26),d=n(13),p=n(260),h=n(261),f=function(){function e(t){var e=this;void 0===t&&(t={}),this.initTool=function(){e.config=new a.Config({tool:e.tool,subtool:e.subtool,config:e.configData}),e.initProcessManager(),e.optionsManager=e.getOptionsManager(),e.initUploader(),e.beforeInit().then(function(){},function(){}),e.listenEventTaskIdChanged()},this.action=null,this.alias=null,this.tool=null,this.subtool=null,this.realTool=null,this.toolText=null,this.fileLimits=null,this.taskId=null,this.parentId=null,this.parentTool=null,this.covers_hidden=!1,this.token=null,this.userId=null,this.startServer=null,this.workerServer=null,this.level="user",this.levelTemp="user",this.userToken=null,this.servers=null,this.downloadUrl=null,this.error=null,this.site=null,this.country=null,this.files=new i.FileStack,this.processManager=null,this.uploadManager=null,this.optionsManager=null,this.defaultOptions=null,this.configData=n(262),this.config=null,Object.assign(this,t),null==this.subtool&&(this.subtool=this.tool),null!=this.alias&&(this.subtool=this.alias),null!=this.userId&&s.configureScope(function(t){t.setUser({id:e.userId})}),null!=this.country&&s.configureScope(function(t){t.setTag("country",e.country)}),null!=this.taskId&&s.configureScope(function(t){t.setTag("taskId",e.taskId)}),null==this.workerServer&&this.servers&&(this.workerServer=this.servers[Math.floor(Math.random()*this.servers.length)]),window.Sentry=s,window.ilovetools={user:d.UserModel},h.Modal.init()}return e.prototype.variableUserLevel=function(){var t=document.URL.split("#");if("n"!==(t.length>1?t[1]:null)){for(var e=window.ilovepdfConfig.fp,n=!1,i=0;i<e;i++){var r=null;if(window.Cookies&&(r=window.Cookies.get("fp"+i)),null==r){n=!0;break}}!0===n&&"premium"!==this.level&&(window.ilovepdfConfig.fileLimits=this.fileLimits=this.allFileLimits.temp_limits,"user"==this.level?this.allFileLimits.limits=this.allFileLimits.temp_limits:this.allFileLimits.registered_limits=this.allFileLimits.temp_limits,window.ilovepdfConfig.levelTemp=this.levelTemp="premium")}},e.prototype.init=function(){if("tool"==this.action&&null!=this.tool){var t=this.tool==this.subtool?this.tool.replace("image",""):this.tool.replace("image",this.subtool);this.alias=t,window.Cookies&&window.Cookies.set("lastTool",t),this.variableUserLevel(),this.initTool(),p.Network.checkNetwork()}},e.prototype.beforeInit=function(){var e=this,n=this;return new Promise(function(r,o){if(null!=n.parentId){u.Tools.loadingFromPreviousStart(),window.ga("send","event","tool","chained",e.tool+"-"+e.parentTool);var a=new l.Chain({parentId:n.parentId,workerServer:n.workerServer,tool:n.tool,token:n.token});a.makeChild().then(function(e){n.uploadManager.taskId=n.uploadManager.plupload.taskId=n.processManager.api.taskId=n.processManager.taskId=n.taskId=e.task,n.uploadManager.plupload&&n.uploadManager.plupload.uploader&&n.uploadManager.plupload.uploader&&n.uploadManager.plupload.uploader.settings&&(n.uploadManager.plupload.uploader.settings.multipart_params.task=n.uploadManager.taskId);try{n.optionsManager.limits&&n.optionsManager.limits.checkFileLimits(0,Object.keys(e.files).length)}catch(e){return u.Tools.loadingFromPreviousFail(),void t("#closePrevious").on("click",function(){u.Tools.loadingFromPreviousEnd(),r()})}for(var o in e.files)if(e.files.hasOwnProperty(o)){var s=u.Tools.randomId(),l=new i.File({id:s,canvasId:s,filename:e.files[o],name:e.files[o],server_filename:o,url:a.getFileUrl(e.task,o),loaded:100,percent:100,origin:"chained",runtime:"html5"});n.files.addFile(l),n.optionsManager.fileAdded(l,n.uploadManager.id)}u.Tools.loadingFromPreviousEnd(),r()},function(e){""==e?(s.configureScope(function(t){t.setExtra("parent_id",n.parentId),t.setExtra("tool",n.tool)}),s.captureMessage("Error on child creation: Options fail",c.Severity.Error)):e.error&&e.error.type&&"TaskRestartError"==e.error.type?(s.configureScope(function(t){t.setExtra("parent_id",n.parentId),t.setExtra("tool",n.tool),t.setExtra("error",e)}),s.captureMessage("Error on child creation, parent removed",c.Severity.Error)):(s.configureScope(function(t){t.setExtra("parent_id",n.parentId),t.setExtra("tool",n.tool),t.setExtra("error",e)}),s.captureMessage("Error on child creation",c.Severity.Error)),u.Tools.loadingFromPreviousFail(),t("#closePrevious").on("click",function(){u.Tools.loadingFromPreviousEnd(),r()})})}else r()})},e.prototype.initProcessManager=function(){this.processManager=new r.Process({taskId:this.taskId,tool:this.tool,site:this.site,subtool:this.subtool,options:{},startServer:this.startServer,workerServer:this.workerServer,files:this.files,token:this.token,userId:this.userId,downloadUrl:this.downloadUrl})},e.prototype.initUploader=function(){this.uploadManager=new o.UploadManager({id:"pickfiles",files:this.files,startServer:this.startServer,workerServer:this.workerServer,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,token:this.token,taskId:this.taskId,tool:this.tool,servers:this.servers})},e.prototype.getOptionsManager=function(){return null},e.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},e.prototype.changeServer=function(t){this.uploadManager.workerServer=t,this.uploadManager.plupload.workerServer=t,this.uploadManager.plupload.uploader.setOption("url",t+"/"+this.uploadManager.plupload.apiVersion+"/upload"),"changeServer"in this.optionsManager&&this.optionsManager.changeServer(t),this.uploadManager.workerServer=t},e.prototype.listenEventTaskIdChanged=function(){var t=this;window.addEventListener("taskIdChanged",function(e){var n=e.detail.taskId;t.processManager.taskId=n,t.uploadManager.plupload.changeTaskId(n),t.processManager.api.taskId=n,window.ilovepdfConfig.taskId=t.processManager.taskId=t.processManager.api.taskId=n})},e}();e.IloveTool=f}).call(this,n(1))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(26),o=function(){function t(){}return t.process=function(t,e){var n=t;for(var i in e)e.hasOwnProperty(i)&&(n=(n=n.replace(new RegExp("\\$\\{"+i+"\\}","g"),e[i])).replace(new RegExp("\\$\\{ "+i+" \\}","g"),e[i]));return n},t.processButton=function(t){return'<div id="processTaskWrapper"></div><button id="processTask" class="btn btn--process btn--red '+t.tool+'"><span id="processTaskTextBtn">'+t.toolText+'</span> <span><svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="#FFF" fill-rule="evenodd"><path d="M13 26C5.82 26 0 20.18 0 13S5.82 0 13 0s13 5.82 13 13-5.82 13-13 13zm0-2c6.075 0 11-4.925 11-11S19.075 2 13 2 2 6.925 2 13s4.925 11 11 11z" fill-rule="nonzero"/><path d="M18.684 13.105a.55.55 0 0 1-.148.378l-5.263 5.263a.55.55 0 0 1-.378.148.54.54 0 0 1-.526-.526V15.21H7.842a.54.54 0 0 1-.526-.526v-3.158A.54.54 0 0 1 7.842 11h4.526V7.842a.52.52 0 0 1 .526-.526c.148 0 .28.066.395.164l5.247 5.247a.55.55 0 0 1 .148.378z"/></svg></span></button></div>'},t.rangeBox=function(t){return'<div class="range" id="range-'+t.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+t.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-'+t.rangeId+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-ini">'+t.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-'+t.rangeId+'-end" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-end">'+t.pageEnd+"</span></div></div></div></div>"},t.rangeFixedBox=function(t){return'<div class="range" id="range-fix-'+t.rangeId+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__title">'+i.Lang.t("Range")+" "+t.rangeId+'</div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="range-fix-'+t.rangeId+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-ini">'+t.pageIni+'</span></div></div><div class="range__to"></div><div class="range__element range__element--end"><div class="range__canvas range__canvas--end"><canvas id="range-fix-'+t.rangeId+'-end" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name" id="info-'+t.rangeId+'-end">'+t.pageEnd+"</span></div></div></div></div>"},t.removeBox=function(t){return'<div class="range" id="remove-page-'+t.page+'" data-page="'+t.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="remove-page-'+t.page+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+t.page+"</span></div></div></div></div>"},t.reorderBox=function(t){return'<div class="range" id="reorder-page-'+t.page+'" data-page="'+t.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="reorder-page-'+t.page+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name">Page '+t.page+"</span></div></div></div></div>"},t.pageBox=function(t){return'<div class="page '+t.class+'" id="'+t.file+t.page+'" data-page="'+t.page+'" data-pos="'+t.pos+'" data-file="'+t.file+'"><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div><div class="page__actions"><a class="page__btn rotate tooltip--top tooltip" data-rotate="0" title="'+i.Lang.t("Rotate")+'"><svg width="14px" height="17px" viewBox="0 0 14 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-434.000000, -182.000000)" fill="#383E45"><g transform="translate(265.000000, 172.000000)"><g transform="translate(164.000000, 8.000000)"><path d="M7.76002152,9.05407587 L6.54613936,7.83158461 C5.77132096,8.83023944 5.28921173,9.98385795 5.14285714,11.1805219 L6.881894,11.1805219 C7.00242131,10.4315308 7.30373957,9.69975787 7.76002152,9.05407587 L7.76002152,9.05407587 Z M6.881894,12.9023406 L5.14285714,12.9023406 C5.28921173,14.0990046 5.76271186,15.2526231 6.53753027,16.2512779 L7.75141243,15.0287867 C7.30373957,14.3831047 7.00242131,13.6599408 6.881894,12.9023406 L6.881894,12.9023406 Z M7.75141243,17.4823783 C8.75006726,18.2571967 9.91229486,18.7220877 11.1089588,18.8684423 L11.1089588,17.1207963 C10.3599677,16.9916599 9.63680387,16.6989508 8.99112187,16.2340597 L7.75141243,17.4823783 L7.75141243,17.4823783 Z M12.8307775,5.21442023 L12.8307775,2.57142857 L8.91364003,6.48856605 L12.8307775,10.3196126 L12.8307775,6.95345709 C15.27576,7.36669357 17.1353242,9.48453054 17.1353242,12.0414313 C17.1353242,14.598332 15.27576,16.716169 12.8307775,17.1294054 L12.8307775,18.8684423 C16.2313694,18.4465967 18.8571429,15.5539414 18.8571429,12.0414313 C18.8571429,8.52892117 16.2313694,5.63626581 12.8307775,5.21442023 L12.8307775,5.21442023 Z" transform="translate(12.000000, 10.719935) scale(-1, 1) translate(-12.000000, -10.719935) "></path></g></g></g></g></svg></a><a class="page__btn remove tooltip--top tooltip" title="'+i.Lang.t("Remove")+'"><svg width="12px" height="12px" viewBox="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-586.000000, -216.000000)" fill="#383E45"><g transform="translate(580.000000, 210.000000)"><polygon points="18 7.20857143 16.7914286 6 12 10.7914286 7.20857143 6 6 7.20857143 10.7914286 12 6 16.7914286 7.20857143 18 12 13.2085714 16.7914286 18 18 16.7914286 13.2085714 12"></polygon></g></g></g></svg></a></div><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+t.file+"-"+t.page+'" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div><div class="file__info"><span class="file__info__name"><span class="file__info__more"><strong>'+t.filename+"</strong><br>"+i.Lang.t("Page")+"&nbsp;</span>"+t.page+'</span></div></div></div><div class="page__add tooltip tooltip--top" data-title="'+i.Lang.t("addPage")+'"></div></div>'},t.page=function(t){return'<div class="page '+t.class+'" id="'+t.file+t.page+'" data-page="'+t.page+'" data-file="'+t.file+'"><div class="page__container"><div class="page__element"><div class="page__canvas"><canvas id="page-'+t.file+"-"+t.page+'" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas></div></div></div></div>'},t.extractBox=function(t){return'<div class="range" id="extract-page-'+t.page+'" data-page="'+t.page+'"><div class="file__actions"><a class="file__btn remove tooltip tooltip--top" title="'+i.Lang.t("Remove")+'">'+r.Tools.svgRemove()+'</a></div><div class="range__container"><div class="range__element range__element--start"><div class="range__canvas"><canvas id="extract-page-'+t.page+'-ini" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'"></canvas> </div><div class="file__info"><span class="file__info__name">'+t.page+"</span></div></div></div></div>"},t.askPassword=function(){return'<div id="passwordAsk"><h2 class="title2">'+i.Lang.t("Some files require password")+'</h2><div class="form__group"><div class="checkbox"><input type="checkbox" name="allPwd" id="allPwd" value="1"><label for="allPwd">'+i.Lang.t("Same password for all files")+'</label></div></div><div class="passwords"></div><div class="text-right"><button class="btn btn--red" id="pwdSend">'+i.Lang.t("Send")+'</button></div><br><br><div class="text-right"><p id="useUnlock">'+i.Lang.t("Did you forgot your password?")+' <a href="'+window.unlockPdfUrl+'">'+i.Lang.t("Unlock PDF")+'</a></p><p id="ignorePwdFiles">'+i.Lang.t("Or")+' <a class="link--cancel" id="pwdIgnore" href="#">'+i.Lang.t("Ignore these files")+"</a></p></div></div>"},t.askPasswordField=function(t){return'<div class="password" id="pwd-'+t.id+'"><label for="pwd'+t.id+'">'+t.server_filename+'</label><div class="form__group form__group--btn form__group--btn-lg"><div class="input--icon input--lock"><input class="input" type="password" name="pwd'+t.id+'" id="pwd'+t.id+'"></div><a class="btn showPassword" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.015 7c4.751 0 8.063 3.012 9.504 4.636-1.401 1.837-4.713 5.364-9.504 5.364-4.42 0-7.93-3.536-9.478-5.407 1.493-1.647 4.817-4.593 9.478-4.593zm0-2c-7.569 0-12.015 6.551-12.015 6.551s4.835 7.449 12.015 7.449c7.733 0 11.985-7.449 11.985-7.449s-4.291-6.551-11.985-6.551zm-.015 5c1.103 0 2 .897 2 2s-.897 2-2 2-2-.897-2-2 .897-2 2-2zm0-2c-2.209 0-4 1.792-4 4 0 2.209 1.791 4 4 4s4-1.791 4-4c0-2.208-1.791-4-4-4z"/></svg></a></div></div>'},t.checkOk=function(){return'<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>'},t}();e.OptionsTemplate=o},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(25),o=n(14),a=function(){function e(){}return e.getError=function(t){if("string"==typeof t)return t;if("error"in t&&"string"==typeof t.error)return t.error;if("response"in t){var e=this.getJson(t.response);if(null!=e)return"error"in e&&"param"in e.error&&e.error.param&&e.error.param&&"type"in e.error.param&&e.error.param.type instanceof Array?e.error.param.type[0]:"error"in e&&"type"in e.error&&e.error.type&&"string"==typeof e.error.type?e.error.type:"ServerError"}return"param"in t&&"type"in t.param?t.param.type:"UnknownError"},e.isJson=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},e.getJson=function(t){var e=null;try{e=JSON.parse(t)}catch(t){return null}return e},e.fatalError=function(n,a,s,l,c){void 0===n&&(n=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=null),null==n&&(n="UnknownError"),"UnknownError"==(n=e.getError(n))&&(r.configureScope(function(t){t.setExtra("unknownError",n),t.setExtra("tool",a),t.setExtra("fileName",l),t.setExtra("workerServer",s),t.setExtra("extra",c)}),r.addBreadcrumb({category:"upload",level:o.Severity.Error,message:"Unknown Error"})),window.ga("send","event","upload-fatal",a,n),t(".tool").hide(),t("#uploading").hide(),t("#process").hide(),t("body").addClass("process-run");var u="";u="FileRemoved"==n||"FileTooLarge"==n?n:"errorRetry";var d='\n        <div class="tool-error">\n            <h2 class="title2">'+i.Lang.t("Upload error")+'</h2>\n            <div class="tool-error__content">'+i.Lang.t(u);null!=l&&"FileRemoved"!=n&&(d=d+"<p>"+l+"</p>"),d=d+'</div><div class="tool-error__action"><a class="btn btn-sm" href="javascript:window.location.href=window.location.href">'+i.Lang.t("Retry")+"</a></div>",t("#uploading").html(d).show()},e.error=function(t,e,n,i){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null)},e}();e.IloveError=a}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(84),a=n(227),s=n(132),l=n(77),c=n(50),u=n(12);n(107);var d=function(e){function i(t){void 0===t&&(t={});var i=e.call(this,t)||this;return i.page=1,i.space=20,i.pages=null,i.elements=[],i.currentFile=null,i.rendering=!1,i.gravity=null,i.processDisabledUploading=!1,i.changed=!1,i.textUploader=null,i.uploader=null,i.textImagesPending=[],n(274),i}return r(i,e),i.prototype.loadFonts=function(){for(var t in window.fonts)window.fonts.hasOwnProperty(t)&&"arial"!=t&&c.lazyloadCss("/font/"+t+".css")},i.prototype.startPanels=function(){e.prototype.startPanels.call(this),this.loadingStart(),this.initViewer(),this.initOptions(),this.initEditToolbar(),this.checkElements()},i.prototype.initOptions=function(){},i.prototype.initViewManager=function(){e.prototype.initViewManager.call(this),this.viewManager.imageViewer.useLoadImageLib=!0},i.prototype.initViewer=function(){t("#editor").show()},i.prototype.initUploader=function(){this.uploader=new s.PluploadUpload({id:"pickwatermark",container:"pickwatermarkContainer",optionsManager:this,processManager:this.processManager,config:new l.Config({tool:"watermarkimage",subtool:"watermarkimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!0,dropElement:"sidebar"}),window.watermarkUploader=this.uploader},i.prototype.initTextUpload=function(){this.textUploader=new s.PluploadUpload({id:"picktextwatermark",container:"picktextwatermark",optionsManager:this,processManager:this.processManager,config:new l.Config({tool:"watermarkimage",subtool:"watermarkimage",config:this.config.config}),apiVersion:this.processManager.apiVersion,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.processManager.token,tool:this.tool,taskId:this.processManager.taskId,servers:[],haveDrop:!1,dropElement:"picktextwatermark"}),window.textUploader=this.textUploader},i.prototype.initEditToolbar=function(){var e=this;a.Toolbar.init(),t(".next").on("click",function(){if(e.page<e.pages){if(1==e.limits.isIgnored(e.files.files[e.page].id))return e.page=e.page+1,void t(".next").trigger("click");e.saveGravityTemp(),e.page=e.page+1;var n=e.page-1;e.renderFileEditor(e.files.files[n]).then(function(){e.setEditElement(),e.setGravityTemp()},function(){})}}),t(".prev").on("click",function(){if(e.page>1){if(1==e.limits.isIgnored(e.files.files[e.page-1].id))return e.page=e.page-1,void t(".prev").trigger("click");e.saveGravityTemp(),e.page=e.page-1;var n=e.page-1;e.renderFileEditor(e.files.files[n]).then(function(){e.setEditElement(),e.setGravityTemp()},function(){})}}),t("#editor_file_select").on("change",function(){e.saveGravityTemp(),e.currentFile=e.files.getFile(this.value),e.page=t("#editor_file_select").prop("selectedIndex")+1,e.pages=e.files.files.length,e.renderFileEditor(e.files.getFile(this.value)).then(function(){e.setEditElement(),e.setGravityTemp()},function(){})}),t("#editor_page").on("change",function(){var n=parseInt(t(this).val().toString());e.saveGravityTemp(),n<1&&(n=1),n>e.files.files.length+1&&(n=e.files.files.length+1,t(this).val(n)),e.page=n,e.renderFileEditor(e.files.files[e.page-1]).then(function(){e.setEditElement(),e.setGravityTemp()},function(){})}),this.checkProcessOnClick()},i.prototype.processTask=function(){this.validateTextElements()&&e.prototype.processTask.call(this)},i.prototype.checkElements=function(){var e=this;t("body").click(function(t){e.validateTextElements()||e.disableProcessBtn(u.Lang.t("No text or image found"))})},i.prototype.validateTextElements=function(){var e=t(".editor__content .text");if(0==e.length)return!0;var n={};try{e.each(function(e,i){if(""!==t(i).html())throw n})}catch(t){if(t!==n)throw t;return!0}return!1},i.prototype.renderFileEditor=function(e){var n=this,i=this;return i.rendering=!0,new Promise(function(r,o){t("#editor_page").val(n.page),t("#editor_pages").html(n.files.files.length.toString()),e||o(),t("#file").addClass("loading"),void 0!=e.url?n.viewManager.renderUrl(e.id,"file",!0).then(function(){i.rendering=!1,t("#file").removeClass("loading"),r(),i.loadingEnd()},function(){i.rendering=!1,t("#file").removeClass("loading"),o()}):n.viewManager.renderImage(e.id,"file",!0).then(function(){i.rendering=!1,t("#file").removeClass("loading"),r()},function(){i.rendering=!1,t("#file").removeClass("loading"),o()})})},i.prototype.onRenderFile=function(){},i.prototype.fileReady=function(n){e.prototype.fileReady.call(this,n);var i=this;if(t(".page_status").hide(),0==this.limits.isIgnored(n.id)){this.currentFile=n,this.page=1,this.pages=0,t.each(this.files.files,function(t,e){0==i.limits.isIgnored(e.id)&&i.pages++});var r=Math.max(t(".editor__container").width(),t(".editor__container").height()),o=Math.max(n.width,n.height);i.files.updateFile(n.id,{scale:o/r}),this.renderFileEditor(n).then(function(){i.fileRendered()},function(){}),t(".file_count").html(this.pages.toString()),t("#editor_file_select").append('<option value="'+n.id+'" selected="selected">'+n.name+"</option>"),t("#cover-"+n.id).on("click",function(e){i.saveGravityTemp();var n=t(this).attr("id").replace("cover-",""),r=i.files.getFileIndex(n);i.page=r+1,i.renderFileEditor(i.files.getFile(n)).then(function(){i.setGravityTemp()},function(){})})}},i.prototype.fileRendered=function(){},i.prototype.fileRemoved=function(n){e.prototype.fileRemoved.call(this,n),t("#editor_file_select").html(""),t.each(this.files.files,function(e,n){t("#editor_file_select").append('<option value="'+n.id+'" selected="selected">'+n.name+"</option>")}),this.pages=this.files.files.length,this.page>this.pages&&this.page--,this.files.files.length>0&&this.renderFileEditor(this.files.files[this.page-1])},i.prototype.fileChanged=function(n){e.prototype.fileChanged.call(this,n),1!=this.processDisabledUploading&&(0==this.files.countNotIgnored()?t(".tool__workarea__rendered").hide():t(".tool__workarea__rendered").css("display","flex").hide().fadeIn(),t(".editor__content .editor__content__item").length>0?this.enableProcessBtn():this.disableProcessBtn(u.Lang.t("Add an element")))},i.prototype.getElement=function(e){var n=null;return t.each(this.elements,function(t,i){if(i.id==e)return n=i,!1}),n},i.prototype.setEditElement=function(){this.setEditElementContent()},i.prototype.setEditElementContent=function(){},i.prototype.getElementSizeFactorial=function(){return 1},i.prototype.beforeProcess=function(){var e=this;return new Promise(function(n,i){var r=[];e.options.elements=[];var o=e.getElementSizeFactorial();e.setOption("factorial",o),t(".editor__content .editor__content__item").each(function(n,i){var a=e.getElement(t(i).attr("id"));if(0!=a){var s=null;try{s=a.getGravityData()}catch(i){return}if("fileId"in s){var l=e.files.getFile(s.fileId);s.server_filename=l.server_filename,e.options.elements.push(s)}if("text"==s.type){if(e.textUploader.uploader.start(),e.textUploader.uploader.addFile(a.getTextImage(o)),"transparent"!=s.background_color&&"transparent"!=a.backgroundColor){e.textUploader.uploader.addFile(a.getSquareImage(o));var c=a.getSquareData(s);e.textImagesPending.push(c.id),"NorthNorth"==s.gravity&&e.setOption("extra_north",s.extra_north),"SouthSouth"==s.gravity&&e.setOption("extra_south",s.extra_south),c.gravity=c.gravity.replace("NorthNorth","North").replace("SouthSouth","South"),e.options.elements.push(c)}if(""!=s.text){var u=a.getImageData(s);e.textImagesPending.push(u.id),u.gravity=u.gravity.replace("NorthNorth","North").replace("SouthSouth","South"),e.options.elements.push(u)}}else r.push(s)}});var a=window.setInterval(function(){0==e.textImagesPending.length&&(window.clearTimeout(a),n())},500)})},i.prototype.saveGravityTemp=function(){var e=this;1!=window.editorChanged&&null!=this.gravity||(this.gravity=[],t.each(e.elements,function(n,i){e.gravity.push(i.getGravityData()),t("#"+i.id).hide()}),window.editorChanged=!1)},i.prototype.setGravityTemp=function(){var e=this;t.each(e.elements,function(n,i){e.gravity&&e.gravity[n]&&i.applyGravity(e.gravity[n]),t("#"+i.id).show()})},i.prototype.checkProcessOnClick=function(){var e=this;t("#editor").on("click",function(){t(".editor__content .editor__content__item").length>0?e.enableProcessBtn():e.disableProcessBtn(u.Lang.t("Add an element"))})},i.prototype.fileAdded=function(t,n,i){return void 0===i&&(i=!1),"picktextwatermark"==n?(this.limits.addIgnoredFile(t.id),this.processManager.addIgnoredFile(t.id),this.files.updateFile(t.id,{ignored:!0}),new Promise(function(t,e){t()})):e.prototype.fileAdded.call(this,t,n,i)},i.prototype.fileUploaded=function(n,i){var r=this,o=this.files.updateFile(n,i);if(null!=o&&"upBy"in o&&"picktextwatermark"==o.upBy)for(var a=function(e){var n=r.textImagesPending[e]+"-w-"+r.textImagesPending[e]+".png",i=r.textImagesPending[e]+"-w-"+r.textImagesPending[e]+".png";if(n===o.name||i==o.name){var a=r.textImagesPending[e];return t.each(r.options.elements,function(t,e){if(e.id==a)return r.options.elements[t].server_filename=o.server_filename,!1}),r.textImagesPending.splice(e,1),"break"}},s=r.textImagesPending.length-1;s>=0;s--){if("break"===a(s))break}else e.prototype.fileUploaded.call(this,n,i)},i}(o.OptionsManager);e.EditorOptionsManager=d}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(){}return e.init=function(){var e=1==t("body").hasClass("rtl")?"left":"right";1!=window.toolbarStarted&&(window.toolbarStarted=!0,t(".editor__toolbar__options").hide(),t(".tool__workarea").on("scroll",function(){var n=t(this).scrollTop();n+t(this).innerHeight()>=t(this)[0].scrollHeight?t(".editor__toolbar").addClass("fixed").css("margin-"+e,t("#sidebar").width()+1+"px"):n<=16+t(".add").height()?t(".editor__toolbar").removeClass("fixed").css("margin-"+e,""):t(".editor__toolbar").addClass("fixed").css("margin-"+e,t("#sidebar").width()+1+"px")}),t(".editor__toolbar__options#fileSelectorToolbar").css("display","flex"))},e.refresh=function(){window.removeEventListener("resize",e.setToolbar),window.addEventListener("resize",e.setToolbar),e.setToolbar()},e.setToolbar=function(){var e=1==t("body").hasClass("rtl")?"left":"right";t(".editor__toolbar").addClass("fixed").css("margin-"+e,t("#sidebar").width()+1+"px")},e.show=function(e){t(".editor__toolbar__options").hide(),t(".editor__toolbar__options#"+e).css("display","flex")},e.hide=function(){t(".editor__toolbar__options").hide(),t(".editor__toolbar__options#fileSelectorToolbar").css("display","flex")},e}();e.Toolbar=n}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),r=n(227),o=n(133),a=n(12),s=n(25);n(107);var l=function(){function e(e){this.id=i.Tools.randomId(),this.draggable=!1,this.rotable=!1,this.resizable=!1,this.resizableAspectRatio=!1,this.type=null,this.imgSrc="/img/iloveimg.png",this.fileId=null,this.toolbar=null,this.text=null,this.rotation=0,this.rotationRadians=0,this.width="auto",this.height="auto",this.width_container="auto",this.height_container="auto",this.top=20,this.left=20,this.right=null,this.bottom=null,this.zoom=null,this.xPos=0,this.yPos=0,this.xZone=0,this.yZone=0,this.fontFamily="Arial",this.opacity=100,this.fontSize=48,this.fontColor="white",this.fontColorShadow="black",this.backgroundColor="transparent",this.textAlign="center",this.bold=!1,this.underline=!1,this.italic=!1,this.svg=null,this.onRotateEnd=null,this.onResizeEnd=null,this.onResizeStart=null,this.onDragEnd=null,this.limitToPixelate=null,this.restrict=!0,this.autoAlignOnZone=!1,this.textEnabled=!0,this.starting_number=null,this.allowAutoWidth=!1,this.disableMultilineText=!1,Object.assign(this,e),0==t("#"+this.id).length&&this.makeView(),null!=this.text&&t("#"+this.id+" .text").html(this.text),this.deleted=!1}return e.prototype.changed=function(){window.editorChanged=!0},e.prototype.makeView=function(){t("#"+this.type+"ToolbarTemplate").clone().attr("id",this.id+"Toolbar").appendTo(t(".editor__toolbar")),t("#"+this.type+"EditorTemplate").clone().attr("id",this.id).appendTo(t(".editor__content"));var e=t("#"+this.id),n=this;t("#"+this.id+"Toolbar").find('[id*="Template"]').each(function(e,i){t(i).attr("id",t(i).attr("id").replace("Template",n.id))}),e.find('[id*="Template"]').each(function(e,i){t(i).attr("id",t(i).attr("id").replace("Template",n.id))}),"image"==this.type&&(t("#"+this.id+" img").attr("src",this.imgSrc),e.data("file",this.fileId)),1==window.gifMode&&t(".opacity-option").hide(),this.changed()},e.prototype.getId=function(){return this.id},e.prototype.setId=function(e){t("#"+this.id).length>0&&t("#"+this.id).attr("id",e),this.id=e},e.prototype.initStyle=function(){var e=this,n={width:this.width,height:this.height,opacity:0};if(n.top=this.top,null==this.bottom?n.top=this.top||0:(n.bottom=this.bottom,n.top="auto"),null!=this.right&&(n.right=this.right),null!=this.left?n.left=this.left:null==this.right&&(n.left=0),"text"==this.type){n.width=this.width_container,n.height=this.height_container;var i={"font-family":this.fontFamily,"font-size":this.fontSize+"px","text-align":this.textAlign,width:this.width,height:this.height,color:this.fontColor,"text-shadow":this.fontColorShadow+" -1px 0px, "+this.fontColorShadow+" 0px 1px, "+this.fontColorShadow+" 1px 0px, "+this.fontColorShadow+" 0px -1px"};t("#"+this.id+" .text").css(i)}t("#"+this.id).css(n);var r=t("#"+this.id+"Toolbar"),o=t("#"+this.id);r.find('[name="font_size"]').val(this.fontSize),r.find('[name="font_size_number"]').val(this.fontSize);try{r.find('[name="font_family"]').val(this.fontFamily.toLowerCase()),r.find(".font-selected").html(this.fontFamily).css("font-family",this.fontFamily.toLowerCase())}catch(t){s.captureMessage("Error set font family"),s.configureScope(function(t){t.setExtra("fontFamily",e.fontFamily)})}r.find('[name="font_color"]').val(this.fontColor),r.find('[name="font_color_shadow"]').val(this.fontColorShadow),r.find('[name="background"]').val(this.backgroundColor),o.find(".editor__content__item__content").css({background:this.backgroundColor,opacity:this.opacity>1?parseInt(this.opacity.toString())/100:this.opacity}),o.css("opacity",1)},e.prototype.focusAndSelect=function(){if("text"==this.type&&this.textEnabled){var e=t("#"+this.id+" .text")[0];window.setTimeout(function(){var t,n;window.getSelection&&document.createRange?((n=document.createRange()).selectNodeContents(e),(t=window.getSelection()).removeAllRanges(),t.addRange(n)):document.body.createTextRange&&((n=document.body.createTextRange()).moveToElementText(e),n.select())},1)}},e.prototype.initElementActions=function(){t(".editor__content .editor__content__item").show(),"image"==this.type&&t("#"+this.id+" img").height()>t(".editor__content").height()&&(t("#"+this.id+" img").css("height",t(".editor__content").height()+"px"),t("#"+this.id+" .editor__content__item__content").css("width",t("#"+this.id+" img").css("width"))),t("#"+this.id+" .editor__content__item__content").css("opacity",1),1==this.rotable&&!0!==window.gifMode&&this.makeRotable(),1==this.draggable&&(this.makeDraggable(),this.adddDraggableKeyControl()),1==this.resizable&&this.makeResizable(),this.focusAndSelect()},e.prototype.initActions=function(){if(1!=window.editElementInit){window.editElementInit=!0;var e=this;t("body").on("mousedown",function(n){if(t(n.target).hasClass("text"))t(n.target).attr("contenteditable",e.textEnabled.toString());else if(t('[data-value="outside"]').length>0&&1==t('[data-value="outside"]').hasClass("option--active")){t("#elementTop, #elementBottom").draggable({disabled:!0});try{var i=t(".editor__content .editor__content__item").not("#elementTop, #elementBottom");i.draggable({disabled:!1}),i.find(".editor__content__item__content").resizable({disabled:!0})}catch(n){}}else try{t(".editor__content .editor__content__item").draggable({disabled:!1}),t(".editor__content .editor__content__item__content").resizable({disabled:!1})}catch(n){}}),t("body").click(function(n){var i=t(n.target).closest(".editor__content__item"),o=t(n.target).closest(".editor__toolbar__options");if(t(".editor__content .editor__content__item").removeClass("active"),t(n.target).hasClass("text")||t(".text").removeClass("active"),1==i.length&&1==e.textEnabled){i.addClass("active");var a=i.attr("id");r.Toolbar.show(a+"Toolbar")}else 1==o.length||r.Toolbar.hide();var s=t(n.target).closest(".editor__toolbar__option");if(1==s.length)if(t(n.target).is(".editor__option__selector")||1==t(n.target).parents(".editor__option__selector").length){var l=s.children(".editor__option__content");l.toggle(),t(".editor__option__content").not(l).hide()}else t(n.target).is(".editor__option__content")||1==t(n.target).parents(".editor__option__content").length||t(".editor__option__content").hide();else t(".editor__option__content").hide()})}},e.prototype.select=function(){var e=this;t("#"+e.id+"Toolbar").show(),setTimeout(function(){t("#"+e.id).trigger("click")},300)},e.prototype.widthWrap=function(){var e=t("#"+this.id),n=t("#"+this.id+" .editor__content__item__content"),i=t("#"+this.id+" .text");i.outerWidth()>e.width()&&(n.css("width",i.width()+"px"),e.css("width",i.width()+"px"))},e.prototype.autoWidth=function(){if(!0===this.allowAutoWidth){var e=t("#"+this.id),n=t("#"+this.id+" .editor__content__item__content"),i=t("#"+this.id+" .text"),r=i.outerWidth()-i.width(),a=o.TextHelper.width(n.html())+r;n.width()<a&&(this.width=a,this.width_container=a,n.css("width",a+"px"),e.css("width",a+"px"))}},e.prototype.initToolbarActions=function(){var e=this,n=t("#"+this.id+"Toolbar"),i=this,r=n.find('[name="font_size"]');r.on("keyup mouseup",function(e){i.fontSize=parseInt(r.val().toString()),t("#"+i.id+" .text").css("font-size",r.val()+"px"),n.find('[name="font_size_number"]').val(i.fontSize),i.widthWrap(),i.autoWidth(),i.changed()});var o=n.find('[name="font_size_number"]').on("keyup mouseup",function(e){parseInt(o.val().toString())>100&&o.val(100),i.fontSize=parseInt(o.val().toString()),n.find('[name="font_size"]').val(i.fontSize),t("#"+i.id+" .text").css("font-size",o.val()+"px"),i.widthWrap(),i.autoWidth(),i.changed()}),a=n.find(".font-selector");a.on("click",function(e){if(!t(e.target).hasClass("disabled")){i.fontFamily=t(e.target).data("value");var n=t(e.target).html();t(".font-selector").removeClass("active"),t(e.target).addClass("active"),t("#"+i.id+" .text").css("font-family",i.fontFamily),t("#"+i.id+"Toolbar .font-selected").css("font-family",i.fontFamily).html(n);var r=t(e.target).data("country");t("#"+i.id+"Toolbar .font-selected").attr("data-country",r),t(e.target).parent().hide(),1==t(e.target).data("italic")?(t(".editor__option.italic").parent().show(),t("#"+i.id+" .text").css("font-style",1==i.italic?"italic":"normal")):(t(".editor__option.italic").parent().hide(),t("#"+i.id+" .text").css("font-style","normal")),1==t(e.target).data("bold")?(t(".editor__option.bold").parent().show(),t("#"+i.id+" .text").css("font-weight",1==i.bold?"700":"400")):(t(".editor__option.bold").parent().hide(),t("#"+i.id+" .text").css("font-weight","")),i.changed()}});var s=n.find('[name="font_color"]');s.on("change",function(){i.fontColor=s.val().toString(),t("#"+i.id+" .text").css("color",s.val().toString()),i.changed()});var l=n.find('[name="font_color_shadow"]');l.on("change",function(){var e=l.val();i.fontColorShadow=l.val().toString(),t("#"+i.id+" .text").css("text-shadow","-1px 0 "+e+", 0 1px "+e+", 1px 0 "+e+", 0 -1px "+e),i.changed()}),n.find(".tofront").on("click",function(){t(".editor__content").append(t("#"+i.id)),i.changed()});var c=n.find(".bold");c.on("click",function(e){i.bold=!i.bold,1==i.bold?c.parent().addClass("active"):c.parent().removeClass("active"),t("#"+i.id+" .text").css("font-weight",1==i.bold?"700":"400"),i.changed()});var u=n.find(".underline");u.on("click",function(e){i.underline=!i.underline,1==i.underline?u.parent().addClass("active"):u.parent().removeClass("active"),t("#"+i.id+" .text").css("text-decoration",1==i.underline?"underline":"none"),i.changed()});var d=n.find(".italic");d.on("click",function(e){i.italic=!i.italic,1==i.italic?d.parent().addClass("active"):d.parent().removeClass("active"),t("#"+i.id+" .text").css("font-style",1==i.italic?"italic":"normal"),i.changed()});var p=n.find('input[name="background"]');p.on("change",function(n){var r=p.spectrum("get");r=0===r._a?"transparent":r.toHexString(),p.val(r),e.backgroundColor=r,t("#"+i.id+" .editor__content__item__content").css("background",r),i.changed()});var h=n.find('input[name="opacity"]');h.on("change keyup mouseup",function(e){i.opacity=parseInt(h.val().toString()),n.find('[name="opacity_text"]').val(i.opacity),t("#"+i.id+" .editor__content__item__content").css("opacity",parseInt(i.opacity.toString())/100),i.changed()});var f=n.find('input[name="opacity_text"]');f.on("change keyup mouseup",function(e){i.opacity=parseInt(f.val().toString()),n.find('[name="opacity"]').val(i.opacity),t("#"+i.id+" .editor__content__item__content").css("opacity",parseInt(i.opacity.toString())/100),i.changed()}),n.find(".drop").on("click",function(){t("#"+e.id+"Toolbar").remove(),t("#"+e.id).remove(),i.deleted=!0,i.changed()}),n.find(".textAlign").on("click",function(e){var n=t(e.target).closest(".editor__toolbar__option");t("#"+i.id+"Toolbar .textAlign").removeClass("active"),n.addClass("active");var r=n.data("align");t("#"+i.id+" .text").css("text-align",r),t("#"+i.id+" .editor__content__item__content").css("text-align",r),i.textAlign=r,i.changed()})},e.prototype.init=function(){t("#"+this.id+"Toolbar input.color").not("no-picker").each(function(t,e){i.Tools.colorpicker(e)}),this.initActions(),this.initElementActions(),this.initToolbarActions()},e.prototype.makeResizable=function(){var e=this;t("#"+this.id+" .editor__content__item__content").resizable({handles:"all",minHeight:1==t("#"+e.id+" .text").length?t("#"+e.id+" .text").innerHeight():10,maxWidth:1==e.restrict&&t("#"+e.id+".editor__content").width(),aspectRatio:e.resizableAspectRatio,containment:1==e.restrict&&t("#"+this.id+".editor__content"),resize:function(t,e){e.element.find("img").css({width:e.size.width,height:e.size.height})},start:function(n,i){if(1==t("#"+e.id+" .text").length){var r=t("#"+e.id+" .text").innerHeight();t("#"+e.id+" .editor__content__item__content").resizable("option","minHeight",r)}e.resizeStart(n,i)},stop:function(n,i){var r=t("#"+e.id+" .editor__content__item__content"),o=t("#"+e.id+".editor__content__item");o.css({width:i.size.width,left:parseInt(o.css("left"))+parseInt(r.css("left"))+"px",top:parseInt(o.css("top"))+parseInt(r.css("top"))+"px"}),r.css({left:0,top:0}),e.resizeEnd(n,i)},create:function(n,i){1==e.restrict&&t("#"+e.id+" .ui-resizable-handle").on("mousedown",function(){t("#"+e.id+" .editor__content__item__content").css({left:t("#"+e.id).css("left"),top:t("#"+e.id).css("top")}),t("#"+e.id).css({top:0,left:0,width:"100%"})}),t("#"+e.id+" .editor__content__item__content").css("width",t("#"+e.id+" .editor__content__item__content").width()+"px")}})},e.prototype.makeRotable=function(){var e=this,n=t("#"+this.id+" .editor__content__item__content");n.addClass("ui-rotatable"),n.rotatable({stop:function(t,n){e.rotateEnd(t,n)}})},e.prototype.makeDraggable=function(){var e=this,n=this;t("#"+this.id+".editor__content__item").draggable({scroll:!1,cancel:".ui-rotatable-handle",containment:1==n.restrict&&t(".editor__content"),drag:function(){t("#"+this.id+" .text").addClass("drag").removeClass("active")},stop:function(e,i){n.dragEnd(e,i),t("#"+this.id).css("bottom",""),n.changed()},beforeStart:function(){}});var i=t("#"+this.id+" .text");i.length>0&&(i.on("mouseup",function(e){var r=t("#"+n.id+" .text");if(0!=n.textEnabled){r.attr("contenteditable","true");var o=i.parent().parent();r.hasClass("drag")?(r.removeClass("drag"),o.draggable({disabled:!1})):(r.addClass("active").trigger("click"),o.draggable({disabled:!0}))}else r.attr("contenteditable","false")}),i.on("keyup",function(r){if(0!=n.textEnabled){if(1==n.disableMultilineText){var o=i.html(),s=n.clearMultilineText(i.html());o!=s&&i.html(s)}n.widthWrap(),n.autoWidth();var l=t("#infoCharacters");a.Lang.hasChineseCharacters(i.html())||a.Lang.hasJapanCharacters(i.html())?(l.show(),n.haveFontSelected("CN")||(t("#"+n.id+'Toolbar .font-selector[data-country*="CN"]').first().trigger("click"),n.disableNotFont("CN"))):a.Lang.hasHindiCharacters(i.html())?(l.show(),n.haveFontSelected("IN")||(t("#"+n.id+'Toolbar .font-selector[data-country*="IN"]').first().trigger("click"),n.disableNotFont("IN"))):a.Lang.hasArabicCharacters(i.html())?(l.show(),n.haveFontSelected("AR")||(t("#"+n.id+'Toolbar .font-selector[data-country*="AR"]').first().trigger("click"),n.disableNotFont("AR"))):(l.hide(),n.enbaleFont(),t("#"+n.id+"Toolbar .font-selected").removeClass("disabled")),t("#"+n.id+" .editor__content").hasClass("fixed")?t("#"+n.id+" .editor__content__item").height("auto"):t("#"+n.id+" .editor__content__item").height(Math.max(t("#"+e.id+" .editor__content__item").height(),i.height())),n.changed()}else t("#"+n.id+" .text").attr("contenteditable","false")}),i.on("focusout",function(){var t=i.html().replace(/(<span[^>]+>([^<]+)<\/span>)/g,"$2").replace("<b>","").replace("</b>","").replace("&nbsp;<","<").replace(">&nbsp;",">");i.html(t)}),i[0].addEventListener("paste",function(t){t.preventDefault();var e=t.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,e),n.changed()}))},e.prototype.haveFontSelected=function(e){return 1==t("#"+this.id+'Toolbar .font-selected[data-country*="'+e+'"]').length},e.prototype.enbaleFont=function(e){void 0===e&&(e=null),null!=e?t("#"+this.id+'Toolbar .font-selector[data-country*="'+e+'"]').removeClass("disabled"):t("#"+this.id+"Toolbar .font-selector").removeClass("disabled")},e.prototype.disableNotFont=function(e){var n=t("#"+this.id+"Toolbar .font-selector");n.removeClass("disabled"),n.not('[data-country="ALL"],[data-country*="'+e+'"]').addClass("disabled")},e.prototype.rotateEnd=function(t,e){this.rotationRadians=e.angle.current,e.angle.current<0?this.rotation=360-e.angle.degrees:this.rotation=e.angle.degrees,null!=this.onRotateEnd&&this.onRotateEnd(t,e),this.changed()},e.prototype.resizeEnd=function(t,e){this.zoom=e.size.width*this.zoom/e.originalSize.width,this.setElementPosition(),null!=this.onResizeEnd&&this.onResizeEnd(t,e,this),this.changed()},e.prototype.resizeStart=function(t,e){null==this.zoom&&(this.zoom=1),null!=this.onResizeStart&&this.onResizeStart(t,e)},e.prototype.dragEnd=function(t,e){this.setElementPosition(),null!=this.onDragEnd&&this.onDragEnd(t,e,this),this.changed()},e.prototype.setElementPosition=function(){var e=t("#"+this.id+".editor__content__item");if(e){var n=e.width(),i=e.height(),r=parseInt(e.css("left")),o=parseInt(e.css("top"));if(e.position()){isNaN(r)&&(r=e.position().left),isNaN(o)&&(o=e.position().top),this.top=o,this.left=r;var a=t(".editor__content").width(),s=t(".editor__content").height(),l=(r+n/2)/(a/3),c=(o+i/2)/(s/3);l=l<1?0:l<2?1:2,c=c<1?0:c<2?1:2,this.xZone=l,this.yZone=c,1==this.autoAlignOnZone&&(0==this.xZone?(this.textAlign="left",t("#"+this.id+" .text").css("text-align","left")):1==this.xZone?(this.textAlign="center",t("#"+this.id+" .text").css("text-align","center")):2==this.xZone&&(this.textAlign="right",t("#"+this.id+" .text").css("text-align","right")));var u=t("#file"),d=100*r/u.width(),p=100*o/u.height();this.xPos=d,this.yPos=p}}},e.prototype.getData=function(){this.setElementPosition();var e=t("#file").width(),n=t(".editor__content").height();if(1==this.deleted)return null;this.width=t("#"+this.id+" .editor__content__item__content>*").width(),this.height=t("#"+this.id+" .editor__content__item__content>*").height();var i={id:this.id,width_percent:100*this.width/e,height_percent:100*this.height/n,width_px:this.width,height_px:this.height,y_pos_percent:this.yPos,x_pos_percent:this.xPos,opacity:this.opacity,transparency:this.opacity,top:this.top,left:this.left,type:this.type,rotation:!0===window.gifMode?0:this.rotation,image_w:e,image_h:n};if("image"==this.type){var r={zoom:null==this.zoom?1:this.zoom,fileId:this.fileId};Object.assign(i,r)}if("text"==this.type){parseInt(t("#"+this.id+" .text").css("font-size"));this.width_container=t("#"+this.id).width(),this.height_container=t("#"+this.id).height(),this.width=t("#"+this.id+" .editor__content__item__content .text").width(),this.height=t("#"+this.id+" .editor__content__item__content .text").height(),this.width_px=this.width,this.height_px=this.height;var o=(this.width_container-this.width)/2,a=(this.height_container-this.height)/2;isNaN(o)&&(o=0),isNaN(a)&&(a=0);var s=i.top+a,l=i.left+o,c=t("#"+this.id+" .text").html();c=this.clearMultilineText(c),t("#"+this.id+" .text").html(c),this.setLineBreak("#"+this.id+" .text"),c=(c=t("#"+this.id+" .text").html()).replace(/<br>/g,"\\n").replace(/\&nbsp;/g," ").replace(/<\/?[^>]+(>|$)/g,"");var u={top_container:i.top,left_container:i.left,top:s,left:l,text:c,font_family:this.fontFamily,font_color:this.fontColor,border_color:this.fontColorShadow,border:1,font_color_shadow:this.fontColorShadow,background_color:this.backgroundColor,font_size:this.fontSize,bold:this.bold,underline:this.underline,italic:this.italic,text_align:this.textAlign,width_container_px:this.width_container,height_container_px:this.height_container,width_container_percent:100*this.width_container/e,height_container_percent:100*this.height_container/n,y_pos_container_percent:i.y_pos_percent+0,x_pos_container_percent:i.x_pos_percent+0,y_pos_percent:100*s/t("#file").height(),x_pos_percent:100*l/t("#file").width()};Object.assign(i,u)}return i},e.prototype.clearMultilineText=function(t){return t=1==this.disableMultilineText?t.replace("<br>"," ").replace(/\n/g," ").replace(/<div>/g," ").replace(/<\/div>/g,"").replace(/\&nbsp;/g," "):t.replace(/<div>/g,"<br>").replace(/<\/div>/g,"").replace(/\&nbsp;/g," ")},e.prototype.getGravityData=function(){var e={gravity:"",vertical_adjustment:0,horizontal_adjustment:0};switch(this.getData(),Object.assign(e,this.getData()),e.gravity="",this.yZone){case 0:e.gravity+="North",e.vertical_adjustment=e.top;break;case 1:e.vertical_adjustment=e.top+e.height_px/2-e.image_h/2;break;case 2:e.gravity+="South",e.vertical_adjustment=e.image_h-(e.top+e.height_px)}switch(this.xZone){case 0:e.gravity+="West",e.horizontal_adjustment=e.left;break;case 1:e.horizontal_adjustment=e.left+e.width_px/2-e.image_w/2;break;case 2:e.gravity+="East",e.horizontal_adjustment=e.image_w-(e.left+e.width_px)}if(1==this.xZone&&1==this.yZone&&(e.gravity="Center"),"text"==e.type){switch(this.yZone){case 0:e.vertical_adjustment_container=e.top_container,e.vertical_adjustment=e.top;break;case 1:e.vertical_adjustment_container=e.top_container+e.height_container_px/2-e.image_h/2,e.vertical_adjustment=e.top+e.height_px/2-e.image_h/2;break;case 2:e.vertical_adjustment_container=e.image_h-(e.top_container+e.height_container_px),e.vertical_adjustment=e.image_h-(e.top+e.height_px)}switch(this.xZone){case 0:e.horizontal_adjustment_container=e.left_container,e.horizontal_adjustment=e.left;break;case 1:e.horizontal_adjustment_container=e.left_container+e.width_container_px/2-e.image_w/2,e.horizontal_adjustment=e.left+e.width_px/2-e.image_w/2;break;case 2:e.horizontal_adjustment_container=e.image_w-(e.left_container+e.width_container_px),e.horizontal_adjustment=e.image_w-(e.left+e.width_px)}e.vertical_adjustment_container_percent=100*e.vertical_adjustment_container/t("#file").height(),e.horizontal_adjustment_container_percent=100*e.horizontal_adjustment_container/t("#file").width()}return e.vertical_adjustment_percent=100*e.vertical_adjustment/t("#file").height(),e.horizontal_adjustment_percent=100*e.horizontal_adjustment/t("#file").width(),e.xZone=this.xZone,e.yZone=this.yZone,e.pixelMode=1,e=this.memeModGravity(e),null!=this.starting_number&&(e.starting_number=this.starting_number),e},e.prototype.memeModGravity=function(e){return"outside"==t(".option--active").data("value")&&("elementTop"==this.id?e.gravity="NorthNorth":"elementBottom"==this.id&&(e.gravity="SouthSouth"),"NorthNorth"!=e.gravity&&"SouthSouth"!=e.gravity||"transparent"==e.background_color&&(e.background_color="white",this.backgroundColor="white"),"NorthNorth"==e.gravity&&(e.extra_north=100*t("#"+this.id).height()/t("#file").height()),"SouthSouth"==e.gravity&&(e.extra_south=100*t("#"+this.id).height()/t("#file").height())),e},e.setPreviewZones=function(){t(".editor__content").append('<div class="zones"></div>');for(var e=0;e<3;e++)for(var n=0;n<3;n++)t(".editor__content .zones").append('<div class="zones__zone'+e+n+'"></div>')},e.prototype.adddDraggableKeyControl=function(){!0!==window.dragKeyAdded&&(window.dragKeyAdded=!0,t("body").on("keydown",function(e){if(t(".text.active").length>0)return!0;var n,i=t(".editor__content .editor__content__item.ui-draggable.active"),r=t(".editor__content .editor__content"),o=1;e.shiftKey&&(o=10);n=i.position();try{switch(e.keyCode){case 37:n.left-=o;break;case 38:n.top-=o;break;case 39:n.left+=o;break;case 40:n.top+=o;break;default:return!0}n.left>=0&&n.top>=0&&n.left+i.width()<=r.width()&&n.top+i.height()<=r.height()&&i.css(n)}catch(e){}e.target.isContentEditable||e.preventDefault()}))},e.prototype.getRotationAdjust=function(t,e){var n=Math.abs(t),i=e;return{w:i.w*Math.cos(n)+i.h*Math.sin(n),h:i.w*Math.sin(n)+i.h*Math.cos(n)}},e.setGifMode=function(){window.gifMode=!0,t(".opacity-option").hide(),t(".opacity-option input").val(100).change(),t(".editor__content__item__content").css("transform",""),t(".ui-rotatable-handle").hide()},e.prototype.applyGravity=function(e){this.opacity=e.opacity,this.rotation=e.rotation;var n=t("#file"),i=n.width(),r=n.height(),o=e.horizontal_adjustment,a=e.vertical_adjustment,s=e.width_px,l=e.height_px;switch("text"==e.type&&(o=e.horizontal_adjustment_container,a=e.vertical_adjustment_container,s=e.width_container_px,l=e.height_container_px),this.yZone){case 0:this.top=a;break;case 1:this.top=r/2+a-l/2;break;case 2:this.top=r-a-l}switch(this.xZone){case 0:this.left=o;break;case 1:this.left=i/2+o-s/2;break;case 2:this.left=i-o-s}this.initStyle()},e.prototype.setLineBreak=function(e){var n=t(e);return RegExp.escape=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},n.each(function(){var e=t(this),n=e.html(),i=n.split(" ");e.html(i[0]);for(var r=e.height(),o=1;o<i.length;o++)e.height()>r?(r=e.height(),e.html(e.html().replace(new RegExp("\\s"+RegExp.escape(i[o-1])+"$"),"<br>"+i[o-1])+" "+i[o])):(e.html(e.html()+" "+i[o]),-1!=i[o].indexOf("<br>")&&(r=e.height()));e.height()>r&&e.html(e.html().replace(new RegExp("\\s"+RegExp.escape(i[i.length-1])+"$"),"<br>"+i[i.length-1])),n=e.html()}),""},e.prototype.cloneStyle=function(t){this.rotation=t.rotation,this.rotationRadians=t.rotationRadians,this.width=t.width,this.height=t.height,this.width_container=t.width_container,this.height_container=t.height_container,this.top=parseInt(t.top.toString())+100,this.left=parseInt(t.left.toString())+100,this.right=null,this.bottom=null,this.zoom=t.zoom,this.xPos=t.xPos,this.yPos=t.yPos,this.xZone=0,this.yZone=0,this.fontFamily=t.fontFamily,this.opacity=t.opacity,this.fontSize=t.fontSize,this.fontColor=t.fontColor,this.fontColorShadow=t.fontColorShadow,this.backgroundColor=t.backgroundColor,this.textAlign=t.textAlign,this.bold=t.bold,this.underline=t.underline,this.italic=t.italic},e.prototype.getImageData=function(t){var e={id:this.id,type:"image",gravity:t.gravity,height_percent:t.height_percent,height_px:t.height_px,horizontal_adjustment:t.horizontal_adjustment,horizontal_adjustment_percent:t.horizontal_adjustment_percent,left:t.left,top:t.top,opacity:t.opacity,rotation:t.rotation,vertical_adjustment:t.vertical_adjustment,vertical_adjustment_percent:t.vertical_adjustment_percent,width_percent:t.width_percent,width_px:t.width_px,x_pos_percent:t.x_pos_percent,y_pos_percent:t.y_pos_percent,pixel_mode:1,color_shadow:t.font_color_shadow,zoom:1};return this.adjustRotation(e)},e.prototype.getSquareData=function(t){var e={id:this.id+"f",type:"image",gravity:t.gravity,height_percent:t.height_container_percent,height_px:t.height_container_px,horizontal_adjustment:t.horizontal_adjustment_container,horizontal_adjustment_percent:t.horizontal_adjustment_container_percent,left:t.left_container,top:t.top_container,opacity:t.opacity,rotation:t.rotation,vertical_adjustment:t.vertical_adjustment_container,vertical_adjustment_percent:t.vertical_adjustment_container_percent,width_percent:t.width_container_percent,width_px:t.width_container_px,x_pos_percent:t.x_pos_container_percent,y_pos_percent:t.y_pos_container_percent,pixel_mode:1,zoom:1};return this.adjustRotation(e)},e.prototype.getTextImage=function(e){if(void 0===e&&(e=1),"text"!=this.type)return null;var n=!!navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i);var i=t("#"+this.id+" .text"),r=t("<p>"+i.html().replace(/\n/g,"").replace(/<br>/g,"\n").replace(/<div/g,"\n<div")+"</p>").text().replace(/\n/g," <br> "),o=i.width()*e,a=i.height()*e,s=(parseInt(i.css("font-size")),document.createElement("canvas"));s.width=o,s.height=a;var l=s.getContext("2d"),c=o,u=parseInt(i.css("line-height"))*e,d=this.fontSize*e;return l.font=(parseInt(i.css("font-size"))-1)*e+"px "+this.fontFamily,l.fillStyle=this.fontColor,l.strokeStyle=this.fontColorShadow,l.lineWidth=(n?3.5:3)*e,l.textAlign=this.textAlign,function(t,e,n,i,r,o,a){n=parseInt(n),i=parseInt(i),r=parseInt(r),o=parseInt(o);for(var s=e.split(" "),l="",c=0;c<s.length;c++)if("<br>"!=s[c]){var u=""==l?s[c]:l+" "+s[c];t.measureText(u).width>r&&c>0?("center"==a?t.fillText(l,r/2,i):"right"==a?t.fillText(l,r,i):t.fillText(l,n,i),l=s[c],i+=o):l=u}else"center"==a?t.fillText(l,r/2,i):"right"==a?t.fillText(l,r,i):t.fillText(l,n,i),l="",i+=o;"center"==a?t.fillText(l,r/2,i):"right"==a?t.fillText(l,r,i):t.fillText(l,n,i)}(l,r,2,d,c,u,this.textAlign),this.dataURLtoFile(s.toDataURL(),this.id+"-w-"+this.id+".png")},e.prototype.getSquareImage=function(e){if("transparent"==this.backgroundColor)throw"invalid background "+this.backgroundColor;var n=t("#"+this.id),i=n.width(),r=n.height(),o=document.createElement("canvas");o.width=i,o.height=r;var a=o.getContext("2d");return a.fillStyle=this.backgroundColor,a.fillRect(0,0,i,r),this.dataURLtoFile(o.toDataURL(),this.id+"f-w-"+this.id+"f.png")},e.prototype.dataURLtoFile=function(t,e){try{for(var n=t.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],e,{type:i})}catch(t){return null}},e.prototype.adjustRotation=function(e){if(0!=this.rotation){var n=this.getRotationAdjust(this.rotationRadians,{h:e.height_px,w:e.width_px});e.left=e.left-(n.w-e.width_px)/2,e.top=e.top-(n.h-e.height_px)/2,e.y_pos_percent=100*e.top/t("#file").height(),e.x_pos_percent=100*e.left/t("#file").width()}return e},e}();e.EditElement=l}).call(this,n(1))},,,,,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(34),r=n(50),o=n(26),a=n(12),s=n(25),l=n(222),c=n(47),u=n(14),d=function(){function e(t){void 0===t&&(t={}),this.base="",this.assets="",this.lang={},this.editorReady=!1,this.tool="editimage",Object.assign(this,t),this.pixie=null,this.eventSent=!1,this.init()}return e.prototype.init=function(){this.initUploader(),this.loadScriptAndCss(),this.dragDrop(),this.beforeInit(),t("#pickfiles").removeClass("tooltip"),t("#pickfiles")&&t("#pickfiles")[0]._tippy&&t("#pickfiles")[0]._tippy.disable()},e.prototype.beforeInit=function(){var e=this,n=this;return new Promise(function(i,r){if(null!=n.parentId){o.Tools.loadingFromPreviousStart(),window.ga("send","event","tool","chained",e.tool+"-"+e.parentTool);var a=new l.Chain({parentId:n.parentId,workerServer:n.workerServer,tool:n.tool,token:n.token});a.makeChild().then(function(t){for(var e in t.files)if(t.files.hasOwnProperty(e)){var i=o.Tools.randomId();new c.File({id:i,canvasId:i,filename:t.files[e],name:t.files[e],server_filename:e,url:a.getFileUrl(t.task,e),loaded:100,percent:100,runtime:"html5"});n.startEditor(a.getFileUrl(t.task,e))}},function(){s.configureScope(function(t){t.setExtra("parent_id",n.parentId),t.setExtra("tool",n.tool)}),s.captureMessage("Error on child creation",u.Severity.Error),o.Tools.loadingFromPreviousFail(),t("#closePrevious").on("click",function(){o.Tools.loadingFromPreviousEnd(),i()})})}else i()})},e.prototype.preventPageExit=function(){window.onbeforeunload=function(){return a.Lang.t("leaveAlert")}},e.prototype.fileAdded=function(t,e,n){void 0===n&&(n=!1);var i=this;return new Promise(function(e,n){i.startEditor(t.url),e()})},e.prototype.initUploader=function(){var e=this;function n(){var n,i=t("#fileUpload")[0];if(i.files&&i.files[0]){try{n=(window.URL||window.webkitURL).createObjectURL(i.files[0])}catch(t){return null}var r=new Image;r.onload=function(){window.fabric&&(r.width>2*window.fabric.textureSize||r.height>2*window.fabric.textureSize)?window.Toastr.error(a.Lang.t(a.Lang.t("FileTooLarge")),a.Lang.t("Wops"),{timeOut:5e3,positionClass:"toast-top-left"}):function(){var n=t("#fileUpload")[0];if(n.files&&n.files[0]){var i=new FileReader;i.onload=function(t){e.startEditor(t.target.result)},i.readAsDataURL(n.files[0])}}()},r.src=n}}t("#fileUpload").hide(),t("#pickfiles").addClass("active"),document.getElementById("pickfiles").onclick=function(){document.getElementById("fileUpload").click()},t("#fileUpload").change(function(){n()})},e.prototype.startEditor=function(e){t(".tool__workarea").hide();var n=this,i=setInterval(function(){null!=window.Pixie&&(n.pixie=new window.Pixie({image:e,languages:{active:"custom",custom:{custom:n.lang}},urls:{base:n.base,assets:n.assets},onLoad:function(){n.addFiletype()}}),window.fabric&&window.fabric.enableGLFiltering&&window.fabric.isWebglSupported&&window.fabric.isWebglSupported(4096)&&(window.fabric.textureSize=4096),clearInterval(i))},50)},e.prototype.addFiletype=function(){var e=this;t("toolbar").append(this.fileFormatView()),t("#saveJpg").hide(),t(".format").on("click",function(e){t(e.target).hasClass("format__item")||t(".format__select").show()}),t(".format__item").on("click",function(n){var i=t(n.target).html();t("#format").html(i),t(".format__select").hide(),e.pixie.setConfig("tools.export.defaultFormat",i),t(".export-button").hide(),t("#save"+i[0].toUpperCase()+i.substring(1)).show()}),t(".export-button").on("click",function(){0==e.eventSent&&(e.eventSent=!0,window.ga("send","event","user","process","editimage"))}),t("body").click(function(e){var n=t(e.target);n.hasClass("format__item")||n.hasClass("format")||n.hasClass("formatType")||t(".format__select").hide()})},e.prototype.loadScriptAndCss=function(){var t=this;return new Promise(function(e,n){if(null===window.Pixie||void 0!==window.Pixie)return e(!0);r.lazyloadCss("/editor/styles.css"),i.lazyload("/editor/runtime.js"),i.lazyload("/editor/polyfills.js"),i.lazyload("/editor/main.js");var o=window.setInterval(function(){if(null!==window.Pixie&&"function"==typeof window.Pixie)return clearInterval(o),t.editorReady=!0,window.fabric&&window.fabric.enableGLFiltering&&window.fabric.isWebglSupported&&window.fabric.isWebglSupported(4096)&&(window.fabric.textureSize=4096),e(!0)},100)})},e.prototype.fileFormatView=function(){return'<div class="format">'+a.Lang.t("Save")+' <span class="formatType" id="format">png</span><div class="format__select"><div class="format__item active">png</div><div class="format__item">jpg</div></div></div>'},e.prototype.dragDrop=function(){var e=document.getElementById("workArea"),n=(document.getElementById("dropArea"),this);e.addEventListener("dragenter",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy";var n=e.dataTransfer;n.types&&(n.types.indexOf?-1!=n.types.indexOf("Files"):n.types.contains("Files"))&&(t("#dropArea").text(a.Lang.t("dropIt")),t("#dropArea").show())},!1),e.addEventListener("dragleave",function(e){e.stopPropagation(),e.preventDefault(),t(e.target).is("#dropArea")&&t("#dropArea").hide()},!1),e.addEventListener("dragover",function(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"},!1),e.addEventListener("drop",function(e){e.stopPropagation(),e.preventDefault(),t("#dropArea").hide();var i=e.dataTransfer;if(i&&i.types&&(i.types.indexOf?-1!=i.types.indexOf("Files"):i.types.contains("Files"))){var r=e.dataTransfer.files;if(r[0].type.match(/image.*/)){var o=new FileReader;o.onload=function(t){n.startEditor(t.target.result)},o.readAsDataURL(r[0])}}return!1})},e}();e.EditImageOptionsManager=d}).call(this,n(1))},function(t,e,n){var i,r;!function(o){"use strict";void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,i,r,o,a,s,l,c,u,d,p,h,f,g,m,v,y,_,b,w={},S=/\s+/g,E=/left|right|inline/,x="Sortable"+(new Date).getTime(),k=window,T=k.document,C=k.parseInt,P=k.setTimeout,O=k.jQuery||k.Zepto,I=k.Polymer,A=!1,M="draggable"in T.createElement("div"),L=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((b=T.createElement("x")).style.cssText="pointer-events:auto","auto"===b.style.pointerEvents),D=!1,R=Math.abs,N=Math.min,j=[],F=[],B=it(function(t,e,n){if(n&&e.scroll){var i,r,o,a,u,d,p=n[x],h=e.scrollSensitivity,f=e.scrollSpeed,g=t.clientX,m=t.clientY,v=window.innerWidth,y=window.innerHeight;if(l!==n&&(s=e.scroll,l=n,c=e.scrollFn,!0===s)){s=n;do{if(s.offsetWidth<s.scrollWidth||s.offsetHeight<s.scrollHeight)break}while(s=s.parentNode)}s&&(i=s,r=s.getBoundingClientRect(),o=(R(r.right-g)<=h)-(R(r.left-g)<=h),a=(R(r.bottom-m)<=h)-(R(r.top-m)<=h)),o||a||(a=(y-m<=h)-(m<=h),((o=(v-g<=h)-(g<=h))||a)&&(i=k)),w.vx===o&&w.vy===a&&w.el===i||(w.el=i,w.vx=o,w.vy=a,clearInterval(w.pid),i&&(w.pid=setInterval(function(){if(d=a?a*f:0,u=o?o*f:0,"function"==typeof c)return c.call(p,u,d,t);i===k?k.scrollTo(k.pageXOffset+u,k.pageYOffset+d):(i.scrollTop+=d,i.scrollLeft+=u)},24)))}},30),U=function(t){function e(t,e){return void 0!==t&&!0!==t||(t=n.name),"function"==typeof t?t:function(n,i){var r=i.options.group.name;return e?t:t&&(t.join?t.indexOf(r)>-1:r==t)}}var n={},i=t.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){A={capture:!1,passive:!1}}}))}catch(t){}function z(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=rt({},e),t[x]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==z.supportPointer};for(var i in n)!(i in e)&&(e[i]=n[i]);for(var r in U(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&M,V(t,"mousedown",this._onTapStart),V(t,"touchstart",this._onTapStart),e.supportPointer&&V(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(t,"dragover",this),V(t,"dragenter",this)),F.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function H(e,n){"clone"!==e.lastPullMode&&(n=!0),i&&i.state!==n&&(X(i,"display",n?"none":""),n||i.state&&(e.options.group.revertClone?(r.insertBefore(i,o),e._animate(t,i)):r.insertBefore(i,t)),i.state=n)}function q(t,e,n){if(t){n=n||T;do{if(">*"===e&&t.parentNode===n||nt(t,e))return t}while(t=W(t))}return null}function W(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function V(t,e,n){t.addEventListener(e,n,A)}function G(t,e,n){t.removeEventListener(e,n,A)}function Y(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(S," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(S," ")}}function X(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return T.defaultView&&T.defaultView.getComputedStyle?n=T.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function Q(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function K(t,e,n,r,o,a,s,l){t=t||e[x];var c=T.createEvent("Event"),u=t.options,d="on"+n.charAt(0).toUpperCase()+n.substr(1);c.initEvent(n,!0,!0),c.to=o||e,c.from=a||e,c.item=r||e,c.clone=i,c.oldIndex=s,c.newIndex=l,e.dispatchEvent(c),u[d]&&u[d].call(t,c)}function Z(t,e,n,i,r,o,a,s){var l,c,u=t[x],d=u.options.onMove;return(l=T.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=o||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function $(t){t.draggable=!1}function J(){D=!1}function tt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function et(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!nt(t,e)||n++;return n}function nt(t,e){if(t){var n=(e=e.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(i)||[]).length!=e.length)}return!1}function it(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,P(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}function rt(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ot(t){return I&&I.dom?I.dom(t).cloneNode(!0):O?O(t).clone(!0)[0]:t.cloneNode(!0)}function at(t){return P(t,0)}function st(t){return clearTimeout(t)}return z.prototype={constructor:z,_onTapStart:function(e){var n,i=this,r=this.el,o=this.options,s=o.preventOnFilter,l=e.type,c=e.touches&&e.touches[0],u=(c||e).target,d=e.target.shadowRoot&&e.path&&e.path[0]||u,p=o.filter;if(function(t){var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&j.push(i)}}(r),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||o.disabled)&&!d.isContentEditable&&(u=q(u,o.draggable,r))&&a!==u){if(n=et(u,o.draggable),"function"==typeof p){if(p.call(this,e,u,this))return K(i,d,"filter",u,r,r,n),void(s&&e.preventDefault())}else if(p&&(p=p.split(",").some(function(t){if(t=q(d,t.trim(),r))return K(i,t,"filter",u,r,r,n),!0})))return void(s&&e.preventDefault());o.handle&&!q(d,o.handle,r)||this._prepareDragStart(e,c,u,n)}},_prepareDragStart:function(n,i,s,l){var c,u=this,d=u.el,p=u.options,f=d.ownerDocument;s&&!t&&s.parentNode===d&&(v=n,r=d,e=(t=s).parentNode,o=t.nextSibling,a=s,g=p.group,h=l,this._lastX=(i||n).clientX,this._lastY=(i||n).clientY,t.style["will-change"]="all",c=function(){u._disableDelayedDrag(),t.draggable=u.nativeDraggable,Y(t,p.chosenClass,!0),u._triggerDragStart(n,i),K(u,r,"choose",t,r,r,h)},p.ignore.split(",").forEach(function(e){Q(t,e.trim(),$)}),V(f,"mouseup",u._onDrop),V(f,"touchend",u._onDrop),V(f,"touchcancel",u._onDrop),V(f,"selectstart",u),p.supportPointer&&V(f,"pointercancel",u._onDrop),p.delay?(V(f,"mouseup",u._disableDelayedDrag),V(f,"touchend",u._disableDelayedDrag),V(f,"touchcancel",u._disableDelayedDrag),V(f,"mousemove",u._disableDelayedDrag),V(f,"touchmove",u._disableDelayedDrag),p.supportPointer&&V(f,"pointermove",u._disableDelayedDrag),u._dragStartTimer=P(c,p.delay)):c())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),G(t,"mouseup",this._disableDelayedDrag),G(t,"touchend",this._disableDelayedDrag),G(t,"touchcancel",this._disableDelayedDrag),G(t,"mousemove",this._disableDelayedDrag),G(t,"touchmove",this._disableDelayedDrag),G(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,n){(n=n||("touch"==e.pointerType?e:null))?(v={target:t,clientX:n.clientX,clientY:n.clientY},this._onDragStart(v,"touch")):this.nativeDraggable?(V(t,"dragend",this),V(r,"dragstart",this._onDragStart)):this._onDragStart(v,!0);try{T.selection?at(function(){T.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(r&&t){var e=this.options;Y(t,e.ghostClass,!0),Y(t,e.dragClass,!1),z.active=this,K(this,r,"start",t,r,r,h)}else this._nulling()},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX,this._lastY=y.clientY,L||X(n,"display","none");var t=T.elementFromPoint(y.clientX,y.clientY),e=t,i=F.length;if(t&&t.shadowRoot&&(e=t=t.shadowRoot.elementFromPoint(y.clientX,y.clientY)),e)do{if(e[x]){for(;i--;)F[i]({clientX:y.clientX,clientY:y.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);L||X(n,"display","")}},_onTouchMove:function(t){if(v){var e=this.options,i=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,a=o.clientX-v.clientX+r.x,s=o.clientY-v.clientY+r.y,l=t.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!z.active){if(i&&N(R(o.clientX-this._lastX),R(o.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),_=!0,y=o,X(n,"webkitTransform",l),X(n,"mozTransform",l),X(n,"msTransform",l),X(n,"transform",l),t.preventDefault()}},_appendGhost:function(){if(!n){var e,i=t.getBoundingClientRect(),o=X(t),a=this.options;Y(n=t.cloneNode(!0),a.ghostClass,!1),Y(n,a.fallbackClass,!0),Y(n,a.dragClass,!0),X(n,"top",i.top-C(o.marginTop,10)),X(n,"left",i.left-C(o.marginLeft,10)),X(n,"width",i.width),X(n,"height",i.height),X(n,"opacity","0.8"),X(n,"position","fixed"),X(n,"zIndex","100000"),X(n,"pointerEvents","none"),a.fallbackOnBody&&T.body.appendChild(n)||r.appendChild(n),e=n.getBoundingClientRect(),X(n,"width",2*i.width-e.width),X(n,"height",2*i.height-e.height)}},_onDragStart:function(e,n){var o=this,a=e.dataTransfer,s=o.options;o._offUpEvents(),g.checkPull(o,o,t,e)&&((i=ot(t)).draggable=!1,i.style["will-change"]="",X(i,"display","none"),Y(i,o.options.chosenClass,!1),o._cloneId=at(function(){r.insertBefore(i,t),K(o,r,"clone",t)})),Y(t,s.dragClass,!0),n?("touch"===n?(V(T,"touchmove",o._onTouchMove),V(T,"touchend",o._onDrop),V(T,"touchcancel",o._onDrop),s.supportPointer&&(V(T,"pointermove",o._onTouchMove),V(T,"pointerup",o._onDrop))):(V(T,"mousemove",o._onTouchMove),V(T,"mouseup",o._onDrop)),o._loopId=setInterval(o._emulateDragOver,50)):(a&&(a.effectAllowed="move",s.setData&&s.setData.call(o,a,t)),V(T,"drop",o),o._dragStartId=at(o._dragStarted))},_onDragOver:function(a){var s,l,c,h,f=this.el,v=this.options,y=v.group,b=z.active,w=g===y,S=!1,k=v.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!v.dragoverBubble&&a.stopPropagation()),!t.animated&&(_=!0,b&&!v.disabled&&(w?k||(h=!r.contains(t)):m===this||(b.lastPullMode=g.checkPull(this,b,t,a))&&y.checkPut(this,b,t,a))&&(void 0===a.rootEl||a.rootEl===this.el))){if(B(a,v,this.el),D)return;if(s=q(a.target,v.draggable,f),l=t.getBoundingClientRect(),m!==this&&(m=this,S=!0),h)return H(b,!0),e=r,void(i||o?r.insertBefore(t,i||o):k||r.appendChild(t));if(0===f.children.length||f.children[0]===n||f===a.target&&function(t,e){var n=t.lastElementChild.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}(f,a)){if(0!==f.children.length&&f.children[0]!==n&&f===a.target&&(s=f.lastElementChild),s){if(s.animated)return;c=s.getBoundingClientRect()}H(b,w),!1!==Z(r,f,t,l,s,c,a)&&(t.contains(f)||(f.appendChild(t),e=f),this._animate(l,t),s&&this._animate(c,s))}else if(s&&!s.animated&&s!==t&&void 0!==s.parentNode[x]){u!==s&&(u=s,d=X(s),p=X(s.parentNode));var T=(c=s.getBoundingClientRect()).right-c.left,C=c.bottom-c.top,O=E.test(d.cssFloat+d.display)||"flex"==p.display&&0===p["flex-direction"].indexOf("row"),I=s.offsetWidth>t.offsetWidth,A=s.offsetHeight>t.offsetHeight,M=(O?(a.clientX-c.left)/T:(a.clientY-c.top)/C)>.5,L=s.nextElementSibling,R=!1;if(O){var N=t.offsetTop,j=s.offsetTop;R=N===j?s.previousElementSibling===t&&!I||M&&I:s.previousElementSibling===t||t.previousElementSibling===s?(a.clientY-c.top)/C>.5:j>N}else S||(R=L!==t&&!A||M&&A);var F=Z(r,f,t,l,s,c,a,R);!1!==F&&(1!==F&&-1!==F||(R=1===F),D=!0,P(J,30),H(b,w),t.contains(f)||(R&&!L?f.appendChild(t):s.parentNode.insertBefore(t,R?L:s)),e=t.parentNode,this._animate(l,t),this._animate(c,s))}}},_animate:function(t,e){var n=this.options.animation;if(n){var i=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),X(e,"transition","none"),X(e,"transform","translate3d("+(t.left-i.left)+"px,"+(t.top-i.top)+"px,0)"),e.offsetWidth,X(e,"transition","all "+n+"ms"),X(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=P(function(){X(e,"transition",""),X(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;G(T,"touchmove",this._onTouchMove),G(T,"pointermove",this._onTouchMove),G(t,"mouseup",this._onDrop),G(t,"touchend",this._onDrop),G(t,"pointerup",this._onDrop),G(t,"touchcancel",this._onDrop),G(t,"pointercancel",this._onDrop),G(t,"selectstart",this)},_onDrop:function(a){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(w.pid),clearTimeout(this._dragStartTimer),st(this._cloneId),st(this._dragStartId),G(T,"mouseover",this),G(T,"mousemove",this._onTouchMove),this.nativeDraggable&&(G(T,"drop",this),G(s,"dragstart",this._onDragStart)),this._offUpEvents(),a&&(_&&(a.preventDefault(),!l.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),r!==e&&"clone"===z.active.lastPullMode||i&&i.parentNode&&i.parentNode.removeChild(i),t&&(this.nativeDraggable&&G(t,"dragend",this),$(t),t.style["will-change"]="",Y(t,this.options.ghostClass,!1),Y(t,this.options.chosenClass,!1),K(this,r,"unchoose",t,e,r,h),r!==e?(f=et(t,l.draggable))>=0&&(K(null,e,"add",t,e,r,h,f),K(this,r,"remove",t,e,r,h,f),K(null,e,"sort",t,e,r,h,f),K(this,r,"sort",t,e,r,h,f)):t.nextSibling!==o&&(f=et(t,l.draggable))>=0&&(K(this,r,"update",t,e,r,h,f),K(this,r,"sort",t,e,r,h,f)),z.active&&(null!=f&&-1!==f||(f=h),K(this,r,"end",t,e,r,h,f),this.save()))),this._nulling()},_nulling:function(){r=t=e=n=o=i=a=s=l=v=y=_=f=u=d=m=g=z.active=null,j.forEach(function(t){t.checked=!0}),j.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)q(t=n[i],o.draggable,this.el)&&e.push(t.getAttribute(o.dataIdAttr)||tt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach(function(t,i){var r=n.children[i];q(r,this.options.draggable,n)&&(e[t]=r)},this),t.forEach(function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return q(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&U(n)},destroy:function(){var t=this.el;t[x]=null,G(t,"mousedown",this._onTapStart),G(t,"touchstart",this._onTapStart),G(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(G(t,"dragover",this),G(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),F.splice(F.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},V(T,"touchmove",function(t){z.active&&t.preventDefault()}),z.utils={on:V,off:G,css:X,find:Q,is:function(t,e){return!!q(t,e,t)},extend:rt,throttle:it,closest:q,toggleClass:Y,clone:ot,index:et,nextTick:at,cancelNextTick:st},z.create=function(t,e){return new z(t,e)},z.version="1.7.0",z})},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(223),a=n(84),s=n(269),l=n(270),c=n(271),u=n(272),d=n(273),p=n(275),h=n(276),f=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.configData=n(106),window.configData=i.configData,i.init(),i}return r(e,t),e.prototype.getOptionsManager=function(){var t={processManager:this.processManager,tool:this.tool,subtool:this.subtool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,screenSize:this.screenSize,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken};return"resizeimage"==this.tool?new s.ResizeImageOptionsManager(this.getToolOptions()):"cropimage"==this.tool?new l.CropImageOptionsManager(this.getToolOptions()):"rotateimage"==this.tool?new u.RotateImageOptionsManager(this.getToolOptions()):"fromjpg"==this.subtool||"jpgtogif"==this.subtool?new c.FromjpgOptionsManager(this.getToolOptions()):"tojpg"==this.subtool?new h.TojpgOptionsManager(this.getToolOptions()):"watermarkimage"==this.tool?new d.WatermarkImageOptionsManager(this.getToolOptions()):"memeimage"==this.tool?new p.MemeImageOptionsManager(this.getToolOptions()):new a.OptionsManager(t)},e}(o.IloveTool);e.IloveimgTool=f},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(277),a=n(223),s=n(278),l=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.configData=n(106),window.configData=i.configData,i.init(),i}return r(e,t),e.prototype.getOptionsManager=function(){return new o.HtmlimageOptionsManager(this.getToolOptions())},e.prototype.getToolOptions=function(){return{processManager:this.processManager,tool:this.tool,subtool:this.tool,toolText:this.toolText,startServer:this.startServer,workerServer:this.workerServer,defaultOptions:this.defaultOptions,files:this.files,screenSize:this.screenSize,pdfViewer:this.pdfViewer,config:this.config,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,level:this.level,levelTemp:this.levelTemp,userToken:this.userToken}},e.prototype.initUploader=function(){this.uploadPopupManager=new s.UploadPopupManager({id:"pickfiles",files:this.files,startServer:this.startServer,workerServer:this.workerServer,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,token:this.token,taskId:this.taskId,tool:this.tool,servers:this.servers})},e}(a.IloveTool);e.IloveimgTool=l},,,,,function(t,e,n){"use strict";n.r(e),function(t){n(1),n(85);var e=n(138),i=n(139),r=n(140),o=n(233),a=n(72),s=n.n(a),l=n(141),c=n(234),u=n.n(c),d=(n(252),n(253),n(255),n(43)),p=n(142),h=n(235),f=n(236),g=n(22),m=n(9);n(102);n(242),n(248),n(250),n(87),n(251),t.Cookies=s.a,t.Toastr=l,t.Toastr.options.closeDuration=100,t.Sortable=u.a,d.Tooltip.compat(),t.tippy=p.a,n(101),n(280),window.site="iloveimg",g.e({dsn:"https://1f17b51631f34ac38782fb6823cf97cc@sentry.io/1200240",logger:"js-img",allowSecretKey:!0,maxBreadcrumbs:100,environment:"production",release:"719186fc5188ef3a5d7952539d92512f6bb69c4f",ignoreErrors:["TagError","Permission denied","Error loading script",new RegExp("gpt/pubads_impl_"),"Illegal invocation",new RegExp("ReportingObserver"),"UnhandledRejection","PromiseRejectionEvent",new RegExp("FD126C42")],beforeBreadcrumb:function(t,e){return"category"===t.category?null:t},whitelistUrls:[new RegExp("https?://((dev|www).)?ilovepdf.com"),new RegExp("https?://((dev|www).)?iloveimg.com")]}),m.e(function(t){t.setTag("site",window.site)});new e.IlovepdfWeb;if(null!=window.editConfig&&(window.ilovepdf=new o.EditImageOptionsManager(window.editConfig)),null!=window.ilovepdfConfig){var v=null;v="htmlimage"==window.ilovepdfConfig.tool?new f.IloveimgTool(window.ilovepdfConfig):new h.IloveimgTool(window.ilovepdfConfig),window.ilovepdf=v,window.userModel=v.user}var y=null;if(null!=window.userConfig&&(window.userModel=window.userConfig.user,y=new i.IlovepdfUser(window.userConfig),window.ilovepdfUser=y,window.userModel=y.user),null!=window.premiumConfig){window.userModel=window.premiumConfig.user;var _=new r.IlovepdfPremium(window.premiumConfig);window.ilovepdfPayment=_}document.documentElement.setAttribute("data-useragent",navigator.userAgent),window.executeTool=function(t){t&&t.length>0&&window.ilovepdf.optionsManager.makeWorkarea();var e=500,n=setInterval(function(){0===--e&&window.clearInterval(n),window.pluploader&&window.pluploader.uploader.addFile&&(window.clearInterval(n),t.forEach(function(t){window.pluploader.uploader.addFile(function(t,e){try{for(var n=t.split(","),i=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,a=new Uint8Array(o);o--;)a[o]=r.charCodeAt(o);return new File([a],e,{type:i})}catch(t){return null}}(t.file,t.filename))}))},100)}}.call(this,n(24))},function(t,e,n){var i,r,o;r=[n(1),n(220),n(244),n(221),n(245),n(246),n(247),n(62),n(107)],void 0===(o="function"==typeof(i=function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=t(r.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,l,c,u,d,p,h,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,_=y+i.helperProportions.height;for(p=i.snapElements.length-1;p>=0;p--)c=(l=i.snapElements[p].left-i.margins.left)+i.snapElements[p].width,d=(u=i.snapElements[p].top-i.margins.top)+i.snapElements[p].height,v<l-g||m>c+g||_<u-g||y>d+g||!t.contains(i.snapElements[p].item.ownerDocument,i.snapElements[p].item)?(i.snapElements[p].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-_)<=g,o=Math.abs(d-y)<=g,a=Math.abs(l-v)<=g,s=Math.abs(c-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),h=r||o||a||s,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(d-_)<=g,a=Math.abs(l-m)<=g,s=Math.abs(c-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[p].snapping&&(r||o||a||s||h)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[p].item})),i.snapElements[p].snapping=r||o||a||s||h)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,a=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){return t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){return t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){return t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){return t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)}})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(220),n(249),n(221),n(62),n(107)],void 0===(o="function"==typeof(i=function(t){return t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i,r=n&&"left"===n?"scrollLeft":"scrollTop";return e[r]>0||(e[r]=1,i=e[r]>0,e[r]=0,i)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)r="ui-resizable-"+(e=t.trim(i[n])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,l,c=this.options;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,a={width:this.helper.width()-o,height:this.helper.height()-r},s=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:s})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=s-e.minWidth),i&&c&&(t.left=s-e.maxWidth),a&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,a,s,l=t(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(p,"left")?p.scrollWidth:o,s=l._hasScroll(p)?p.scrollHeight:r,l.parentData={element:p,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,r,o,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,c=a.position,u=a._aspectRatio||e.shiftKey,d={top:0,left:0},p=a.containerElement,h=!0;p[0]!==document&&/static/.test(p.css("position"))&&(d=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),u&&(a.size.height=a.size.width/a.aspectRatio,h=!1),a.position.left=s.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,h=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,u&&(a.size.height=a.size.width/a.aspectRatio,h=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,u&&(a.size.width=a.size.height*a.aspectRatio,h=!1)),h||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-o.width)/c)*c,p=Math.round((r.height-o.height)/u)*u,h=o.width+d,f=o.height+p,g=i.maxWidth&&i.maxWidth<h,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>h,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(h+=c),y&&(f+=u),g&&(h-=c),m&&(f-=u),/^(se|s|e)$/.test(s)?(n.size.width=h,n.size.height=f):/^(ne)$/.test(s)?(n.size.width=h,n.size.height=f,n.position.top=a.top-p):/^(sw)$/.test(s)?(n.size.width=h,n.size.height=f,n.position.left=a.left-d):((f-u<=0||h-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=a.top-p):(f=u-e.height,n.size.height=f,n.position.top=a.top+o.height-f),h-c>0?(n.size.width=h,n.position.left=a.left-d):(h=c-e.width,n.size.width=h,n.position.left=a.left+o.width-h))}}),t.ui.resizable})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1),n(62)],void 0===(o="function"==typeof(i=function(t){return t.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(1)],void 0===(o="function"==typeof(i=function(t){return t.widget("ui.rotatable",t.ui.mouse,{widgetEventPrefix:"rotate",options:{angle:!1,degrees:!1,handle:!1,handleOffset:{top:0,left:0},radians:!1,rotate:null,rotationCenterOffset:{top:0,left:0},snap:!1,start:null,step:22.5,stop:null,transforms:null,wheelRotate:!1},angle:function(t){if(void 0===t)return this.options.angle;this.options.angle=t,this.elementCurrentAngle=t,this._performRotation(this.options.angle)},getElementCenter:function(){return this.elementCenter=this._calculateElementCenter(),this.elementCenter},handle:function(t){if(void 0===t)return this.options.handle;this.options.handle=t},plugins:{},rotationCenterOffset:function(t){if(void 0===t)return this.options.rotationCenterOffset;null!==t.top&&(this.options.rotationCenterOffset.top=t.top),null!==t.left&&(this.options.rotationCenterOffset.left=t.left)},rotateElement:function(t){if(!this.element||this.element.disabled||this.options.disabled)return!1;if(!t.which)return this.stopRotate(t),!1;var e=this._calculateRotateAngle(t),n=this.elementCurrentAngle;if(this.elementCurrentAngle=e,this._propagate("rotate",t),!1===this._propagate("rotate",t))return this.elementCurrentAngle=n,!1;var i=this.ui();return!1===this._trigger("rotate",t,i)?(this.elementCurrentAngle=n,!1):(i.angle.current!==e&&(e=i.angle.current,this.elementCurrentAngle=e),this._performRotation(e),n!==e&&(this.hasRotated=!0),!1)},startRotate:function(e){var n=this.getElementCenter(),i=e.pageX-n.x,r=e.pageY-n.y;return this.mouseStartAngle=Math.atan2(r,i),this.elementStartAngle=this.elementCurrentAngle,this.hasRotated=!1,this._propagate("start",e),t(document).bind("mousemove",this.listeners.rotateElement),t(document).bind("mouseup",this.listeners.stopRotate),!1},stopRotate:function(e){if(this.element&&!this.element.disabled)return t(document).unbind("mousemove",this.listeners.rotateElement),t(document).unbind("mouseup",this.listeners.stopRotate),this.elementStopAngle=this.elementCurrentAngle,this._propagate("stop",e),setTimeout(function(){this.element=!1},10),!1},wheelRotate:function(t){var e=this._angleInRadians(Math.round(t.originalEvent.deltaY/10));(this.options.snap||t.shiftKey)&&(e=this._calculateSnap(e)),e=this.elementCurrentAngle+e,this.angle(e),this._trigger("rotate",t,this.ui())},ui:function(){return{api:this,element:this.element,angle:{start:this.elementStartAngle,current:this.elementCurrentAngle,degrees:Math.abs(this._angleInDegrees(this.elementCurrentAngle)),stop:this.elementStopAngle}}},_angleInRadians:function(t){return t*Math.PI/180},_angleInDegrees:function(t){return 180*t/Math.PI},_calculateElementCenter:function(){var t=this._getElementOffset();if(this._isRotationCenterSet())return{x:t.left+this.rotationCenterOffset().left,y:t.top+this.rotationCenterOffset().top};if(void 0!==this.element.css("transform-origin")){var e=this.element.css("transform-origin").match(/([\d.]+)px +([\d.]+)px/);if(null!=e)return{x:t.left+parseFloat(e[1]),y:t.top+parseFloat(e[2])}}return{x:t.left+this.element.width()/2,y:t.top+this.element.height()/2}},_calculateSnap:function(t){var e=this._angleInDegrees(t);return e=Math.round(e/this.options.step)*this.options.step,this._angleInRadians(e)},_calculateRotateAngle:function(t){var e=this.getElementCenter(),n=t.pageX-e.x,i=t.pageY-e.y,r=Math.atan2(i,n)-this.mouseStartAngle+this.elementStartAngle;return(this.options.snap||t.shiftKey)&&(r=this._calculateSnap(r)),r},_create:function(){var e;this.options.handle?e=this.options.handle:((e=t(document.createElement("div"))).addClass("ui-rotatable-handle"),0===this.options.handleOffset.top&&0===this.options.handleOffset.left||(e.css("position","relative"),e.css("top",this.options.handleOffset.top+"px"),e.css("left",this.options.handleOffset.left+"px"))),this.listeners={rotateElement:t.proxy(this.rotateElement,this),startRotate:t.proxy(this.startRotate,this),stopRotate:t.proxy(this.stopRotate,this),wheelRotate:t.proxy(this.wheelRotate,this)},this.options.wheelRotate&&this.element.bind("wheel",this.listeners.wheelRotate),e.draggable({helper:"clone",start:this._dragStart,handle:e}),e.bind("mousedown",this.listeners.startRotate),e.closest(this.element).length||e.appendTo(this.element),this.rotationCenterOffset(this.options.rotationCenterOffset),this.options.degrees?this.elementCurrentAngle=this._angleInRadians(this.options.degrees):this.elementCurrentAngle=this.options.radians||this.options.angle||0,this._performRotation(this.elementCurrentAngle)},_destroy:function(){this.element.removeClass("ui-rotatable"),this.element.find(".ui-rotatable-handle").remove(),this.options.wheelRotate&&this.element.unbind("wheel",this.listeners.wheelRotate)},_dragStart:function(t){if(this.element)return!1},_getElementOffset:function(){this._performRotation(0);var t=this.element.offset();return this._performRotation(this.elementCurrentAngle),t},_getTransforms:function(t){var e="rotate("+t+"rad)";return this.options.transforms&&(e+=" "+function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]&&e.push(n+"("+t[n]+")");return e.join(" ")}(this.options.transforms)),e},_isRotationCenterSet:function(){return 0!==this.options.rotationCenterOffset.top||0!==this.options.rotationCenterOffset.left},_performRotation:function(t){this._isRotationCenterSet()&&(this.element.css("transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset.top+"px"),this.element.css("-ms-transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset.top+"px"),this.element.css("-webkit-transform-origin",this.options.rotationCenterOffset.left+"px "+this.options.rotationCenterOffset+"px"));var e=this._getTransforms(t);this.element.css("transform",e),this.element.css("-moz-transform",e),this.element.css("-webkit-transform",e),this.element.css("-o-transform",e)},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"rotate"!==e&&this._trigger(e,n,this.ui())}}),t.ui.rotatable})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;!function(a){"use strict";r=[n(1)],void 0===(o="function"==typeof(i=function(t,e){var n={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var t="";if(r)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(e,n,i,r){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,l)?" sp-thumb-active":"";var d=c.toString(r.preferredFormat||"rgb"),p=o?"background-color:"+c.toRgbString():"filter:"+c.toFilter();a.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+p+';" /></span>')}else{a.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+a.join("")+"</div>"}function c(c,u){var g,m,v,y,_=function(e,i){var r=t.extend({},n,e);return r.callbacks={move:p(r.move,i),change:p(r.change,i),show:p(r.show,i),hide:p(r.hide,i),beforeShow:p(r.beforeShow,i)},r}(u,c),b=_.flat,w=_.showSelectionPalette,S=_.localStorageKey,E=_.theme,x=_.callbacks,k=(g=qt,m=10,function(){var t=this,e=arguments;v&&clearTimeout(y),!v&&y||(y=setTimeout(function(){y=null,g.apply(t,e)},m))}),T=!1,C=!1,P=0,O=0,I=0,A=0,M=0,L=0,D=0,R=0,N=0,j=0,F=1,B=[],U=[],z={},H=_.selectionPalette.slice(0),q=_.maxSelectionSize,W="sp-dragging",V=null,G=c.ownerDocument,Y=(G.body,t(c)),X=!1,Q=t(s,G).addClass(E),K=Q.find(".sp-picker-container"),Z=Q.find(".sp-color"),$=Q.find(".sp-dragger"),J=Q.find(".sp-hue"),tt=Q.find(".sp-slider"),et=Q.find(".sp-alpha-inner"),nt=Q.find(".sp-alpha"),it=Q.find(".sp-alpha-handle"),rt=Q.find(".sp-input"),ot=Q.find(".sp-palette"),at=Q.find(".sp-initial"),st=Q.find(".sp-cancel"),lt=Q.find(".sp-clear"),ct=Q.find(".sp-choose"),ut=Q.find(".sp-palette-toggle"),dt=Y.is("input"),pt=dt&&"color"===Y.attr("type")&&f(),ht=dt&&!b,ft=ht?t(a).addClass(E).addClass(_.className).addClass(_.replacerClassName):t([]),gt=ht?ft:Y,mt=ft.find(".sp-preview-inner"),vt=_.color||dt&&Y.val(),yt=!1,_t=_.preferredFormat,bt=!_.showButtons||_.clickoutFiresChange,wt=!vt,St=_.allowEmpty&&!pt;function Et(){if(_.showPaletteOnly&&(_.showPalette=!0),ut.text(_.showPaletteOnly?_.togglePaletteMoreText:_.togglePaletteLessText),_.palette){B=_.palette.slice(0),U=t.isArray(B[0])?B:[B],z={};for(var e=0;e<U.length;e++)for(var n=0;n<U[e].length;n++){var i=tinycolor(U[e][n]).toRgbString();z[i]=!0}}Q.toggleClass("sp-flat",b),Q.toggleClass("sp-input-disabled",!_.showInput),Q.toggleClass("sp-alpha-enabled",_.showAlpha),Q.toggleClass("sp-clear-enabled",St),Q.toggleClass("sp-buttons-disabled",!_.showButtons),Q.toggleClass("sp-palette-buttons-disabled",!_.togglePaletteOnly),Q.toggleClass("sp-palette-disabled",!_.showPalette),Q.toggleClass("sp-palette-only",_.showPaletteOnly),Q.toggleClass("sp-initial-disabled",!_.showInitial),Q.addClass(_.className).addClass(_.containerClassName),qt()}function xt(){if(S&&window.localStorage){try{var e=window.localStorage[S].split(",#");e.length>1&&(delete window.localStorage[S],t.each(e,function(t,e){kt(e)}))}catch(t){}try{H=window.localStorage[S].split(";")}catch(t){}}}function kt(e){if(w){var n=tinycolor(e).toRgbString();if(!z[n]&&-1===t.inArray(n,H))for(H.push(n);H.length>q;)H.shift();if(S&&window.localStorage)try{window.localStorage[S]=H.join(";")}catch(t){}}}function Tt(){var e=Ft(),n=t.map(U,function(t,n){return l(t,e,"sp-palette-row sp-palette-row-"+n,_)});xt(),H&&n.push(l(function(){var t=[];if(_.showPalette)for(var e=0;e<H.length;e++){var n=tinycolor(H[e]).toRgbString();z[n]||t.push(H[e])}return t.reverse().slice(0,_.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",_)),ot.html(n.join(""))}function Ct(){if(_.showInitial){var t=yt,e=Ft();at.html(l([t,e],e,"sp-palette-row-initial",_))}}function Pt(){(O<=0||P<=0||A<=0)&&qt(),C=!0,Q.addClass(W),V=null,Y.trigger("dragstart.spectrum",[Ft()])}function Ot(){C=!1,Q.removeClass(W),Y.trigger("dragstop.spectrum",[Ft()])}function It(){var t=rt.val();if(null!==t&&""!==t||!St){var e=tinycolor(t);e.isValid()?(jt(e),Ht(!0)):rt.addClass("sp-validation-error")}else jt(null),Ht(!0)}function At(){T?Rt():Mt()}function Mt(){var e=t.Event("beforeShow.spectrum");T?qt():(Y.trigger(e,[Ft()]),!1===x.beforeShow(Ft())||e.isDefaultPrevented()||(!function(){for(var t=0;t<i.length;t++)i[t]&&i[t].hide()}(),T=!0,t(G).bind("keydown.spectrum",Lt),t(G).bind("click.spectrum",Dt),t(window).bind("resize.spectrum",k),ft.addClass("sp-active"),Q.removeClass("sp-hidden"),qt(),Ut(),yt=Ft(),Ct(),x.show(yt),Y.trigger("show.spectrum",[yt])))}function Lt(t){27===t.keyCode&&Rt()}function Dt(t){2!=t.button&&(C||(bt?Ht(!0):Nt(),Rt()))}function Rt(){T&&!b&&(T=!1,t(G).unbind("keydown.spectrum",Lt),t(G).unbind("click.spectrum",Dt),t(window).unbind("resize.spectrum",k),ft.removeClass("sp-active"),Q.addClass("sp-hidden"),x.hide(Ft()),Y.trigger("hide.spectrum",[Ft()]))}function Nt(){jt(yt,!0)}function jt(t,e){var n,i;tinycolor.equals(t,Ft())?Ut():(!t&&St?wt=!0:(wt=!1,n=tinycolor(t),i=n.toHsv(),R=i.h%360/360,N=i.s,j=i.v,F=i.a),Ut(),n&&n.isValid()&&!e&&(_t=_.preferredFormat||n.getFormat()))}function Ft(t){return t=t||{},St&&wt?null:tinycolor.fromRatio({h:R,s:N,v:j,a:Math.round(100*F)/100},{format:t.format||_t})}function Bt(){Ut(),x.move(Ft()),Y.trigger("move.spectrum",[Ft()])}function Ut(){rt.removeClass("sp-validation-error"),zt();var t=tinycolor.fromRatio({h:R,s:1,v:1});Z.css("background-color",t.toHexString());var e=_t;F<1&&(0!==F||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Ft({format:e}),i="";if(mt.removeClass("sp-clear-display"),mt.css("background-color","transparent"),!n&&St)mt.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(o||1===n.alpha?mt.css("background-color",s):(mt.css("background-color","transparent"),mt.css("filter",n.toFilter())),_.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),u="linear-gradient(left, "+c+", "+a+")";r?et.css("filter",tinycolor(c).toFilter({gradientType:1},a)):(et.css("background","-webkit-"+u),et.css("background","-moz-"+u),et.css("background","-ms-"+u),et.css("background","linear-gradient(to right, "+c+", "+a+")"))}i=n.toString(e)}_.showInput&&rt.val(i),_.showPalette&&Tt(),Ct()}function zt(){var t=N,e=j;if(St&&wt)it.hide(),tt.hide(),$.hide();else{it.show(),tt.show(),$.show();var n=t*P,i=O-e*O;n=Math.max(-I,Math.min(P-I,n-I)),i=Math.max(-I,Math.min(O-I,i-I)),$.css({top:i+"px",left:n+"px"});var r=F*M;it.css({left:r-L/2+"px"});var o=R*A;tt.css({top:o-D+"px"})}}function Ht(t){var e=Ft(),n="",i=!tinycolor.equals(e,yt);e&&(n=e.toString(_t),kt(e)),dt&&Y.val(n),t&&i&&(x.change(e),Y.trigger("change",[e]))}function qt(){var e,n,i,r,o,a,s,l,c,u;T&&(P=Z.width(),O=Z.height(),I=$.height(),J.width(),A=J.height(),D=tt.height(),M=nt.width(),L=it.width(),b||(Q.css("position","absolute"),_.offset?Q.offset(_.offset):Q.offset((n=gt,i=(e=Q).outerWidth(),r=e.outerHeight(),o=n.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,l=s.clientWidth+t(a).scrollLeft(),c=s.clientHeight+t(a).scrollTop(),(u=n.offset()).top+=o,u.left-=Math.min(u.left,u.left+i>l&&l>i?Math.abs(u.left+i-l):0),u.top-=Math.min(u.top,u.top+r>c&&c>r?Math.abs(r+o-0):0),u))),zt(),_.showPalette&&Tt(),Y.trigger("reflow.spectrum"))}function Wt(){Rt(),X=!0,Y.attr("disabled",!0),gt.addClass("sp-disabled")}!function(){r&&Q.find("*:not(input)").attr("unselectable","on");Et(),ht&&Y.after(ft).hide();St||lt.hide();if(b)Y.after(Q).hide();else{var e="parent"===_.appendTo?Y.parent():t(_.appendTo);1!==e.length&&(e=t("body")),e.append(Q)}xt(),gt.bind("click.spectrum touchstart.spectrum",function(e){X||At(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(Y.is(":disabled")||!0===_.disabled)&&Wt();Q.click(d),rt.change(It),rt.bind("paste",function(){setTimeout(It,1)}),rt.keydown(function(t){13==t.keyCode&&It()}),st.text(_.cancelText),st.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Nt(),Rt()}),lt.attr("title",_.clearText),lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),wt=!0,Bt(),b&&Ht(!0)}),ct.text(_.chooseText),ct.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),r&&rt.is(":focus")&&rt.trigger("change"),rt.hasClass("sp-validation-error")||(Ht(!0),Rt())}),ut.text(_.showPaletteOnly?_.togglePaletteMoreText:_.togglePaletteLessText),ut.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),_.showPaletteOnly=!_.showPaletteOnly,_.showPaletteOnly||b||Q.css("left","-="+(K.outerWidth(!0)+5)),Et()}),h(nt,function(t,e,n){F=t/M,wt=!1,n.shiftKey&&(F=Math.round(10*F)/10),Bt()},Pt,Ot),h(J,function(t,e){R=parseFloat(e/A),wt=!1,_.showAlpha||(F=1),Bt()},Pt,Ot),h(Z,function(t,e,n){if(n.shiftKey){if(!V){var i=N*P,r=O-j*O,o=Math.abs(t-i)>Math.abs(e-r);V=o?"x":"y"}}else V=null;var a=!V||"y"===V;(!V||"x"===V)&&(N=parseFloat(t/P)),a&&(j=parseFloat((O-e)/O)),wt=!1,_.showAlpha||(F=1),Bt()},Pt,Ot),vt?(jt(vt),Ut(),_t=_.preferredFormat||tinycolor(vt).format,kt(vt)):Ut();b&&Mt();function n(e){return e.data&&e.data.ignore?(jt(t(e.target).closest(".sp-thumb-el").data("color")),Bt()):(jt(t(e.target).closest(".sp-thumb-el").data("color")),Bt(),Ht(!0),_.hideAfterPaletteSelect&&Rt()),!1}var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ot.delegate(".sp-thumb-el",i,n),at.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},n)}();var Vt={show:Mt,hide:Rt,toggle:At,reflow:qt,option:function(n,i){if(n===e)return t.extend({},_);if(i===e)return _[n];_[n]=i,"preferredFormat"===n&&(_t=_.preferredFormat);Et()},enable:function(){X=!1,Y.attr("disabled",!1),gt.removeClass("sp-disabled")},disable:Wt,offset:function(t){_.offset=t,qt()},set:function(t){jt(t),Ht()},get:Ft,destroy:function(){Y.show(),gt.unbind("click.spectrum touchstart.spectrum"),Q.remove(),ft.remove(),i[Vt.id]=null},container:Q};return Vt.id=i.push(Vt)-1,Vt}function u(){}function d(t){t.stopPropagation()}function p(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function h(e,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var a=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,p={};function h(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function f(t){if(s){if(r&&a.documentMode<9&&!t.button)return g();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],o=i&&i.pageX||t.pageX,p=i&&i.pageY||t.pageY,f=Math.max(0,Math.min(o-l.left,u)),m=Math.max(0,Math.min(p-l.top,c));d&&h(t),n.apply(e,[f,m,t])}}function g(){s&&(t(a).unbind(p),t(a.body).removeClass("sp-dragging"),setTimeout(function(){o.apply(e,arguments)},0)),s=!1}p.selectstart=h,p.dragstart=h,p["touchmove mousemove"]=f,p["touchend mouseup"]=g,t(e).bind("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||s||!1!==i.apply(e,arguments)&&(s=!0,c=t(e).height(),u=t(e).width(),l=t(e).offset(),t(a).bind(p),t(a.body).addClass("sp-dragging"),f(n),h(n))})}function f(){return t.fn.spectrum.inputTypeColorSupport()}t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=i[t(this).data("spectrum.id")];if(n){var a=n[e];if(!a)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,o):"destroy"==e?(n.destroy(),t(this).removeData("spectrum.id")):a.apply(n,o)}}),r}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),i=c(this,n);t(this).data("spectrum.id",i.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=h,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!f()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,i=Math,r=i.round,o=i.min,a=i.max,s=i.random,l=function(s,c){if(s=s||"",c=c||{},s instanceof l)return s;if(!(this instanceof l))return new l(s,c);var u=function(n){var r={r:0,g:0,b:0},s=1,l=!1,c=!1;"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var i,r=!1;if(T[n])n=T[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(i=j.rgb.exec(n))return{r:i[1],g:i[2],b:i[3]};if(i=j.rgba.exec(n))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=j.hsl.exec(n))return{h:i[1],s:i[2],l:i[3]};if(i=j.hsla.exec(n))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=j.hsv.exec(n))return{h:i[1],s:i[2],v:i[3]};if(i=j.hsva.exec(n))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=j.hex8.exec(n))return{a:(o=i[1],A(o)/255),r:A(i[2]),g:A(i[3]),b:A(i[4]),format:r?"name":"hex8"};var o;if(i=j.hex6.exec(n))return{r:A(i[1]),g:A(i[2]),b:A(i[3]),format:r?"name":"hex"};if(i=j.hex3.exec(n))return{r:A(i[1]+""+i[1]),g:A(i[2]+""+i[2]),b:A(i[3]+""+i[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(u=n.r,d=n.g,p=n.b,r={r:255*O(u,255),g:255*O(d,255),b:255*O(p,255)},l=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=L(n.s),n.v=L(n.v),r=function(t,e,n){t=6*O(t,360),e=O(e,100),n=O(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),s=n*(1-o*e),l=n*(1-(1-o)*e),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(n.h,n.s,n.v),l=!0,c="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=L(n.s),n.l=L(n.l),r=function(t,e,n){var i,r,o;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)i=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),r=a(l,s,t),o=a(l,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(n.h,n.s,n.l),l=!0,c="hsl"),n.hasOwnProperty("a")&&(s=n.a));var u,d,p;return s=P(s),{ok:l,format:n.format||c,r:o(255,a(r.r,0)),g:o(255,a(r.g,0)),b:o(255,a(r.b,0)),a:s}}(s);this._originalInput=s,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=r(100*this._a)/100,this._format=c.format||u.format,this._gradientType=c.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=u.ok,this._tc_id=n++};function c(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,s=a(t,e,n),l=o(t,e,n),c=(s+l)/2;if(s==l)i=r=0;else{var u=s-l;switch(r=c>.5?u/(2-s-l):u/(s+l),s){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,l:c}}function u(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,s=a(t,e,n),l=o(t,e,n),c=s,u=s-l;if(r=0===s?0:u/s,s==l)i=0;else{switch(s){case t:i=(e-n)/u+(e<n?6:0);break;case e:i=(n-t)/u+2;break;case n:i=(t-e)/u+4}i/=6}return{h:i,s:r,v:c}}function d(t,e,n,i){var o=[M(r(t).toString(16)),M(r(e).toString(16)),M(r(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function p(t,e,n,i){var o,a=[M((o=i,Math.round(255*parseFloat(o)).toString(16))),M(r(t).toString(16)),M(r(e).toString(16)),M(r(n).toString(16))];return a.join("")}function h(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=I(n.s),l(n)}function f(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=I(n.s),l(n)}function g(t){return l(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=I(n.l),l(n)}function v(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=a(0,o(255,n.r-r(-e/100*255))),n.g=a(0,o(255,n.g-r(-e/100*255))),n.b=a(0,o(255,n.b-r(-e/100*255))),l(n)}function y(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=I(n.l),l(n)}function _(t,e){var n=l(t).toHsl(),i=(r(n.h)+e)%360;return n.h=i<0?360+i:i,l(n)}function b(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function w(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function E(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function x(t,e,n){e=e||6,n=n||30;var i=l(t).toHsl(),r=360/n,o=[l(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(l(i));return o}function k(t,e){e=e||6;for(var n=l(t).toHsv(),i=n.h,r=n.s,o=n.v,a=[],s=1/e;e--;)a.push(l({h:i,s:r,v:o})),o=(o+s)%1;return a}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=P(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=c(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return p(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*O(this._r,255))+"%",g:r(100*O(this._g,255))+"%",b:r(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*O(this._r,255))+"%, "+r(100*O(this._g,255))+"%, "+r(100*O(this._b,255))+"%)":"rgba("+r(100*O(this._r,255))+"%, "+r(100*O(this._g,255))+"%, "+r(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=l(t);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:L(t[i]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(t,e,n){n=0===n?0:n||50;var i,r=l(t).toRgb(),o=l(e).toRgb(),a=n/100,s=2*a-1,c=o.a-r.a,u=1-(i=((i=s*c==-1?s:(s+c)/(1+s*c))+1)/2),d={r:o.r*i+r.r*u,g:o.g*i+r.g*u,b:o.b*i+r.b*u,a:o.a*a+r.a*(1-a)};return l(d)},l.readability=function(t,e){var n=l(t),i=l(e),r=n.toRgb(),o=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),c=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:c}},l.isReadable=function(t,e){var n=l.readability(t,e);return n.brightness>125&&n.color>500},l.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var a=l.readability(t,e[o]),s=a.brightness>125&&a.color>500,c=a.brightness/125*3+a.color/500;(s&&!r||s&&r&&c>i||!s&&!r&&c>i)&&(r=s,i=c,n=l(e[o]))}return n};var T=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(T);function P(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=o(e,a(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function I(t){return o(1,a(0,t))}function A(t){return parseInt(t,16)}function M(t){return 1==t.length?"0"+t:""+t}function L(t){return t<=1&&(t=100*t+"%"),t}var D,R,N,j=(R="[\\s|\\(]+("+(D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",N="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",{rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+N),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){t.exports=function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var o="modal",a=".bs.modal",s=t.fn.modal,l={backdrop:!0,keyboard:!0,focus:!0,show:!0},c={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},u={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},d={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},p={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},h=function(){function i(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(p.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var s,h,f,g=i.prototype;return g.toggle=function(t){return this._isShown?this.hide():this.show(t)},g.show=function(e){var n=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass(d.FADE)&&(this._isTransitioning=!0);var i=t.Event(u.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(u.CLICK_DISMISS,p.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(u.MOUSEDOWN_DISMISS,function(){t(n._element).one(u.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},g.hide=function(n){var i=this;if(n&&n.preventDefault(),this._isShown&&!this._isTransitioning){var r=t.Event(u.HIDE);if(t(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var o=t(this._element).hasClass(d.FADE);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(u.FOCUSIN),t(this._element).removeClass(d.SHOW),t(this._element).off(u.CLICK_DISMISS),t(this._dialog).off(u.MOUSEDOWN_DISMISS),o){var a=e.getTransitionDurationFromElement(this._element);t(this._element).one(e.TRANSITION_END,function(t){return i._hideModal(t)}).emulateTransitionEnd(a)}else this._hideModal()}}},g.dispose=function(){[window,this._element,this._dialog].forEach(function(e){return t(e).off(a)}),t(document).off(u.FOCUSIN),t.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},g.handleUpdate=function(){this._adjustDialog()},g._getConfig=function(t){return t=r({},l,t),e.typeCheckConfig(o,t,c),t},g._showElement=function(n){var i=this,r=t(this._element).hasClass(d.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.scrollTop=0,r&&e.reflow(this._element),t(this._element).addClass(d.SHOW),this._config.focus&&this._enforceFocus();var o=t.Event(u.SHOWN,{relatedTarget:n}),a=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,t(i._element).trigger(o)};if(r){var s=e.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(e.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},g._enforceFocus=function(){var e=this;t(document).off(u.FOCUSIN).on(u.FOCUSIN,function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()})},g._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(u.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(u.KEYDOWN_DISMISS)},g._setResizeEvent=function(){var e=this;this._isShown?t(window).on(u.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(u.RESIZE)},g._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(d.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(u.HIDDEN)})},g._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},g._showBackdrop=function(n){var i=this,r=t(this._element).hasClass(d.FADE)?d.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=d.BACKDROP,r&&this._backdrop.classList.add(r),t(this._backdrop).appendTo(document.body),t(this._element).on(u.CLICK_DISMISS,function(t){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),r&&e.reflow(this._backdrop),t(this._backdrop).addClass(d.SHOW),!n)return;if(!r)return void n();var o=e.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(e.TRANSITION_END,n).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(d.SHOW);var a=function(){i._removeBackdrop(),n&&n()};if(t(this._element).hasClass(d.FADE)){var s=e.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(e.TRANSITION_END,a).emulateTransitionEnd(s)}else a()}else n&&n()},g._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},g._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},g._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},g._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(p.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(p.STICKY_CONTENT));t(n).each(function(n,i){var r=i.style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")}),t(i).each(function(n,i){var r=i.style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=t(document.body).css("padding-right");t(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}t(document.body).addClass(d.OPEN)},g._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(p.FIXED_CONTENT));t(e).each(function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+p.STICKY_CONTENT));t(n).each(function(e,n){var i=t(n).data("margin-right");void 0!==i&&t(n).css("margin-right",i).removeData("margin-right")});var i=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},g._getScrollbarWidth=function(){var t=document.createElement("div");t.className=d.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},i._jQueryInterface=function(e,n){return this.each(function(){var o=t(this).data("bs.modal"),a=r({},l,t(this).data(),"object"==typeof e&&e?e:{});if(o||(o=new i(this,a),t(this).data("bs.modal",o)),"string"==typeof e){if(void 0===o[e])throw new TypeError('No method named "'+e+'"');o[e](n)}else a.show&&o.show(n)})},s=i,f=[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return l}}],(h=null)&&n(s.prototype,h),f&&n(s,f),i}();return t(document).on(u.CLICK_DATA_API,p.DATA_TOGGLE,function(n){var i,o=this,a=e.getSelectorFromElement(this);a&&(i=document.querySelector(a));var s=t(i).data("bs.modal")?"toggle":r({},t(i).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();var l=t(i).one(u.SHOW,function(e){e.isDefaultPrevented()||l.one(u.HIDDEN,function(){t(o).is(":visible")&&o.focus()})});h._jQueryInterface.call(t(i),s,this)}),t.fn.modal=h._jQueryInterface,t.fn.modal.Constructor=h,t.fn.modal.noConflict=function(){return t.fn.modal=s,h._jQueryInterface},h}(n(1),n(99))},function(t,e,n){t.exports=function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var o="popover",a=".bs.popover",s=t.fn[o],l=new RegExp("(^|\\s)bs-popover\\S+","g"),c=r({},e.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),u=r({},e.DefaultType,{content:"(string|element|function)"}),d={FADE:"fade",SHOW:"show"},p={TITLE:".popover-header",CONTENT:".popover-body"},h={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,INSERTED:"inserted"+a,CLICK:"click"+a,FOCUSIN:"focusin"+a,FOCUSOUT:"focusout"+a,MOUSEENTER:"mouseenter"+a,MOUSELEAVE:"mouseleave"+a},f=function(e){var i,r;function s(){return e.apply(this,arguments)||this}r=e,(i=s).prototype=Object.create(r.prototype),i.prototype.constructor=i,i.__proto__=r;var f,g,m,v=s.prototype;return v.isWithContent=function(){return this.getTitle()||this._getContent()},v.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},v.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},v.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(p.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(p.CONTENT),n),e.removeClass(d.FADE+" "+d.SHOW)},v._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},v._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(l);null!==n&&n.length>0&&e.removeClass(n.join(""))},s._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.popover"),i="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new s(this,i),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},f=s,m=[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return c}},{key:"NAME",get:function(){return o}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return a}},{key:"DefaultType",get:function(){return u}}],(g=null)&&n(f.prototype,g),m&&n(f,m),s}(e);return t.fn[o]=f._jQueryInterface,t.fn[o].Constructor=f,t.fn[o].noConflict=function(){return t.fn[o]=s,f._jQueryInterface},f}(n(1),n(254))},function(t,e,n){t.exports=function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var a="tooltip",s=".bs.tooltip",l=t.fn[a],c=new RegExp("(^|\\s)bs-tooltip\\S+","g"),u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},d={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},p={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},h={SHOW:"show",OUT:"out"},f={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,INSERTED:"inserted"+s,CLICK:"click"+s,FOCUSIN:"focusin"+s,FOCUSOUT:"focusout"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s},g={FADE:"fade",SHOW:"show"},m={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},v={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},y=function(){function r(t,n){if(void 0===e)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(n),this.tip=null,this._setListeners()}var l,y,_,b=r.prototype;return b.enable=function(){this._isEnabled=!0},b.disable=function(){this._isEnabled=!1},b.toggleEnabled=function(){this._isEnabled=!this._isEnabled},b.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(g.SHOW))return void this._leave(null,this);this._enter(null,this)}},b.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},b.show=function(){var i=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var r=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(r);var o=n.findShadowRoot(this.element),a=t.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!a)return;var s=this.getTipElement(),l=n.getUID(this.constructor.NAME);s.setAttribute("id",l),this.element.setAttribute("aria-describedby",l),this.setContent(),this.config.animation&&t(s).addClass(g.FADE);var c="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,u=this._getAttachment(c);this.addAttachmentClass(u);var d=this._getContainer();t(s).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(s).appendTo(d),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new e(this.element,s,{placement:u,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:m.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&i._handlePopperPlacementChange(t)},onUpdate:function(t){return i._handlePopperPlacementChange(t)}}),t(s).addClass(g.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var p=function(){i.config.animation&&i._fixTransition();var e=i._hoverState;i._hoverState=null,t(i.element).trigger(i.constructor.Event.SHOWN),e===h.OUT&&i._leave(null,i)};if(t(this.tip).hasClass(g.FADE)){var f=n.getTransitionDurationFromElement(this.tip);t(this.tip).one(n.TRANSITION_END,p).emulateTransitionEnd(f)}else p()}},b.hide=function(e){var i=this,r=this.getTipElement(),o=t.Event(this.constructor.Event.HIDE),a=function(){i._hoverState!==h.SHOW&&r.parentNode&&r.parentNode.removeChild(r),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),t(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),e&&e()};if(t(this.element).trigger(o),!o.isDefaultPrevented()){if(t(r).removeClass(g.SHOW),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[v.CLICK]=!1,this._activeTrigger[v.FOCUS]=!1,this._activeTrigger[v.HOVER]=!1,t(this.tip).hasClass(g.FADE)){var s=n.getTransitionDurationFromElement(r);t(r).one(n.TRANSITION_END,a).emulateTransitionEnd(s)}else a();this._hoverState=""}},b.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},b.isWithContent=function(){return Boolean(this.getTitle())},b.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},b.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},b.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(m.TOOLTIP_INNER)),this.getTitle()),t(e).removeClass(g.FADE+" "+g.SHOW)},b.setElementContent=function(e,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[i?"html":"text"](n)},b.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},b._getContainer=function(){return!1===this.config.container?document.body:n.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},b._getAttachment=function(t){return d[t.toUpperCase()]},b._setListeners=function(){var e=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==v.MANUAL){var i=n===v.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===v.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,function(t){return e._enter(t)}).on(r,e.config.selector,function(t){return e._leave(t)})}}),t(this.element).closest(".modal").on("hide.bs.modal",function(){e.element&&e.hide()}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},b._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},b._enter=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?v.FOCUS:v.HOVER]=!0),t(n.getTipElement()).hasClass(g.SHOW)||n._hoverState===h.SHOW?n._hoverState=h.SHOW:(clearTimeout(n._timeout),n._hoverState=h.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===h.SHOW&&n.show()},n.config.delay.show):n.show())},b._leave=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?v.FOCUS:v.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=h.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===h.OUT&&n.hide()},n.config.delay.hide):n.hide())},b._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},b._getConfig=function(e){return"number"==typeof(e=o({},this.constructor.Default,t(this.element).data(),"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),n.typeCheckConfig(a,e,this.constructor.DefaultType),e},b._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},b._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(c);null!==n&&n.length&&e.removeClass(n.join(""))},b._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},b._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(g.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},r._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.tooltip"),i="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new r(this,i),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}})},l=r,_=[{key:"VERSION",get:function(){return"4.2.1"}},{key:"Default",get:function(){return p}},{key:"NAME",get:function(){return a}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return f}},{key:"EVENT_KEY",get:function(){return s}},{key:"DefaultType",get:function(){return u}}],(y=null)&&i(l.prototype,y),_&&i(l,_),r}();return t.fn[a]=y._jQueryInterface,t.fn[a].Constructor=y,t.fn[a].noConflict=function(){return t.fn[a]=l,y._jQueryInterface},y}(n(1),n(100),n(99))},function(t,e,n){t.exports=function(t,e){"use strict";function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var i=t.fn.tab,r={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},o={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},a={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},s=function(){function i(t){this._element=t}var s,l,c,u=i.prototype;return u.show=function(){var n=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(o.ACTIVE)||t(this._element).hasClass(o.DISABLED))){var i,s,l=t(this._element).closest(a.NAV_LIST_GROUP)[0],c=e.getSelectorFromElement(this._element);if(l){var u="UL"===l.nodeName||"OL"===l.nodeName?a.ACTIVE_UL:a.ACTIVE;s=(s=t.makeArray(t(l).find(u)))[s.length-1]}var d=t.Event(r.HIDE,{relatedTarget:this._element}),p=t.Event(r.SHOW,{relatedTarget:s});if(s&&t(s).trigger(d),t(this._element).trigger(p),!p.isDefaultPrevented()&&!d.isDefaultPrevented()){c&&(i=document.querySelector(c)),this._activate(this._element,l);var h=function(){var e=t.Event(r.HIDDEN,{relatedTarget:n._element}),i=t.Event(r.SHOWN,{relatedTarget:s});t(s).trigger(e),t(n._element).trigger(i)};i?this._activate(i,i.parentNode,h):h()}}},u.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},u._activate=function(n,i,r){var s=this,l=!i||"UL"!==i.nodeName&&"OL"!==i.nodeName?t(i).children(a.ACTIVE):t(i).find(a.ACTIVE_UL),c=l[0],u=r&&c&&t(c).hasClass(o.FADE),d=function(){return s._transitionComplete(n,c,r)};if(c&&u){var p=e.getTransitionDurationFromElement(c);t(c).removeClass(o.SHOW).one(e.TRANSITION_END,d).emulateTransitionEnd(p)}else d()},u._transitionComplete=function(n,i,r){if(i){t(i).removeClass(o.ACTIVE);var s=t(i.parentNode).find(a.DROPDOWN_ACTIVE_CHILD)[0];s&&t(s).removeClass(o.ACTIVE),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(t(n).addClass(o.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!0),e.reflow(n),t(n).addClass(o.SHOW),n.parentNode&&t(n.parentNode).hasClass(o.DROPDOWN_MENU)){var l=t(n).closest(a.DROPDOWN)[0];if(l){var c=[].slice.call(l.querySelectorAll(a.DROPDOWN_TOGGLE));t(c).addClass(o.ACTIVE)}n.setAttribute("aria-expanded",!0)}r&&r()},i._jQueryInterface=function(e){return this.each(function(){var n=t(this),r=n.data("bs.tab");if(r||(r=new i(this),n.data("bs.tab",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e]()}})},s=i,c=[{key:"VERSION",get:function(){return"4.2.1"}}],(l=null)&&n(s.prototype,l),c&&n(s,c),i}();return t(document).on(r.CLICK_DATA_API,a.DATA_TOGGLE,function(e){e.preventDefault(),s._jQueryInterface.call(t(this),"show")}),t.fn.tab=s._jQueryInterface,t.fn.tab.Constructor=s,t.fn.tab.noConflict=function(){return t.fn.tab=i,s._jQueryInterface},s}(n(1),n(99))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(25),o=n(26),a=n(224),s=n(225),l=n(48),c=n(52),u=n(32),d=n(13),p=function(){function e(t){this.stopGoDownload=!1,this.stopGoProblem=!1,this.taskId=null,this.tool=null,this.subtool=null,this.realTool=null,this.files=null,this.ignoredFiles=[],this.filesUploaded={},this.options=null,this.optionFiles=[],this.workerServer=null,this.downloadUrl="",this.apiVersion="v1",this.appVersion=null,this.exceptions=null,this.userId=null,this.site=null,this.token=null,this.encrypted=!1,this.encryptKey=null,this.processStarted=!1,this.uploadInterval=null,this.processCheckCount=3,this.processWait=!1,this.outToPage=!1,this.hideProblemForm=!1,this.processForceEnd=!1,this.params=null,this.status="ok",this.toolEvent=null,this.askedPassword=!1,this.afterFilesLoaded=null,this.processCount=0,Object.assign(this,t),null!=this.tool&&(this.toolEvent=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool)),this.stopGoDownload="dev"==u.Settings.env()&&this.stopGoDownload,this.stopGoProblem="dev"==u.Settings.env()&&this.stopGoProblem,this.initApi()}return e.prototype.initApi=function(){this.api=new l.Api({tool:this.tool,taskId:this.taskId,workerServer:this.workerServer,downloadUrl:this.downloadUrl,token:this.token,encrypted:this.encrypted,encryptKey:this.encryptKey})},e.prototype.setOptions=function(t){Object.assign(this.options,t)},e.prototype.setUploadedFiles=function(){this.filesUploaded=this.files.getUploadedFiles()},e.prototype.process=function(){this.showProcess();var e=this;if(1!=e.processForceEnd)if(1==this.files.checkFilesUploaded()){this.showProcess();var n={};t.each(this.files.files,function(t,e){var i=/(?:\.([^.]+))?$/.exec(e.name)[1];void 0==n[i]?n[i]=1:n[i]=n[i]+1});var i=0;t.each(n,function(t,e){var n=Math.max(i,e);e>i&&(i=n,t)}),this.execute().then(function(t){e.processExecute=!1,e.actionProcess(t)},function(t){-100!=t.status&&(e.processExecute=!1,500==t.status?e.actionProcessError(t,"500 in process"):504==t.status?e.actionProcessError(t,"504 in process"):400==t.status&&t.error&&t.error.param&&t.error.param[0]&&t.error.param[0].error&&"WrongPassword"==t.error.param[0].error?e.askForPassword(t.error.param).then(function(){e.showProcess(),e.setUploadedFiles(),e.processCount=0,e.process()},function(t){e.options.ignore_errors=!0,e.showProcess(),e.setUploadedFiles(),e.processCount=0,e.process()}):400==t.status&&t.error&&t.error.param&&t.error.param.task&&t.error.param.task[0]&&1==t.error.param.task[0].includes("complete status")?(r.captureMessage("Process error repaired "+e.subtool+e.processCount),window.clearTimeout(e.checkTimeout),e.checkTimeout=window.setTimeout(function(){e.checkTaskProcess()},1e3)):400==t.status?e.actionProcessError(t,{params:e.options}):(window.clearTimeout(e.checkTimeout),e.checkTimeout=window.setTimeout(function(){e.checkTaskProcess()},1e3)))})}else{if(1==this.processStarted)return void(0==e.checkFatalError()&&window.setTimeout(function(){e.process()},1e3));this.showUpload(),this.processStarted=!0}},e.prototype.checkTaskProcess=function(){var t=this;this.processCheckCount--,this.api.getTask().then(function(e){"TaskWaiting"==e.status?(t.setUploadedFiles(),t.process()):"TaskProcessing"==e.status?(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3)):"TaskSuccess"==e.status||"TaskSuccessWithWarnings"==e.status?t.actionProcess(e):t.actionProcessError(e,{info:"in check task",params:t.options})},function(e){t.processCheckCount<0?t.actionProcessError(e,{info:"in check task error",params:t.options}):(window.clearTimeout(t.checkTimeout),t.checkTimeout=window.setTimeout(function(){t.checkTaskProcess()},1e3))})},e.prototype.actionProcess=function(t){var e={filesize:t.filesize,server:this.workerServer,status_message:t.status_message,status:t.status,timer:t.timer,tool:this.tool,output_filenumber:t.output_filenumber,output_filesize:t.output_filesize,output_extensions:t.output_extensions,toolUrl:function(t,e){var n=t.split("?");if(n.length>=2){for(var i=encodeURIComponent(e)+"=",r=n[1].split(/[&;]/g),o=r.length;o-- >0;)-1!==r[o].lastIndexOf(i,0)&&r.splice(o,1);return n[0]+(r.length>0?"?"+r.join("&"):"")}return t}(window.location.href,"from"),download_filename:t.download_filename,process_start:(new Date).toUTCString()};1==this.hideProblemForm&&(e.hideProblemForm=!0),"warnings"in t&&(e.warnings=t.warnings),!0!==this.stopGoDownload&&Cookies.set(this.taskId,e,{expires:1/480}),this.goDownload(t)},e.prototype.actionProcessError=function(t,e){void 0===e&&(e=null);var n=this,i={error:t,server:n.api.getSubdomain(n.workerServer),taskId:n.taskId,tool:n.tool,subtool:n.subtool,toolUrl:window.location.href.split("?")[0]};if(!0!==this.stopGoProblem&&Cookies.set("error",i,{expires:1/480}),t&&t.error&&t.error.param&&t.error.param[0]&&t.error.param[0].error&&("NoText"==t.error.param[0].error||"NoImages"==t.error.param[0].error||"noTablesToExtract"==t.error.param[0].error)||(r.configureScope(function(i){i.setExtra("processError",t),i.setExtra("params",n.options),i.setExtra("extra",e)}),r.captureMessage("Process error "+n.subtool)),t.error){if(t.error.param&&t.error.param[0]&&t.error.param[0].error)return void n.goProblem(t.error.param[0].error);if(t.error.type)return void n.goProblem(t.error.type)}n.goProblem("ServerError")},e.prototype.execute=function(){var t=this,e=this;if(!0===this.processExecute)return new Promise(function(t,e){e({status:-100})});if(this.processExecute=!0,e.showProcess(),e.setUploadedFiles(),null!=this.afterFilesLoaded&&(this.options=this.afterFilesLoaded(this.files,this.options)),e.params=c.FormDataHelper.jsonToFormData(this.options),e.params.append("task",this.taskId),e.params.append("tool",this.tool),!e.options.packaged_filename){var n=this.tool.replace("image","")+"ed";"croped"==n&&(n="crop"),"resizeed"==n&&(n="resized"),"splited"==n&&(n="split"),e.params.append("packaged_filename",this.site+"-"+i.Lang.t(n))}var o=d.UserModel.get();o&&(e.params.append("custom_int",o.id),e.params.append("custom_str",o.loginkey));var a=0;for(var s in e.filesUploaded)e.isIgnored(s)||(e.params.append("files["+a+"][server_filename]",this.filesUploaded[s].server_filename),e.params.append("files["+a+"][filename]",this.filesUploaded[s].filename),e.filesUploaded[s].rotate&&e.params.append("files["+a+"][rotate]",this.filesUploaded[s].rotate),e.filesUploaded[s].password&&e.params.append("files["+a+"][password]",this.filesUploaded[s].password),e.filesUploaded[s].pages&&e.params.append("files["+a+"][pages]",this.filesUploaded[s].pages),a++);return this.processCount++,0==e.filesUploaded.length?(r.configureScope(function(n){n.setExtra("files",e.filesUploaded),n.setExtra("tool",e.subtool),n.setExtra("count",t.processCount)}),r.captureMessage("Process without files"),new Promise(function(t,e){e({status:400,error:{type:"DamagedFile"}})})):(this.processCount>1&&(r.configureScope(function(n){n.setExtra("params",e.params),n.setExtra("files",e.filesUploaded),n.setExtra("tool",e.subtool),n.setExtra("count",t.processCount)}),r.captureMessage("Process multiple")),this.api.process(e.params))},e.prototype.showProcess=function(){"error"!=this.status&&(t("body").addClass("process-run"),t(".uploading").hide(),t(".process").css("display","flex").show(),setTimeout(function(){t("#waitnotify").html(i.Lang.t("waitnotify")),t("#waitnotify").show()},1e4))},e.prototype.showUpload=function(){if(1!=this.processStarted){if("error"==this.status)return this.stop(),!0;var e=this;t("body").addClass("process-run"),t(".process").hide(),t(".uploading").css("display","flex").hide().fadeIn();var n=i.Lang.t("Uploading...");!0!==this.uploadShowStarted&&(t(".uploading__status__title.drive").hide(),t(".uploading__status__title.dropbox").hide(),t(".uploading__status__title.user").hide(),t(".uploading__bar").hide(),t(".uploading__status__percent").hide(),this.uploadShowStarted=!0),e.uploadInterval=setInterval(function(){var r=0,a=0,s=0,l=0,c=0,u=0,d=0,p=0,h=0,f=!0;if("error"==e.status&&e.stop(),e.checkFatalError(),t.each(e.files.files,function(e,i){!(i.percent<100)&&"server_filename"in i||!0===i.error||(f=!1,"drive"==i.service&&!1,"dropbox"==i.service?!1:!1),100==i.percent&&a++,u++,"drive"==i.service?(p++,100==i.percent&&l++):"dropbox"==i.service?(h++,100==i.percent&&c++):(d++,100==i.percent?s++:i.percent>0&&i.percent<100&&"html5"==i.runtime?(n=i.name+" ("+o.Tools.bytesToSize(i.size)+")",t("#upload_"+i.id).addClass("uploading__files__item--active")):t("#upload_"+i.id).removeClass("uploading__files__item--active"),i.loaded,i.size,r+=i.percent)}),t(".uploading__status__percent__value").html(parseInt((r/d).toString())+"%"),t(".uploading__bar__completed").css("width",r/d+"%"),t(".uploading__status__file").html(n),t(".uploading__status__total").html(d.toString()),d>0?(t(".uploading__status__title.user").show(),t(".uploading__bar").show(),t(".uploading__bar--small").hide(),t(".uploading__status__percent").show()):(t(".uploading__status__file").hide(),t(".uploading__status__info").hide()),p>0&&t(".uploading__status__title.drive").show(),h>0&&t(".uploading__status__title.dropbox").show(),s==d&&(t(".uploading__status__file").html(i.Lang.t("uploadComplete")),t(".uploading__bar").hide(),t(".uploading__status__percent").hide()),l==p&&p>0&&t(".uploading__status__title.drive").addClass("done").html("<strong>Google Drive:</strong> "+i.Lang.t("uploadComplete")),c==h&&p>0&&t(".uploading__status__title.dropbox").addClass("done").html("<strong>Dropbox:</strong> "+i.Lang.t("uploadComplete")),t(".uploading__status__title").removeClass("last"),t(".uploading__status__title:visible:last").addClass("last"),a==u&&f&&"error"!=e.status)clearInterval(e.uploadInterval),window.setTimeout(function(){e.process()},200);else{var g=Math.min(s+1,d);t(".uploading__status__current").html(g.toString())}},100)}},e.prototype.goDownload=function(t){1!=this.stopGoDownload&&(window.location.href=this.downloadUrl+"/"+this.taskId+"/"+this.getWorkerNumber())},e.prototype.getWorkerNumber=function(){return this.workerServer.split(".")[0].replace(/^\D+/g,"")},e.prototype.goProblem=function(t){void 0===t&&(t=null);var e="/problem/"+this.tool+"/"+this.taskId+"/"+this.getWorkerNumber();"en-US"!=window.lang&&(e="/"+window.lang+e),null!==t&&("string"==typeof t?e=e+"/"+t:t.error&&"string"==typeof t.error?e=e+"/"+t.error:e+="/ServerError"),1!=this.stopGoProblem&&(window.location.href=e)},e.prototype.askForPassword=function(e){var n=this,r=[];return t.each(e,function(t,e){"WrongPassword"==e.error&&r.push(n.files.getFileByServerFilename(e.server_filename))}),new Promise(function(e,o){t("#process").hide(),0==t("#passwordAsk").length&&(t(a.OptionsTemplate.askPassword()).insertAfter(t("#process")),n.files.files.length>1?t("#ignorePwdFiles").show():t("#ignorePwdFiles").hide(),"unlock"==n.tool&&t("#useUnlock").hide(),t(".passwords").append(t(a.OptionsTemplate.askPasswordField({id:"all",server_filename:""}))),t("#pwd-all").hide(),t("#allPwd").on("change",function(){1==t("#allPwd").is(":checked")?(t(".password").hide(),t("#pwd-all").show()):(t(".password").show(),t("#pwd-all").hide())})),t("#pwdSend").unbind("click").on("click",function(){var r=null;1==t("#allPwd").is(":checked")&&(r=t("#pwd-all input").val());var o=!0;t.each(n.files.files,function(e,a){var s=null==r?t("#pwd-"+a.id+" input").val():r;if(""==s)return o=!1,t("#pwd-"+a.id+" input").focus(),window.Toastr.error(i.Lang.t("passwordRequiredFor",{filename:a.name}),i.Lang.t("paswordRequired"),{timeOut:5e3,positionClass:"toast-top-left"}),!1;n.files.updateFile(a.id,{password:s})}),!0===o&&(t("#passwordAsk").hide(),e())}),t("#pwdCancel").unbind("click").on("click",function(){t.each(r,function(e,i){n.files.removeFile(i.id),t("#pwd-"+i.id).remove()}),t("#passwordAsk").hide(),o()}),t("#pwdIgnore").unbind("click").on("click",function(){t("#passwordAsk").hide(),o()}),t("#passwordAsk .passwordInput").hide(),t(".password").hide(),t.each(r,function(e,n){0==t("#pwd-"+n.id).length&&(t(".passwords").append(t(a.OptionsTemplate.askPasswordField({id:n.id,server_filename:n.name}))),t("#pwd-"+n.id+" .showPassword").on("click",function(e){e.preventDefault(),t(".password input").attr("type","text"==t(".password input").attr("type")?"password":"text")})),t("#pwd-"+n.id).show()}),r.length<2&&t("#allPwd").parent().parent().hide(),t("#passwordAsk").show(),setTimeout(function(){t("#passwordAsk input:visible:first").focus()},1e3),0==n.askedPassword&&(n.askedPassword=!0,window.ga("send","event","password","ask",n.subtool))})},e.prototype.fatalError=function(t,e,n){void 0===t&&(t=null),void 0===e&&(e=null),void 0===n&&(n=null),"ConnectionError"!=t&&s.IloveError.fatalError(t,this.tool,this.workerServer,e,n)},e.prototype.removeFile=function(t){var e=this.files.getFile(t);if(null==e)return new Promise(function(t,e){t()});var n=e.server_filename,i=e.status;return this.files.removeFile(e.id),5!=i?new Promise(function(t,e){t()}):this.api.removeFile(n)},e.prototype.addIgnoredFile=function(t){this.ignoredFiles.push(t)},e.prototype.getIgnoredFiles=function(){return this.ignoredFiles},e.prototype.isIgnored=function(t){return-1!=this.ignoredFiles.indexOf(t)},e.prototype.deleteIgnored=function(t){var e=this.ignoredFiles.indexOf(t);-1!==e&&this.ignoredFiles.splice(e,1)},e.prototype.stop=function(){clearInterval(this.uploadInterval)},e.prototype.checkFatalError=function(){if("error"==this.status)return this.stop(),!0;var e=this;if(0==this.files.files.length)return this.fatalError({error:"NoFiles"}),this.status="error",this.stop(),!0;try{t.each(e.files.files,function(t,n){if("errorData"in n)throw e.fatalError(n.errorData,n.name,"error data on task"),n.errorData})}catch(t){return e.status="error",e.stop(),!0}if(1==e.files.files.length&&!0===e.files.files[0].error)return e.status="error",e.fatalError(e.files.files[0].errorData,e.files.files[0].name,"error field on task"),e.stop(),!0;try{t.each(e.files.files,function(t,n){if("FileRemoved"==n.errorData)throw e.fatalError(n.errorData,n.name,"file removed on task"),n.errorData})}catch(t){return e.stop(),e.status="error",!0}if("merge"==this.tool)try{t.each(e.files.files,function(t,n){if("errorData"in n)throw e.fatalError(n.errorData,n.name,"error data on task, merge tool"),n.errorData})}catch(t){return e.status="error",e.stop(),!0}return!1},e}();e.Process=p}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(258),r=n(259),o=n(132),a=n(43),s=function(){function e(t){this.id="pickfiles",this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.servers=null,Object.assign(this,t),this.plupload=null,this.drive=null,this.dropbox=null,this.firstFile=!1,this.init()}return e.prototype.init=function(){this.plupload=new o.PluploadUpload({id:this.id,optionsManager:this.optionsManager,processManager:this.processManager,config:this.config,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.token,tool:this.tool,taskId:this.taskId,servers:this.servers,haveDrop:!0,dropElement:"workArea"}),window.pluploader=this.plupload,this.drive=new i.DriveUpload({id:"gdrive_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config}),this.dropbox=new r.DropboxUpload({id:"dropbox_file_selector",optionsManager:this.optionsManager,processManager:this.processManager,config:this.config});var e=this;t("#pickfiles").on("click",function(){e.firstClick()}),a.Tooltip.disable("#pickfiles"),t("#gdrive_file_selector").on("click",function(){e.firstClick()}),t("#dropbox_file_selector").on("click",function(){e.firstClick()})},e.prototype.firstClick=function(){if("pickfiles"==this.id){0==this.firstFile&&(this.firstFile=!0)}},e}();e.UploadManager=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(216),a=n(25),s=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.optionsManager=null,n.processManager=null,n.pickerApiLoaded=!1,n.oauthToken=null,n.userEmail=null,n.id=null,n.config=null,Object.assign(n,t),n.src="//apis.google.com/js/client.js",n.init(),n}return r(n,e),n.prototype.getUploadParams=function(t){return{task:this.processManager.taskId,google_email:this.userEmail,cloud_source:"drive",cloud_file:t.id,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0}},n.prototype.drive=function(){var e=this,n=this.config.getConfig("mimeTypes");function i(){t("#"+e.id).addClass("active").on("click",function(){window.gapi.auth2.authorize({client_id:e.clientId,scope:e.scope,fetch_basic_profile:!1,immediate:!1},o)})}function r(){e.pickerApiLoaded=!0,a()}function o(t){t&&!t.error&&(e.oauthToken=t.access_token,window.gapi.client.load("oauth2","v2",function(){window.gapi.client.oauth2.userinfo.get().execute(function(t){e.userEmail=t.email})}),a())}function a(){if(e.pickerApiLoaded&&e.oauthToken){var t=window.google.picker.ViewId.DOCS;if("Pdf files"==n[0].title)t=window.google.picker.ViewId.PDFS;else if("Word files"==n[0].title)t=window.google.picker.ViewId.DOCUMENTS;else if("Excel files"==n[0].title)t=window.google.picker.ViewId.SPREADSHEETS;else if("Powerpoint files"==n[0].title)t=window.google.picker.ViewId.PRESENTATIONS;else if("Image files"==n[0].title)t=window.google.picker.ViewId.DOCS_IMAGES;else if(void 0!=n[0].mime){new window.google.picker.View(window.google.picker.ViewId.DOCS).setMimeTypes(n[0].mime)}(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.NAV_HIDDEN).enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED).addView(t).setOAuthToken(e.oauthToken).setDeveloperKey(e.developerKey).setCallback(s).build().setVisible(!0)}}function s(n){if(n[window.google.picker.Response.ACTION]==window.google.picker.Action.PICKED){for(var i=n[window.google.picker.Response.DOCUMENTS],r=function(t){return window.gapi.client.request({path:"/drive/v2/files/"+t,method:"GET"})},o=window.gapi.client.newBatch(),a=0;a<i.length;a++){n[window.google.picker.Response.DOCUMENTS].length;var s=n[window.google.picker.Response.DOCUMENTS][a];s[window.google.picker.Document.URL],s[window.google.picker.Document.NAME];var l=r(s[window.google.picker.Document.ID]);o.add(l)}o.then(function(n,i){(n.status=200)&&t.each(n.result,function(t,n){200==n.status&&e.fileAdded(n.result).then(function(){e.uploadFile(n.result,0)},function(t){e.optionsManager.removeFile(n.result.id)})})},function(t){})}}window.gapi.load("auth2",i),window.gapi.load("picker",r)},n.prototype.fileAdded=function(t){t.runtime="html5",t.percent=0,t.service="drive",t.origin="drive",t.name=t.title,t.filename=t.title,t.uri=this.URL_API+"files/"+t.id+"?alt=media",t.uri=t.uri,t.url=t.thumbnailLink,t.size=t.fileSize,t.token=this.oauthToken,t.canvasId=t.id;try{t.width=t.imageMediaMetadata.width,t.height=t.imageMediaMetadata.height}catch(t){}if(t.mimeType)switch(t.mimeType){case"application/vnd.google-apps.document":t.extension="docx";break;case"application/vnd.google-apps.presentation":t.extension="pptx";break;case"application/vnd.google-apps.spreadsheet":t.extension="xlsx"}return this.optionsManager.files.addFile(t),this.optionsManager.fileAdded(t,"drive")},n.prototype.uploadFile=function(t,e){var n=this;void 0===e&&(e=0);var i=this,r=500*e;window.setTimeout(function(){n.processManager.api.request("POST","upload",i.getUploadParams(t)).then(function(e){i.processManager.files.updateFile(t.id,{process:100,percent:100,server_filename:e.server_filename}),i.optionsManager.fileUploaded(t.id,e)},function(e){(e=JSON.parse(e)).email=i.userEmail,e.file=t.id,t.error=!0,i.processManager.files.updateFile(t.id,{process:0,percent:0,error:!0}),i.optionsManager.invalidUpload({error:"CloudError",file:{id:t.id}}),a.configureScope(function(t){t.setExtra("error",e)}),a.captureMessage("Upload from drive error"),i.optionsManager.invalidUpload(e)})},r)},n.prototype.downloadFile=function(t){var e=this;return new Promise(function(n,i){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onload=function(){if(200===r.status){var t=r.response;n(t)}},r.onprogress=function(t){t.loaded,t.total},r.open("GET",e.URL_API+"files/"+t.id+"?alt=media"),r.setRequestHeader("Authorization","Bearer "+e.oauthToken),r.send()})},n}(o.DriveService);e.DriveUpload=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(217),a=n(25),s=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.optionsManager=null,n.processManager=null,n.id=null,n.config=null,Object.assign(n,t),n.init(),n}return r(n,e),n.prototype.dropbox=function(){var e=this,n=this.config.getConfig("mimeTypes")[0].extensions.split(","),i=[];t.each(n,function(t,e){i.push("."+e)}),window.Dropbox.choose({success:function(n){t.each(n,function(t,n){e.fileAdded(n),e.uploadFile(n)})},cancel:function(){},error:function(t){a.configureScope(function(e){e.setExtra("error",t)}),a.captureMessage("Dropbox upload error")},linkType:"direct",multiselect:!0,extensions:i})},n.prototype.fileAdded=function(t){t.id=t.id.replace(":",""),t.runtime="html5",t.percent=0,t.service="dropbox",t.url=t.link,t.size=t.bytes,t.canvasId=t.id,t.filename=t.name,t.origin="dropbox",this.optionsManager.files.addFile(t),this.optionsManager.fileAdded(t,"dropbox")},n.prototype.getUploadParams=function(t){return{task:this.processManager.taskId,cloud_source:"dropbox",cloud_file:t.link,dropbox_link:t.link,preview:1==window.processStart?0:1,pdfinfo:1==window.pdfinfo?1:0}},n.prototype.uploadFile=function(t){var e=this;this.processManager.api.request("POST","upload",this.getUploadParams(t)).then(function(n){e.processManager.files.updateFile(t.id,{process:100,percent:100,server_filename:n.server_filename}),e.optionsManager.fileUploaded(t.id,n)},function(n){t.error=!0,e.processManager.files.updateFile(t.id,{process:0,percent:0,error:!0}),e.optionsManager.invalidUpload({error:"CloudError",file:{id:t.id}}),a.configureScope(function(t){t.setExtra("error",JSON.parse(n))}),a.captureMessage("Upload from dropbox error")})},n}(o.DropboxService);e.DropboxUpload=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(){}return e.checkNetwork=function(){var n=navigator.onLine;window.setInterval(function(){navigator.onLine?0==n&&(n=!0,e.hideNetworkAlert()):1==n&&(n=!1,e.showNetworkAlert(),t("#uploadSpeed").html("0 KB/s"),t("#timeLeft").html("&infin;"))},1e3)},e.showNetworkAlert=function(){t("#network").css("display","flex").hide().fadeIn()},e.hideNetworkAlert=function(){t("#network").fadeOut()},e.waitForConnection=function(t){void 0===t&&(t=null);var e=0;return new Promise(function(n,i){var r=window.setInterval(function(){navigator.onLine&&(window.clearInterval(r),n()),null!=t&&(e+=1e3)>=t&&(window.clearInterval(r),i())},1e3)})},e}();e.Network=n}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(){}return e.init=function(){t(document).on({"show.bs.modal":function(){var e=1050;t(".modal:visible, .dialog:visible").each(function(n,i){e=Math.max(e,parseInt(t(i).css("z-index"))+10)}),t(this).css("z-index",e),setTimeout(function(){t(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")},0)},"hidden.bs.modal":function(){t(".modal:visible, .dialog:visible").length>0&&setTimeout(function(){t(document.body).addClass("modal-open")},0)}},".modal")},e}();e.Modal=n}).call(this,n(1))},function(t){t.exports={default:{mimeTypes:[{title:"All files"}],multiSelection:!0}}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(224),r=n(60),o=n(12),a=n(43),s=n(25),l=n(14),c=n(26),u=n(13),d=n(225),p=n(79),h=n(133),f=n(264),g=n(63),m=n(104),v=n(37),y=function(){function e(e){void 0===e&&(e={}),this.config={},this.processManager=null,this.tool=null,this.subtool=null,this.toolText="Process",this.template=null,this.defaultOptions={},this.fileLimits=null,this.allFileLimits=null,this.level="user",this.userToken=null,this.workerServer=null,this.startServer=null,this.hideRotation=!1,this.levelTemp="user",this.options={},this.values={},this.files=null,this.started=!1,this.workareaStarted=!1,this.viewManager=null,this.limits=null,this.ignoreLimits=!1,this.damagedRemove=!1,this.hideProblemForm=!1,this.premiumTask=!1,this.processBtnPulseTimeout=7e3,this.showFileGroups=!0,this.processBlock=!1,this.checkServerStatusOnStart=!1,Object.assign(this,e),null==this.subtool&&(this.subtool=this.tool),null==this.toolText&&(this.toolText=this.tool),this.limits=new r.Limits({files:this.files,fileLimits:this.fileLimits,allFileLimits:this.allFileLimits,tool:this.tool,subtool:this.subtool}),this.removedFiles=0,window.processStart=!1,window.iuser=u.UserModel,p.LinkTitle.disable(t("#pickfiles")),this.tryInitByParent()}return e.prototype.tryInitByParent=function(){var e=this;this.files.files.length>0&&(this.init(),t.each(this.files.files,function(t,n){e.fileAdded(n,"parent").then(function(){},function(){})}))},e.prototype.init=function(){!0!==this.started&&(this.processManager.hideProblemForm=this.hideProblemForm,t("#sidebar").prepend(this.getInnactiveView()),this.startPanels(),this.started=!0),this.initViewManager()},e.prototype.initViewManager=function(){},e.prototype.checkLimits=function(t,e){try{this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored())}catch(e){this.displayLimitsDialog(e),t=this.removeLimitFiles(t)}return t},e.prototype.displayLimitsDialog=function(e){var n=this,i=e==r.REASON.ERROR_SIZE?"mb":"files",o=e==r.REASON.ERROR_SIZE?this.limits.files.size()/1024/1024:this.limits.files.count(),a=!1===this.limits.findNextLevelLimit(this.limits.concreteTool,i,o),s=null,l=m.Dialog.getVisibleDialogs().find(function(t){return"PremiumContext"===t.getContent().contentName});if(e===r.REASON.ERROR_FEATURE){if(l)return;s=function(){return new g.PremiumContext({tool:n.limits.concreteTool,limits:n.limits,triggerReason:e})}}else if(a)s=function(){return new f.NoMoreLimitsContext({tool:n.limits.concreteTool,limits:n.limits,triggerReason:e})};else{if(l)return;s=function(){return new g.PremiumContext({tool:n.limits.concreteTool,limits:n.limits,triggerReason:e})}}var c=new v.default({dialogName:"Limits"});c.setContentBuilder(s),c.show(),t("#pickfiles").addClass("limitsShow")},e.prototype.removeLimitFiles=function(t){try{this.limits.checkFileLimits(this.files.getFileSizeNotIgnored(),this.files.countNotIgnored())}catch(n){var e=t.pop();try{e&&([].push(e.id),this.files.removeFile(e.id,!0))}catch(t){}t=this.removeLimitFiles(t)}return t},e.prototype.fileAdded=function(e,n,i){var r=this;void 0===i&&(i=!1);var l=this;return e.name&&(e.name=h.TextHelper.stripTags(e.name).replace('"',"")),e.filename&&(e.filename=h.TextHelper.stripTags(e.filename).replace('"',"")),new Promise(function(n,c){1==i&&(l.limits.addIgnoredFile(e.id),l.processManager.addIgnoredFile(e.id),l.files.updateFile(e.id,{ignored:!0}));try{l.limits.checkFileLimits(l.files.getFileSizeNotIgnored(),l.files.countNotIgnored())}catch(t){return r.displayLimitsDialog(t),l.setFilecount(),void c("limit file detected")}l.makeWorkarea().then(function(){var r=null;"function"==typeof e.getSource&&(r=e.getSource().getSource());var s={name:e.name,id:e.id,canvasId:e.canvasId,tool:l.tool,subtool:l.subtool,size:e.size,source:r,url:e.url,uri:e.uri,token:e.token,runtime:e.runtime,service:e.service,thumbnail:e.thumbnail};e.extension&&(s.name+="."+e.extension),0==l.config.getConfig("multiSelection")&&t("#uploader").hide(),l.viewManager.addFileDOM(s).then(function(t){l.setValue("numPages",t.numPages),l.printValues("numPages",t.numPages),l.setValue("width",t.width),l.printValues("height",t.height),l.fileReady(e),1!=i&&l.setFilecount(),l.initFileNameEditable(e.id),a.Tooltip.init(),n()},function(i){"PasswordException"==i.name?(t("#"+e.id).attr("title",o.Lang.t("paswordRequired")).attr("data-title",o.Lang.t("paswordRequired")),a.Tooltip.setContent(t("#"+e.id),o.Lang.t("paswordRequired"))):(t("#"+e.id).attr("title",o.Lang.t("damaged file?")).attr("data-title",o.Lang.t("damaged file?")),a.Tooltip.setContent(t("#"+e.id),o.Lang.t("damaged file?"))),t("#"+e.id+" .file__info__size").hide(),a.Tooltip.init();try{if("removeFile"==i.name)return void c()}catch(i){}if("function"==typeof l.damagedAction&&l.damagedAction(),1==l.damagedRemove)return l.fileAddError(e.id),void c();l.setFilecount(),a.Tooltip.init(t("#"+e.id+" .remove")),"noRenderMode"!=i&&t("#cover-"+e.canvasId).addClass("error"),n()}),0==l.config.getConfig("multiSelection")&&t("#uploader").hide()},function(t){s.captureMessage("Fail: createworkarea"),c()})})},e.prototype.initFileNameEditable=function(e){var n=this;if(!1!==this.nameEditable){var i=t("#"+e+" .file__info__name");if(0==i.length)return;var r=i.text().split(".").pop();i.attr("contenteditable","true"),i.attr("data-ext","true"),i.attr("data-orig",i.text()),i.on("change keyup mouseup",function(){n.files.updateFile(e,{rename:h.TextHelper.stripTags(i.text().replace(/"/g,""))})}),i.on("blur",function(){i.html(h.TextHelper.stripTags(i.text().replace(/"/g,""))),""!=i.text()&&i.text()!="."+r||i.html(i.attr("data-orig")),i.text()==r&&i.html(r+"."+r),i.text().split(".").pop()!=r&&(i.html(i.text()+"."+r),n.files.updateFile(e,{rename:i.text()}))})}},e.prototype.setFilecount=function(){var e=this.files.countNotIgnored(),n=t("#filecount");0!=n.length?n.html(e.toString()):t("#uploader").prepend('<div id="filecount">'+e+"</div>")},e.prototype.fileUploaded=function(t,e){this.files.updateFile(t,e);if(null!==this.viewManager){var n=this.files.getFile(t);null!=n&&"thumbnail"in n&&void 0!=n.thumbnail&&(n.thumbnail=this.workerServer+"/thumbnails/"+n.thumbnail),this.viewManager.fileUploaded(t,e)}},e.prototype.changeServer=function(t){this.processManager.workerServer=t,this.processManager.api.workerServer=t,this.workerServer=t},e.prototype.fileReady=function(e){this.fileChanged(e);var n=t("#"+e.id),i=c.Tools.bytesToSize(e.size);n.length>0&&"width"in e&&"height"in e?(i=i+" - "+e.width+"x"+e.height,n.attr("data-width",e.width).attr("data-height",e.height)):"file"in e&&e.file&&"numPages"in e.file&&(i=i+" - "+o.Lang.t("numPages",{numPages:e.file.numPages})),this.checkRotation(e),n.attr("title",i).attr("data-title",i).addClass("tooltip"),a.Tooltip.init(),this.setFilecount()},e.prototype.checkRotation=function(e){var n=e.name.substr(e.name.lastIndexOf(".")+1).toUpperCase();-1==["JPG","JPEG","PNG","GIF","PDF","DOC","DOCX","XLS","XLSX","PPT","PPTX"].indexOf(n)&&t("#"+e.canvasId+" .rotate").hide(),!0===this.hideRotation&&t(".rotate").hide()},e.prototype.makeWorkarea=function(){var e=this;return new Promise(function(n,i){1!=e.workareaStarted&&(e.workareaStarted=!0,t("#contentArea").hide(),t(".tool__workarea__rendered").css("display","flex").hide().fadeIn(),0==e.showFileGroups&&t("#fileGroups").hide(),e.moveUploader(),e.workareaActions(),setTimeout(function(){e.sidebarAds()},1e3)),n()})},e.prototype.workareaActions=function(){},e.prototype.moveUploader=function(){var e=t("#uploader");a.Tooltip.init(),t("#uploadDisk").on("click",function(){t("#uploader input").trigger("click")});var n=e.attr("data-title");if(void 0===n||"false"===n){var i=e.attr("title");e.attr("data-title",i)}e.attr("title",""),e.hide(),t("body").addClass("sidebar-active"),t("body").addClass("tool-"+this.tool),t(".uploader__extra a").removeClass("tooltip--right").addClass("tooltip--left"),this.init(),e.detach(),e.addClass("box"),t("#settingsToogle").on("click",function(){t(".tool").toggleClass("tool--toggle")}),t("#orderByName").on("click",function(){t(this).toggleClass("order--desc");var e=t(this).data("order");"asc"==e?t(this).data("order","desc"):t(this).data("order","asc"),t("#fileGroups > div").tsort({order:e})});try{e.insertAfter("#settingsToogle")}catch(t){}this.onUploaderMoved(e)},e.prototype.onUploaderMoved=function(t){var e=this;e.config.getConfig("multiSelection")&&t.fadeIn("slow",function(){e.onUploaderMovedAndShow()})},e.prototype.onUploaderMovedAndShow=function(){t("#pickfiles").addClass("tooltip"),a.Tooltip.enable(t("#pickfiles")),t(".modal.show").length>0||t("#pickfiles").hasClass("limitsShow")||(a.Tooltip.show(t("#pickfiles"),5e3),window.tooltip=a.Tooltip)},e.prototype.checkProcessBtn=function(){"no"==t(".option__panel--active").data("process")?t("#processTask").fadeOut():(t("#processTask").fadeIn(),this.checkProcessPulse())},e.prototype.checkProcessPulse=function(){if(window.Cookies&&1!=t("#processTask").is(":disabled")){var e=parseInt(Cookies.get("pulse"))||0;e++,window.Cookies.set("pulse",""+e),e<3&&setTimeout(function(){t("#processTask").addClass("pulse")},this.processBtnPulseTimeout)}},e.prototype.startPanels=function(){1!=this.panelsStarted&&(this.panelsStarted=!0,this.initDefaultOptions(),this.initDefaultValues(),this.initActions(),this.initFromUrl(),this.addButtonTask(),this.checkProcessBtn(),this.premiumActions())},e.prototype.premiumActions=function(){u.UserModel.isRealPremium()&&t("#ocr-options").show()},e.prototype.initDefaultOptions=function(){var e=this;t.each(e.defaultOptions,function(t,n){e.setOption(t,n)})},e.prototype.initDefaultValues=function(){var e=this;t.each(e.defaultOptions,function(t,n){e.setValue(t,n)}),e.setValue("numPages",0)},e.prototype.initFromUrl=function(){var e=location.hash.substr(1).split(","),n="",i="";e[0]&&(n=e[0]),e[1]&&(i=e[1]);try{""!=n&&0==t("#"+n).length&&(n="")}catch(t){n=""}if(""==n||"undefined"==n?(n=t(".option__panel--active").attr("id"),this.callPanelActions(n)):t(".option__panel").first().attr("id")!=n&&(t(".option__panel").first().removeClass("option__panel--active").addClass("option__panel--inactive"),t("#"+n).addClass("option__panel--active"),this.callPanelActions(n)),t("#"+n+" .option__tab__select__item").removeClass("option--active"),t("#"+n+" .option__tab__content").removeClass("option__tab__content--active"),void 0!==i&&""!=i)try{t("#tab-"+i).addClass("option--active"),t("#tab-content-"+i).addClass("option__tab__content--active"),this.callTabActions(i)}catch(t){}else{var r=t("#"+n+" .option__tab__select__item");r.length>0&&(i=r.first().attr("data-target"),r.first().trigger("click"))}},e.prototype.initActions=function(){var e=this;window.addEventListener("fileRemoved",function(t){e.fileRemoved(t.detail)},!1),t(".option__panel").length>1&&window.addEventListener("popstate",function(n){var i=n.state,r=null;r=null===i?t(".option__panel").first().attr("id"):i.id,t("#"+r).addClass("option__panel--inactive"),t(".option__panel").removeClass("option__panel--active"),t("#"+r).removeClass("option__panel--inactive").addClass("option__panel--active"),e.checkProcessBtn(),e.callPanelActions(r)}),t(".option__description__more__toggle").each(function(){t(this).on("click",function(e){e.stopPropagation(),t(this).parent().toggleClass("option__description__more--extend")})}),t(".option__select__item").on("click",function(){if(t(this).hasClass("option--disabled"))return!0;t(this).siblings().removeClass("option--active"),t(this).siblings().find(".option").removeClass("option--active"),"panel"!=t(this).data("action")&&t(this).addClass("option--active"),e.options[t(this).data("name")]=t(this).data("value")}),t(".option__tab__select__item").on("click",function(){if(t(this).hasClass("option--disabled"))return!0;var n=t(this).data("name"),i=t(this).data("value");t(this).siblings().removeClass("option--active"),t(this).addClass("option--active"),"undefined"!=n&&e.setOption(n,i);var r=t(this).data("target");t(this).parent().parent().find(".option__tab__content").removeClass("option__tab__content--active"),t("#tab-content-"+r).addClass("option__tab__content--active");var o=t(this).parent().parent().parent().attr("id"),a=t(this).data("target"),s=t(this).attr("id"),l={id:s};history.pushState(l,s,"#"+o+","+a),e.checkProcessBtn(),e.callTabActions(a)}),t(".option__image__item").on("click",function(n){if(t(this).hasClass("option--disabled"))return!0;var i=t(this).data("name"),r=t(this).data("value");t(this).siblings().removeClass("option--active"),t(this).addClass("option--active"),void 0!=i&&e.setOption(i,r)}),t(".option__panel .back").each(function(){t(this).on("click",function(){if(t(this).hasClass("option--disabled"))return!0;var n=t(this).data("target"),i=t(".option__panel--active").attr("id"),r={id:i};history.pushState(r,i,"#"),t("#"+n).addClass("option__panel--active"),t(".option__panel--active").removeClass("option__panel--active"),t("#"+n).removeClass("option__panel--inactive").addClass("option__panel--active"),e.checkProcessBtn(),e.callPanelActions(n)})}),t("[data-action]").each(function(){t(this).hasClass("option--disabled")||t(this).on("click",function(){e.callFormAction(t(this).data("action"),t(this),"click")})}),t(".option__panel .option").on("click",function(n){if(t(this).hasClass("option--disabled"))return!0;var i=t(this).data("name"),r=t(this).data("value");i&&r&&(e.options[i]=r,t('*[data-show="'+i+'"]').html(r))});var n=null;t("input.option").on("keyup mouseup",function(){clearTimeout(n);var i=t(this);n=setTimeout(function(){var t=i.attr("name"),n=i.val();e.setOption(t,n),null!=i.data("action")&&e.callFormAction(i.data("action"),i,"keyup")},1e3)}),t(".option:checkbox").change(function(){var n=t(this).attr("name"),i=t(this).is(":checked"),r=null;1==i&&t(this)[0].hasAttribute("data-checked")?r=t(this).attr("data-checked"):0==i&&t(this)[0].hasAttribute("data-unchecked")&&(r=t(this).attr("data-unchecked")),null!=r?e.setOption(n,r):e.setOption(n,i)}),t(".option:radio").change(function(){var n=t(this).attr("name"),i=t('[name="'+n+'"]:checked').val();null!=i&&e.setOption(n,i)}),t("select.option").on("change",function(){var n=t(this).attr("name"),i=t(this).val();e.setOption(n,i)}),t("textarea.option").on("keyup change",function(){var n=t(this).attr("name"),i=t(this).val();e.setOption(n,i)}),t(".option--radio").on("click",function(){if(t(this).hasClass("option--disabled"))return!0;t(this).hasClass("option--active")?(e.setValue(t(this).data("name"),t(this).data("inactive")),e.options[t(this).data("name")]=t(this).data("inactive")):(e.setValue(t(this).data("name"),t(this).data("active")),e.options[t(this).data("name")]=t(this).data("active"))});var i=function(e){var n=(t(e).val()-parseInt(t(e).attr("min")))/(parseInt(t(e).attr("max"))-parseInt(t(e).attr("min")));t(e).attr("data-value",n),t(e).css("background-image","-webkit-gradient(linear, left top, right top, color-stop("+n+", #E5322D), color-stop("+n+", #7A9FAB))")};t('input[type="range"]').each(function(){i(this)});var r=null;t('input[type="range"]').change(function(){null!==r&&clearTimeout(r);var t=this;r=setTimeout(function(){i(t)},1e3)})},e.prototype.initSidetoolsActions=function(){},e.prototype.fileRemoved=function(t){this.removedFiles++,this.fileChanged(t),this.setFilecount()},e.prototype.fileChanged=function(e){if(this.updateOrderStatus(),this.files.countNotIgnored()>0){try{null!=e&&"upBy"in e&&"pickwatermark"==e.upBy?this.checkProcessBtn():this.enableProcessBtn()}catch(t){this.enableProcessBtn()}t(".tool__sidebar__inactive").fadeOut(),t(".tool__sidebar").css("overflow-y","auto")}else this.disableProcessBtn(o.Lang.t("No file selected.")),t(".tool__sidebar").css("overflow-y","hidden"),t(".tool__sidebar__inactive").css("display","flex").hide().fadeIn(),this.showUploaderTooltip()},e.prototype.showUploaderTooltip=function(){a.Tooltip.show(t("#pickfiles"),8e3)},e.prototype.updateOrderStatus=function(){this.files.countNotIgnored()>1?t("#orderByName").css("display","flex"):t("#orderByName").hide()},e.prototype.addButtonTask=function(){var e=this;0==t("#processTask").length&&(t(".main .tool").append(i.OptionsTemplate.processButton({tool:e.tool,toolText:e.toolText})),t("#processTask").on("click",function(){if(1!=e.premiumTask||u.UserModel.isPremium()||"premium"==window.ilovepdfConfig.levelTemp){t("#processTask").attr("disabled","true");Math.floor(((new Date).getTime()-window.startTime)/1e3);e.processTask()}else t('#highres-options [data-value="0"]').trigger("click"),e.displayLimitsDialog(r.REASON.ERROR_FEATURE),window.ga("send","event","limits","feature-exceeded","pdfa")}))},e.prototype.setOption=function(t,e){if("undefined"==t)throw"InvalidOption "+t+":"+e;this.options[t]=e,this.values[t]=e,this.printOption(t,e)},e.prototype.setValue=function(t,e){this.values[t]=e,this.printValues(t,e)},e.prototype.printOption=function(e,n){if(null!=n&&""!=n.toString()){try{t('*[data-name="'+e+'"]').removeClass("option--active"),t('*[data-name="'+e+'"][data-value="'+n+'"]').addClass("option--active")}catch(t){s.configureScope(function(t){t.setExtra("dataKey",e),t.setExtra("dataValue",n)}),s.captureMessage("setting option error")}t('input[type="text"][name="'+e+'"]').val(n),t('input[type="number"][name="'+e+'"]').val(n),t('input[type="color"][name="'+e+'"]').val(n),t('input[type="checkbox"][name="'+e+'"]').attr("checked",n);try{t('input[type="radio"][name="'+e+'"][value="'+n.toString()+'"]').attr("checked","true")}catch(t){}t('select[name="'+e+'"]').val(n),t('.option--radio[data-name="'+e+'"]').each(function(){t(this).attr("data-active")==n?t(this).addClass("option--active"):t(this).removeClass("option--active")}),t('input[type="checkbox"][name="'+e+'"]').attr("checked",n),t('*[data-show="'+e+'"]').attr("data-value",n).html(n),t(".option__value--color").each(function(){t(this).css("background-color",t(this).attr("data-value"))}),t('*[data-show="'+e+'"]').html(this.printTransform(e,n)),t('*[data-show="'+e+'"]').attr("data-value",n),t('*[data-show="'+e+'"][data-type="color"]').css("background-color",n),t('*[data-if="'+e+'"]').each(function(){t(this).attr("data-value")==n?t(this).show():t(this).hide()})}},e.prototype.applyAllOptions=function(){for(var t in this.options)this.options.hasOwnProperty(t)&&this.printOption(t,this.options[t])},e.prototype.printTransform=function(t,e){return e},e.prototype.printValues=function(e,n){t("."+e).html(n),t("input."+e).val(n)},e.prototype.getValue=function(t){return this.values[t]},e.prototype.processTask=function(){var t=this;if(1!=this.processBlock){this.processBlock=!0,this.disableProcessBtn();var e=this;e.getPanelActiveOptions(),e.beforeProcess().then(function(){e.savePremium().then(function(){e.processManager.setOptions(e.options),e.processManager.process()},function(t){s.configureScope(function(e){e.setExtra("error",t)}),s.captureMessage("Error on save premium task data")})},function(e){t.onBeforeProcessReject(e)})}},e.prototype.onBeforeProcessReject=function(t){t instanceof Error&&(s.configureScope(function(e){e.setExtra("error",t)}),s.captureMessage("onBeforeProcessReject error")),this.enableProcessBtn()},e.prototype.beforeProcess=function(){return new Promise(function(t,e){var n=!!window.MSInputMethodContext&&!!document.documentMode;if(window.processStart=!0,n)document.createEvent("Event").initEvent("goProcess",!0,!0);else try{var i=new Event("goProcess");window.dispatchEvent(i)}catch(t){}t()})},e.prototype.getOption=function(t){return this.options[t]},e.prototype.getOptions=function(){return this.options},e.prototype.getPanelActiveOptions=function(){var e=this,n=t(".option__panel--active");n.find(".option--active").each(function(n,i){var r=t(i).attr("data-name");void 0!=r&&(r.indexOf("[]")>0?(e.options[r]instanceof Array||(e.options[r]=[]),e.options[r].push(t(i).attr("data-value"))):e.options[r]=t(i).attr("data-value"))}),n.find('input[type="text"], input[type="number"], input[type="color"], select, input[type="hidden"]').each(function(n,i){var r=t(i).attr("data-name");void 0==r&&void 0==(r=t(i).attr("name"))||(r.indexOf("[]")>0?(e.options[r]instanceof Array||(e.options[r]=[]),e.options[r].push(t(i).val())):e.options[r]=t(i).val())}),n.find('input[type="checkbox"]').each(function(n,i){var r=t(i).attr("name");e.options[r]=t(i).is(":checked")}),e.unsetUndefinedOptions()},e.prototype.unsetUndefinedOptions=function(){"undefined"in this.options&&delete this.options.undefined},e.prototype.callPanelActions=function(t){if(void 0!==t&&null!==t){var e="action"+t.camelCase().ucFirst();e in this&&this[e]()}},e.prototype.callTabActions=function(t){if(void 0!==t&&null!==t&&""!=t){var e="action"+t.camelCase().ucFirst();e in this&&this[e]()}},e.prototype.callOptionAction=function(e,n,i){if(void 0===i&&(i="click"),void 0!==e&&null!==e){var r=e.split(" "),o=this;t.each(r,function(t,e){if(void 0!==e&&null!==e){var r="actionOption"+e.camelCase().ucFirst();r in o&&o[r](n,i)}})}},e.prototype.callFormAction=function(e,n,i){if(void 0===i&&(i="click"),void 0!==e&&null!==e&&void 0!=e){var r=e.split(" "),o=this;t.each(r,function(t,e){if(void 0!==e&&null!==e){var r="actionForm"+e.camelCase().ucFirst();r in o&&o[r](n,i)}})}},e.prototype.actionFormPanel=function(e,n){var i=e.data("target"),r=t(".option__panel--active").attr("id"),o={id:r};if(history.pushState(o,r,"#"+i),t(".option__panel--active").removeClass("option__panel--active").addClass("option__panel--inactive"),t("#"+i).addClass("option__panel--active"),this.checkProcessBtn(),this.callPanelActions(i),t("#"+i).find(".option__tab").length>0){var a=t(".option__tab__select__item.option--active").data("target");this.callTabActions(a)}history.pushState(o,r,"#"+i)},e.prototype.actionFormShowOptions=function(e,n){var i=t(e).val();t(".option--if").hide(),t('*[data-if="'+name+'"]').each(function(){e.data("value")==i?e.show():e.hide()})},e.prototype.actionFormDecimal=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=t(e).val();t(e).val(i.replace(",","."))},e.prototype.getInnactiveView=function(){return'<div class="tool__sidebar__inactive"><p>'+o.Lang.t("No file selected.")+'</p><svg xmlns="http://www.w3.org/2000/svg" width="75" height="66" viewBox="0 0 150 132"><path fill="#FFF" d="M0,0 C0,18.75 28.125,56.25 93.75,56.25 L93.75,18.75 L150,75 L93.75,131.25 L93.75,93.75 C42.0594727,93.75 0,51.6905273 0,0 Z" transform="rotate(-180 75 66)"/></svg><p>'+o.Lang.t("Please add a file to activate options")+"</p></div>"},e.prototype.initPremium=function(){if(u.UserModel.isPremium()){t(this.getPremiumView()).insertBefore(t(".gobutton")),t("#save_options").change(function(){t(this).is(":checked")})}},e.prototype.savePremium=function(){var e=this,n=this;return new Promise(function(i,r){if(t("#save_options").length&&t("#save_options").is(":checked")){var o=n.getOptions();o.tool=e.tool,o=n.beforeSavePremiumOptions(o),n.processManager.api.saveToolConfig(n.tool,o,u.UserModel.get().token).then(function(){i()},function(){r()})}else i()})},e.prototype.invalidUpload=function(e,n){void 0===n&&(n=null);var i=d.IloveError.getError(e),r=this.tool==this.subtool?this.tool:this.tool.replace("image",this.subtool);if(t("body").hasClass("process-run"))try{"object"==typeof e&&"file"in e&&"id"in e.file&&this.files.updateFile(e.file.id,{error:!0,percent:100,errorData:i})}catch(t){}else{["FileSizeExceeded","FileTooLarge","FileRemoved"].indexOf(i)>=0?window.ga("send","event","upload-info",i,r):(window.ga("send","event","upload-invalid",r,i),s.configureScope(function(t){t.setExtra("error",e)}),null!=n&&s.configureScope(function(t){t.setExtra("error_extra",n)}),s.captureMessage("upload-invalid."+i,l.Severity.Error));try{"object"==typeof e&&"file"in e?(this.viewManager.removeFile(e.file.canvasId),window.Toastr.error(o.Lang.t(i)+"<br>"+e.file.name,o.Lang.t("Upload error"),{timeOut:6e3,positionClass:"toast-top-left"})):this.fatalError(i)}catch(t){this.fatalError(i)}}},e.prototype.beforeSavePremiumOptions=function(t){return t},e.prototype.getPremiumView=function(){return""},e.prototype.disableProcessBtn=function(e){void 0===e&&(e=null);var n=t("#processTask"),i=t("#processTaskWrapper");n.attr("disabled","true"),n.removeClass("pulse"),i.addClass("tooltip tooltip--top").removeAttr("title").show(),null!=e&&"undefined"!=e?(i.attr("data-title",e),i.attr("title",e),a.Tooltip.setContent(i,e),a.Tooltip.enable(i)):a.Tooltip.disable(i)},e.prototype.enableProcessBtn=function(){t("#processTask").removeClass("tooltip tooltip--top").removeAttr("title").removeAttr("disabled"),a.Tooltip.hide("#processTaskWrapper"),t("#processTaskWrapper").hide(),this.processBlock=!1},e.prototype.fatalError=function(t){d.IloveError.fatalError(t,this.tool,this.workerServer)},e.prototype.timeout=function(){window.location.reload()},e.prototype.timeoutPopup=function(){var e=this,n=[],i=[];t.each(this.files.files,function(t,e){"canvasId"in e?n.push(e.canvasId):"id"in e&&i.push(e.id)}),t.each(n,function(t,n){e.viewManager.removeFile(n)}),t.each(i,function(t,n){e.files.removeFile(n)});var r=c.Tools.modalViewOk({id:"timelimit",title:o.Lang.t("Wops"),content:"<p>"+o.Lang.t("Welcome back after upload")+"</p>"});t(r).modal()},e.prototype.removeFile=function(t){try{this.viewManager.removeFile(t)}catch(t){}this.files.removeFile(t)},e.prototype.loadingStart=function(){0==t(".loading").length&&t("body").append('<div class="item-loading"></div>'),t(".item-loading").show()},e.prototype.loadingEnd=function(){t(".item-loading").hide()},e.prototype.sidebarAds=function(){},e.prototype.fileAddError=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n="DamagedFile"),1==e?window.Toastr.error(o.Lang.t(n),o.Lang.t("Error"),{timeOut:0,closeButton:!0,preventDuplicates:!0,positionClass:"toast-top-left"}):window.Toastr.error(o.Lang.t(n),o.Lang.t("Error"),{timeOut:5e3,positionClass:"toast-top-left"}),this.removeFile(t),this.loadingEnd()},e}();e.OptionsManager=y}).call(this,n(1))},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(42),a=n(265),s=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.contentName="NoMoreLimitsContext",n.triggerReason="triggerReason"in e?e.triggerReason:void 0,n.limits="limits"in e?e.limits:void 0,n.tool="tool"in e?e.tool:void 0,n}return r(e,t),e.prototype.getInitialState=function(){return new a.DefaultState},e}(o.ContextBase);e.NoMoreLimitsContext=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),a=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="DefaultState",e.LAYOUT_TEMPLATE_NAME="no-more-limits",e.INITIAL_SCREEN="default",e.onDomReady=function(){"sign"==e.ctx.tool?e.changeScreen("sign"):e.changeScreen(e.INITIAL_SCREEN),e.clearLoadingScreen(),e.init()},e._onDoneButtonClick=function(t){t.preventDefault(),e.dispatchEvent(new a.IloveEvent("end"))},e}return r(e,t),e.prototype.init=function(){var t=this.getUserOperativeSystem();this.showPlatform(t);var e=this.actionBtn;e&&e.addEventListener("click",this._onDoneButtonClick)},e.prototype.showPlatform=function(t){for(var e=this.domRoot.querySelectorAll("[platform-mac], [platform-win]"),n=0;n<e.length;n++)e[n].style.display="none";var i=this.domRoot.querySelectorAll("[platform-"+t+"]");for(n=0;n<i.length;n++)i[n].style.display="block"},e.prototype.getUserOperativeSystem=function(){return-1!=window.navigator.platform.indexOf("Mac")?"mac":(-1!=navigator.userAgent.indexOf("WOW64")||navigator.userAgent.indexOf("Win64"),"win")},Object.defineProperty(e.prototype,"actionBtn",{get:function(){return this.domStateRoot.querySelector("[next-from-no-more-limits]")},enumerable:!0,configurable:!0}),e}(o.StateBase);e.DefaultState=s},function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(267),a=n(105),s=n(268),l=n(12),c=n(26),u=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.imageViewer=new a.ImageView({screenSize:this.screenSize,files:this.files}),this.previewViewer=new s.PreviewView({screenSize:this.screenSize,files:this.files})},e.prototype.getFileboxTemplate=function(t){var e=/(?:\.([^.]+))?$/.exec(t.fileName)[1].toUpperCase();return'<div class="file file--img file--'+t.tool+" file--"+t.subtool+' tooltip--top" id="'+t.fileID+'" rel="'+t.service+'"  data-size="'+t.filesize+'" data-extension="'+e+'"><div class="file__actions"><a  class="file__btn rotate  tooltip tooltip--top" title="'+l.Lang.t("Rotate")+'" data-rotate="0">'+c.Tools.svgRotate()+'</a><a  class="file__btn remove tooltip tooltip--top" title="'+l.Lang.t("Remove this file")+'">'+c.Tools.svgRemove()+'</a></div><div class="file__canvas"><div id="cover-'+t.fileID+'"></div></div><div class="file__info"><span class="file__info__name">'+t.fileName+'</span><div class="file__info__size"><span class="file__info__size__from tooltip tooltip--bottom" title="'+l.Lang.t("Original size (in pixels) for this image")+'"></span> '+c.Tools.svgArrowRight(8,12)+'<span class="file__info__size__to tooltip tooltip--bottom" title="'+l.Lang.t("This image will be resized to this size (in pixels)")+'"></span></div></div></div>'},e}(o.ViewManager);e.ViewManager=u},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),r=n(14),o=n(26),a=n(12),s=function(){function e(t){void 0===t&&(t={}),this.files=null,this.tool=null,this.subtool=null,this.pdfViewer=null,this.imageViewer=null,this.officeViewer=null,this.previewViewer=null,this.fileBox="",this.covers_hidden=!1,this.processManager=null,this.onBeforeRemoveFile=null,this.onRemoveFile=null,this.resizeTimeout=!1,this.screenSizes={sm:{w:70,h:100},md:{w:99,h:140},lg:{w:127,h:180}},this.screenSize=this.screenSizes.md,this.currentSize="md",window.innerWidth>1281?(this.screenSize=this.screenSizes.lg,this.currentSize="lg"):window.innerWidth<640&&(this.screenSize=this.screenSizes.sm,this.currentSize="sm"),Object.assign(this,t),this.init()}return e.prototype.init=function(){var t=this;window.addEventListener("resize",function(e){t.resize()})},e.prototype.resize=function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){window.innerWidth>1280&&"lg"!=t.currentSize?(t.screenSize=t.screenSizes.lg,t.currentSize="lg",t.reRender()):window.innerWidth<640&&"sm"!=t.currentSize?(t.screenSize=t.screenSizes.sm,t.currentSize="sm",t.reRender()):window.innerWidth>640&&window.innerWidth<1280&&"md"!=t.currentSize&&(t.screenSize=t.screenSizes.md,t.currentSize="md",t.reRender()),"object"==typeof t.pdfViewer&&null!=t.pdfViewer&&(t.pdfViewer.screenSize=t.screenSize),"object"==typeof t.imageViewer&&null!=t.imageViewer&&(t.imageViewer.screenSize=t.screenSize),"object"==typeof t.officeViewer&&t.officeViewer,"object"==typeof t.previewViewer&&t.previewViewer},500)},e.prototype.reRender=function(){var e=this;t(".file canvas, .range__element canvas").each(function(n,i){var r=t(i).attr("data-file"),o=t(i).attr("data-page");if(r&&o){var a=parseInt(t(i).attr("data-page").toString()),s=t(i).attr("id");e.renderPDF(r,a,s)}})},e.prototype.addFileDOM=function(e,n){var o=this;void 0===n&&(n=null);return new Promise(function(n,a){var s=o;o.totalFilesSelectedHistory++,o.boxfiles++;var l=e.name.substr(e.name.lastIndexOf(".")+1).toUpperCase();e.extension&&(l=e.extension.toUpperCase()),e.service||(e.service="user");var c=o.getFileboxTemplate({tool:s.tool,subtool:s.subtool,screenSize:s.screenSize,fileName:e.name,fileID:e.canvasId,filesize:e.size,service:e.service});if(t("#fileGroups").append(c),s.initRotate(e),t("#"+e.canvasId+" .remove").on("click",function(){s.removeFile(e.canvasId)}),"html5"==e.runtime){var u="cover-"+e.canvasId,d=document.getElementById(u);if("user"==e.service)d.className=d.className+" "+l.toLowerCase()+" ",void 0!=e.thumbnail?(d.className="image "+d.className,o.renderPreview(e.id,u,null).then(function(){n(e)},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.captureMessage("render preview thumbnail error",r.Severity.Info),a(t)})):"url"in e&&void 0!=e.url?"PDF"==l&&0==o.covers_hidden?s.pdfViewer.loadUrlPDF(e.url,null).then(function(t){s.files.updateFile(e.id,{file:t}),"size"in t&&s.files.updateFile(e.id,{size:t.size}),s.renderPDF(e.id,1,u),n(t)},function(t){"removeFile"==t.name?s.removeFile(e.canvasId):"PasswordException"==t.name?d.className=d.className+" password ":"UnexpectedResponseException"==t.name?s.removeFile(e.id):("InvalidPDFException"==t.name||t.name,d.className=d.className+" error "),a(t)}):o.renderUrl(e.id,u,null).then(function(t){"size"in t&&s.files.updateFile(e.id,{size:t.size}),n(e)},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.captureMessage("render url error",r.Severity.Info),a(t)}):"PDF"==l&&0==o.covers_hidden?s.pdfViewer.loadSourcePDF(e.id,e.source).then(function(t){s.files.updateFile(e.id,{file:t}),s.renderPDF(e.id,1,u),n(t)},function(t){"removeFile"==t.name?s.removeFile(e.canvasId):"PasswordException"==t.name&&(d.className=d.className+" password "),"UnexpectedResponseException"==t.name?s.removeFile(e.canvasId):(t.name,d.className=d.className+" error "),a(t)}):"JPG"==l||"JPEG"==l?o.renderImageJpg(e.id,u,null).then(function(){n(e)},function(t){a(t)}):"PNG"==l||"GIF"==l||"WEBP"==l?o.renderImage(e.id,u,null).then(function(){n(e)},function(t){a(t)}):"SVG"==l?(d.className="image "+d.className,o.renderSvg(e.id,u,!1).then(function(){n(e)},function(t){a(t)})):"TIF"==l||"TIFF"==l?(d.className=d.className+" image tif",o.renderTif(e.id,u).then(function(){n(e)},function(t){})):"DOC"==l||"DOCX"==l?(o.renderDoc(e.id,u),d.className=d.className+" word "+l.toLowerCase(),n(e)):"XLS"==l||"XLSX"==l?(o.renderDoc(e.id,u),d.className=d.className+" excel "+l.toLowerCase(),n(e)):"PPT"==l||"PPTX"==l?(o.renderDoc(e.id,u),d.className=d.className+" powerpoint "+l.toLowerCase(),n(e)):(d.className=d.className+l.toLowerCase(),a("noRenderMode"));else if("drive"==e.service)d.className=d.className+" "+l.toLowerCase(),"PDF"==l&&0==o.covers_hidden?e.size<2e8&&s.pdfViewer.loadUrlPDF(e.uri,e.token).then(function(t){s.files.updateFile(e.id,{file:t}),s.renderPDF(e.id,1,u),n(t)},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.captureMessage("drive url pdf error"),a(t)}):void 0!=e.url?o.renderUrl(e.id,u,null).then(function(t){n(e)},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.configureScope(function(t){t.setExtra("url",e.url)}),i.captureMessage("drive with url error"),a(t)}):(i.configureScope(function(t){t.setExtra("file",e)}),i.captureMessage("drive viewer not set"),a("drive viewer not exists"));else if("dropbox"==e.service)if("PDF"==l&&0==o.covers_hidden)e.size<2e8&&s.pdfViewer.loadUrlPDF(e.url,e.token).then(function(t){s.files.updateFile(e.id,{file:t}),s.renderPDF(e.id,1,u),n(t)},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.captureMessage("dropbox load error"),a(t)});else if(void 0!=e.url){var p=document.getElementById(u);p.className=p.className+" image "+l.toLowerCase(),o.renderUrl(e.id,u,null).then(function(t){n(e)},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.captureMessage("dropbox with url error"),a(t)})}else i.captureMessage("dropbox preview not set"),a("uooops, dropbox viewer not set here!");else i.captureMessage("unknow method/origin to render file"),a("unknow method/origin to render file")}})},e.prototype.initRotate=function(e){var n=this;t("#"+e.canvasId+" .rotate").on("click",function(){var i=parseInt(t(this).attr("data-rotate"));280==(i+=90)&&(i=0),t(this).attr("data-rotate",i);var r=t("#"+e.canvasId+" .file__canvas");r.css({WebkitTransform:"rotate("+i+"deg)"}),r.css({"-moz-transform":"rotate("+i+"deg)"}),r.css({transform:"rotate("+i+"deg)"}),n.files.updateFile(e.id,{rotate:i})})},e.prototype.removeFile=function(e){var n=this;"function"==typeof n.onBeforeRemoveFile&&n.onBeforeRemoveFile(e),t("#"+e).remove(),n.processManager.removeFile(e).then(function(){"function"==typeof n.onRemoveFile&&n.onRemoveFile(e),t(".uploader.box").show()},function(t){})},e.prototype.renderPDF=function(t,e,n,r){void 0===r&&(r=null);var o=this;"object"==typeof o.pdfViewer&&null!=o.pdfViewer&&o.pdfViewer.onFileReady().then(function(){o.pdfViewer.renderPage(t,e,n).then(function(){},function(){})},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.captureMessage("Error pdf file not ready")})},e.prototype.renderImage=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t),o=r.getSource().getSource();return new Promise(function(t,a){i.imageViewer.renderImage(o,e,n).then(function(e){return r.width=e.width,r.height=e.height,t(e)},function(t){a(t)})})},e.prototype.renderImageJpg=function(t,e,n){return void 0===n&&(n=!1),this.renderImage(t,e,n)},e.prototype.renderUrl=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t),o=r.url;return new Promise(function(t,a){i.imageViewer.renderUrl(o,e,n).then(function(e){if("size"in e&&(r.size=e.size),"width"in r)t({width:r.width,height:r.height});else{var n=new Image;n.addEventListener("load",function(){r.width=this.naturalWidth,r.height=this.naturalHeight,t({width:this.naturalWidth,height:this.naturalHeight})}),n.src=r.url}},function(t){a()})})},e.prototype.renderPreview=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t).thumbnail;return new Promise(function(t,o){i.previewViewer.renderPreview(r,e,n),t({})})},e.prototype.renderSvg=function(t,e,n){void 0===n&&(n=!1);var i=this,r=i.files.getFile(t),o=r.getSource().getSource();return new Promise(function(t,a){i.imageViewer.renderSvg(o,e,n).then(function(e){return r.width=e.width,r.height=e.height,t(e)},function(t){a(t)})})},e.prototype.renderTif=function(t,e){var n=this,i=n.files.getFile(t).getSource().getSource();return new Promise(function(t,r){n.imageViewer.renderTif(i,e).then(function(){t()},function(){r()})})},e.prototype.renderDoc=function(t,e){var n=this.files.getFile(t).getSource().getSource();return this.officeViewer.renderDocument(n,e)},e.prototype.getFileboxTemplate=function(t){var e=/(?:\.([^.]+))?$/.exec(t.fileName)[1];return'<div class="file file--'+t.tool+' tooltip--top" id="'+t.fileID+'" rel="'+t.service+'" data-size="'+t.filesize+'" data-extension="'+e.toUpperCase()+'"  title="image size..."><div class="file__actions"><a class="file__btn rotate tooltip--top tooltip" data-rotate="0" title="'+a.Lang.t("Rotate")+'">'+o.Tools.svgRotate()+'</a><a class="file__btn remove tooltip--top tooltip" title="'+a.Lang.t("Remove this file")+'">'+o.Tools.svgRemove()+'</a></div><div class="file__canvas"><canvas id="cover-'+t.fileID+'" width="'+t.screenSize.w+'" height="'+t.screenSize.h+'" class="'+e+'"></canvas></div><div class="file__info"><span class="file__info__name">'+t.fileName+"</span></div></div>\n        "},e.prototype.fileUploaded=function(t,e){var n=document.getElementById(t),o="cover-"+t;"object"==typeof e&&"thumbnail"in e&&e.thumbnail&&null!=n&&(n.className=n.className+" image",this.renderPreview(t,o,null).then(function(t){},function(t){i.configureScope(function(e){e.setExtra("error",t)}),i.captureMessage("Render preview on file upload",r.Severity.Info)}))},e}();e.ViewManager=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(t){void 0===t&&(t={}),this.coversShow=!0,Object.assign(this,t),this.init()}return e.prototype.init=function(){},e.prototype.renderPreview=function(e,n,i){void 0===i&&(i=!1);var r=document.getElementById(n);i?t(r).attr("src",e):t(r).attr("style","background-color: transparent; background-image: url("+e+");background-size:contain; width: 100%;background-repeat: no-repeat;background-position: center;");var o=t("#"+n+" canvas");o.length>0&&o.remove()},e}();e.PreviewView=n}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(84),a=n(12),s=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.selectedBefore=!1,n.processBtnPulseTimeout=1e4,n.hideRotation=!0,n.damagedRemove=!0,n.width=0,n.height=0,n}return r(n,e),n.prototype.init=function(){e.prototype.init.call(this)},n.prototype.initActions=function(){var n=this;e.prototype.initActions.call(this),t(".option__image__item.option--active").trigger("click"),t(".option__image__item").on("click",function(){n.selectedBefore=!0})},n.prototype.fileReady=function(n){e.prototype.fileReady.call(this,n),t("#"+n.id+" .file__info__size__from").html(n.width+" x "+n.height),t("#"+n.id+" .file__info__size__to").html(n.width+" x "+n.height),1==this.files.files.length&&(t("#pixels_width").val(n.width),t("#pixels_height").val(n.height)),this.files.files.length>1&&0==this.selectedBefore&&t('.option__image__item[data-value="percentage"]').trigger("click"),"pixels"==t(".option__image__item.option--active").data("value")?this.actionFormResize():this.actionFormPercent()},n.prototype.actionFormResize=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null),null==e&&(this.width=0,e=t("#pixels_width"));var i=parseInt(t("#pixels_width").val().toString()),r=parseInt(t("#pixels_height").val().toString()),o=this,s=0;isNaN(i)?(t("#pixels_width").val(""),s++):(t("#pixels_width").val(i),0==i&&s++),isNaN(r)?(t("#pixels_height").val(""),s++):(t("#pixels_height").val(r),0==r&&s++);var l=t("#maintain_ratio").is(":checked"),c=t("#no_enlarge_if_smaller").is(":checked"),u=e.attr("name");if(!("pixels_width"==u&&i==this.width||"pixels_height"==u&&r==this.height)){if(1==l&&this.files.files.length>1?(t("#maxSize").show(),t("#exactSize").hide()):(t("#maxSize").hide(),t("#exactSize").show()),1==l){if("pixels_width"==u){if((isNaN(i)||0==i)&&(isNaN(r)||0==r||1==this.files.files.length))return t("#pixels_height").val("0"),t("#pixels_width").val(""),t(".file__info__size__to").hide(),t(".file__info__size svg").hide(),t("#pixels_width").attr("placeholder","0").addClass("error"),void this.disableProcessBtn(a.Lang.t("Please set resize width or height"));if((isNaN(i)||0==i)&&this.files.files.length>1)return;this.files.files.length}else if("pixels_height"==u){if((isNaN(r)||0==r)&&(isNaN(i)||0==i||1==this.files.files.length))return t("#pixels_width").val("0"),t("#pixels_height").val(""),t(".file__info__size__to").hide(),t(".file__info__size svg").hide(),t("#pixels_height").attr("placeholder","0").addClass("error"),void this.disableProcessBtn(a.Lang.t("Please set resize width or height"));if(isNaN(r)||0==r)return;this.files.files.length}}else if(0==l&&((isNaN(i)||0==i)&&t("#pixels_width").addClass("error"),(isNaN(r)||0==r)&&t("#pixels_height").addClass("error"),isNaN(i)||0==i||isNaN(r)||0==r))return void this.disableProcessBtn(a.Lang.t("Please set resize width or height"));t(".file__info__size__to").show(),t(".file__info__size svg").show();var d=parseInt(t("#pixels_width").val().toString()),p=parseInt(t("#pixels_height").val().toString()),h=null,f=null,g=null,m=null;t(".file--img").each(function(e){g=t(this).attr("data-width"),m=t(this).attr("data-height");t(this).find(".file__info__size__to").html().split(" x ");1==l?"pixels_height"==u?(h=Math.round(p*g/m),f=p,0!=d&&h>d&&o.files.files.length>1&&(h=d,f=Math.round(d*m/g))):(h=d,f=Math.round(d*m/g),0!=p&&f>p&&o.files.files.length>1&&(h=Math.round(p*g/m),f=p)):(h=d,f=p),h=isNaN(h)?g:h,f=isNaN(f)?m:f,c&&(h>g||f>m)?t(this).find(".file__info__size__to").html(g+" x "+m):t(this).find(".file__info__size__to").html(h+" x "+f)}),1!=l||"pixels_height"!=u&&"pixels_width"!=u||(1==this.files.files.length?(t("#pixels_width").val(h),t("#pixels_height").val(f)):"pixels_width"!=u||!isNaN(r)&&0!=r?"pixels_height"!=u||!isNaN(i)&&0!=i||t("#pixels_width").val("").attr("placeholder","Auto"):t("#pixels_height").val("").attr("placeholder","Auto")),this.width=h,this.height=f,2==s?this.disableProcessBtn(a.Lang.t("Please set resize width or height")):this.enableProcessBtn(),t("#pixels_width, #pixels_height").removeClass("error").attr("placeholder","Auto")}},n.prototype.actionFormPercent=function(){this.selectedBefore=!0;var e=t('[data-name="percentage"].option--active');0==e.length&&(e=t('[data-name="percentage"]').first()).addClass("option--active");var n=e.data("value");t(".file--img").each(function(e){var i=parseInt(t(this).attr("data-width")),r=parseInt(t(this).attr("data-height")),o=Math.round(n*i/100),a=Math.round(n*r/100);t(this).find(".file__info__size svg").show(),t(this).find(".file__info__size__to").html(o+" x "+a).show()}),this.enableProcessBtn()},n.prototype.addSizeTo=function(e){0==t("#"+e.id+" .file__info__size__to").length&&t("#"+e.id+" .file__info__size__to").html(e.width+" x "+e.height)},n.prototype.beforeProcess=function(){var t=this;return new Promise(function(n,i){e.prototype.beforeProcess.call(t).then(function(){setTimeout(function(){n()},500)},function(){i()})})},n}(o.OptionsManager);e.ResizeImageOptionsManager=s}).call(this,n(1))},function(t,e,n){"use strict";(function(t,i){var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var a=n(84),s=n(34),l=n(25),c=n(25),u=function(e){function n(n){void 0===n&&(n={});var i=e.call(this,n)||this;return i.processBtnPulseTimeout=1e4,t("#fileGroups").hide(),i}return o(n,e),n.prototype.startPanels=function(){e.prototype.startPanels.call(this),this.disableProcessBtn(),this.initViewer()},n.prototype.initViewManager=function(){e.prototype.initViewManager.call(this),this.viewManager.imageViewer.useLoadImageLib=!0},n.prototype.makeWorkarea=function(){var n=this;return new Promise(function(i,r){e.prototype.makeWorkarea.call(n).then(function(){t("#fileGroups").hide(),i()})})},n.prototype.fileRemoved=function(n){e.prototype.fileRemoved.call(this,n),t(".tool__workarea__rendered").hide()},n.prototype.initViewer=function(){var e=this;t("#editor").show(function(){e.resizeCropper()})},n.prototype.initCropper=function(){return new Promise(function(t,e){if(null===window.jQuery.fn.cropper||void 0!==window.jQuery.fn.cropper)return t(!0);s.lazyload("/js/cropper/cropper.min.js");var n=window.setInterval(function(){if(null!==window.jQuery.fn.cropper&&"function"==typeof window.jQuery.fn.cropper)return clearInterval(n),t(!0)},100)})},n.prototype.resizeCropper=function(){!window.MSInputMethodContext||!document.documentMode?window.dispatchEvent(new Event("resize")):document.createEvent("Event").initEvent("resize",!0,!0)},n.prototype.crop=function(){window.jQuery("#file").cropper()},n.prototype.startCroppper=function(){var e=this,n=window.jQuery("#file"),i=(t("#download"),t("#dataX")),r=t("#dataY"),o=t("#dataHeight"),a=t("#dataWidth"),s=(t("#dataScaleX"),t("#dataScaleY"),{aspectRatio:NaN,preview:".img-preview",viewMode:1,zoomOnWheel:!1,crop:function(t){i.val(Math.round(t.x)),r.val(Math.round(t.y)),o.val(Math.round(t.height)),a.val(Math.round(t.width))},ready:function(){e.enableProcessBtn()}}),l=window.setInterval(function(){null!==n.cropper&&"function"==typeof n.cropper&&(clearInterval(l),n.cropper(s))},100);t(".docs-data input").on("keyup blur change",function(){var t={x:parseInt(i.val().toString()),y:parseInt(r.val().toString()),width:parseInt(a.val().toString()),height:parseInt(o.val().toString())};window.jQuery("#file").cropper("setData",t)})},n.prototype.fileReady=function(n){this.disableProcessBtn(),e.prototype.fileReady.call(this,n),t("#fileGroups").hide(),this.renderFileEditor(n)},n.prototype.renderFileEditor=function(e){var n=this;if(t("#fileGroups").hide(),e.url){var i=e.url;e.imageMediaMetadata&&(i=e.url.replace("=s220","=s"+e.imageMediaMetadata.width)),n.viewManager.imageViewer.renderUrl(i,"file",!0).then(function(){setTimeout(function(){n.initCropper().then(function(){n.startCroppper()},function(){})},500)},function(t){})}else try{var r=e.getSource().getSource();n.viewManager.imageViewer.renderImage(r,"file",!0).then(function(){setTimeout(function(){n.initCropper().then(function(){n.startCroppper()},function(){})},500)},function(t){})}catch(t){l.configureScope(function(e){e.setExtra("cropError",t)}),l.captureMessage("Failed to get source for image crop",c.Severity.Error)}},n.prototype.actionFormCrop=function(t){},n}(a.OptionsManager);e.CropImageOptionsManager=u}).call(this,n(1),n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.startPanels=function(){e.prototype.startPanels.call(this),this.initDraggable()},n.prototype.initDraggable=function(){var t=this,e=document.getElementById("fileGroups");new window.Sortable(e,{draggable:".file",onUpdate:function(e){t.files.files.move(e.oldIndex,e.newIndex)}})},n.prototype.fileChanged=function(n){e.prototype.fileChanged.call(this,n);var i=t('.option[data-value="gif_animation"]');this.files.files.length>1?i.removeClass("tooltip option--disabled"):(i.addClass("tooltip option--disabled"),t('.option[data-value="gif"]').trigger("click"))},n.prototype.beforeProcess=function(){return this.setGifLoop(),e.prototype.beforeProcess.call(this)},n.prototype.setGifLoop=function(){this.options.gif_time=Math.floor(100*this.options.gif_time),isNaN(this.options.gif_time)&&(this.options.gif_time=100)},n}(n(84).OptionsManager);e.FromjpgOptionsManager=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.initActions=function(){e.prototype.initActions.call(this),t(".option__image__item").on("click",function(){})},n.prototype.actionFormSelect=function(e){var n=t(e).data("value");"all"==n?t(".file").removeClass("unselected").addClass("selected"):"portrait"==n?(t(".file").removeClass("unselected selected"),t(".file").each(function(){var e=t(this).data("width"),n=t(this).data("height"),i=parseInt(t(this).find(".rotate").data("rotate"));90!=i&&180!=i||(e+=n,e-=n=e-n),n>e?t(this).addClass("selected"):t(this).addClass("unselected")})):"landscape"==n&&(t(".file").removeClass("selected unselected"),t(".file").each(function(){var e=t(this).data("width"),n=t(this).data("height"),i=parseInt(t(this).find(".rotate").data("rotate"));90!=i&&180!=i||(e+=n,e-=n=e-n),n<e?t(this).addClass("selected"):t(this).addClass("unselected")}))},n.prototype.actionOptionRotateRight=function(){var e=this;t(".file:not(.unselected)").each(function(){e.rotate(t(this).attr("id"),90)})},n.prototype.actionOptionRotateLeft=function(){var e=this;t(".file:not(.unselected)").each(function(){e.rotate(t(this).attr("id"),-90)})},n.prototype.actionFormRotateRight=function(){this.actionOptionRotateRight()},n.prototype.actionFormRotateLeft=function(){this.actionOptionRotateLeft()},n.prototype.rotate=function(e,n){var i=t("#"+e),r=i.find(".rotate"),o=parseInt(r.data("rotate"));360!=(o+=n)&&-360!=o||(o=0),o<0&&(o=360+o),r.data("rotate",o);var a=i.find(".file__canvas");a.css({WebkitTransform:"rotate("+o+"deg)"}),a.css({"-moz-transform":"rotate("+o+"deg)"}),a.css({transform:"rotate("+o+"deg)"}),this.files.updateFile(e,{rotate:o})},n.prototype.actionFormReset=function(){var e=this;t('.option__image__item[data-value="all"]').trigger("click"),t(".file:not(.unselected)").each(function(){var n=t(this).attr("id");t(this).find(".rotate").attr("data-rotate",0);var i=t(this).find(".file__canvas");i.css({WebkitTransform:"rotate(0deg)"}),i.css({"-moz-transform":"rotate(0deg)"}),i.css({transform:"rotate(0deg)"}),e.files.updateFile(n,{rotation:0})})},n}(n(84).OptionsManager);e.RotateImageOptionsManager=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(226),a=n(228),s=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.minWidth=50,n.loadFonts(),n}return r(n,e),n.prototype.startPanels=function(){e.prototype.startPanels.call(this),t(".alert,.info").hide(),a.EditElement.setPreviewZones(),this.initUploader(),this.initTextUpload(),this.uploader=window.watermarkUploader,this.textUploader=window.textUploader,t("#pickwatermark").show()},n.prototype.actionFormAddText=function(){var e=Math.max(0,parseInt(t("#workArea").scrollTop().toString())-parseInt(t("#editor").css("padding-top"))+60),n=new a.EditElement({draggable:!0,resizable:!0,rotable:!0,fontColorShadow:"transparent",type:"text",resizableAspectRatio:!1,restrict:!1,top:e+"px"});this.elements.length>0&&n.cloneStyle(this.elements[this.elements.length-1]),n.initStyle(),n.init(),n.select(),this.elements.push(n),this.enableProcessBtn()},n.prototype.actionFormAddImage=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=Math.max(0,parseInt(t("#workArea").scrollTop().toString())-parseInt(t("#editor").css("padding-top"))+60),r=new a.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"image",imgSrc:n,fileId:e,top:i+"px",resizableAspectRatio:!0,restrict:!1});this.checkImageSize(e,r),r.onResizeEnd=function(e,n,i){n.size.width>i.limitToPixelate?(t("#infoPixelatedImage").show(),t("#infoReducedImage").hide()):t("#infoPixelatedImage").hide()},r.initStyle(),r.init(),r.select(),this.elements.push(r)},n.prototype.checkImageSize=function(e,n){var i=this.files.getFile(e);if(i.width<this.minWidth)return t("#infoSmallFile").show(),void(n.limitToPixelate=i.width);var r=document.getElementById("file").naturalWidth,o=document.getElementById("file").width;if(r>o){var a=100*o/r;n.width=Math.max(i.width*a/100,this.minWidth),t("#infoReducedImage").show(),n.limitToPixelate=n.width,n.width=Math.min(o,n.width)}else n.limitToPixelate=i.width},n.prototype.fileAdded=function(t,n,i){var r=this;void 0===i&&(i=!1);var o=this;return"pickwatermark"==n?(this.processDisabledUploading=!0,this.disableProcessBtn(),e.prototype.fileAdded.call(this,t,n,!0)):"picktextwatermark"==n?e.prototype.fileAdded.call(this,t,n,!0):(this.elements&&this.elements.length>0&&this.saveGravityTemp(),new Promise(function(i,s){e.prototype.fileAdded.call(r,t,n).then(function(){"gif"==/(?:\.([^.]+))?$/.exec(t.name)[1]&&a.EditElement.setGifMode(),o.elements&&o.elements.length>0&&setTimeout(function(){o.setGravityTemp()},500),i()},function(t){s(t)})}))},n.prototype.fileReady=function(n){n&&"upBy"in n&&"pickwatermark"==n.upBy&&(t("#"+n.id).hide(),this.actionFormAddImage(n.id,this.viewManager.imageViewer.imageSrc["cover-"+n.id]));try{this.initWatermarkPremium()}catch(t){}e.prototype.fileReady.call(this,n)},n.prototype.initWatermarkPremium=function(){},n.prototype.fileUploaded=function(t,n){var i=this.files.getFile(t);null!=i&&"upBy"in i&&"pickwatermark"==i.upBy&&(this.processDisabledUploading=!1,this.enableProcessBtn()),e.prototype.fileUploaded.call(this,t,n)},n.prototype.updateOrderStatus=function(){},n.prototype.getElementSizeFactorial=function(){var e=800;t(".file").each(function(n,i){e=Math.max(e,parseInt(t(i).attr("data-width")))});var n=Math.ceil(e/800);return isNaN(n)?1:n},n}(o.EditorOptionsManager);e.WatermarkImageOptionsManager=s}).call(this,n(1))},function(t,e,n){(function(t){!function(t){if(t.support.touch="ontouchend"in document,t.support.touch){var e,n=t.ui.mouse.prototype,i=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(t){!e&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,o(t,"mouseover"),o(t,"mousemove"),o(t,"mousedown"))},n._touchMove=function(t){e&&(this._touchMoved=!0,o(t,"mousemove"))},n._touchEnd=function(t){e&&(o(t,"mouseup"),o(t,"mouseout"),this._touchMoved||o(t,"click"),e=!1)},n._mouseInit=function(){this.element.bind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),i.call(this)},n._mouseDestroy=function(){this.element.unbind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),r.call(this)}}function o(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}}(t)}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(226),a=n(228),s=n(50),l=n(47),c=n(32),u=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.topElement=null,n.bottomElement=null,n.elementTopStyle="",n.elementBottomStyle="",n.elementTopStyleSub="",n.elementBottomStyleSub="",n.serviceUrl=c.Settings.get("service")+"/meme",n.search=null,n.searchLocal=null,n.searchResults=null,n.searchLocalResults=null,n.elementStyles={},n.elementStylesSub={},n.nameEditable=!1,n.start(),n}return r(n,e),n.prototype.startPanels=function(){e.prototype.startPanels.call(this),a.EditElement.setPreviewZones(),this.initUploader(),this.initTextUpload(),this.disableProcessBtn(),t("#pickwatermark").show()},n.prototype.workareaActions=function(){t(".tool__workarea__rendered").hide(),e.prototype.workareaActions.call(this)},n.prototype.start=function(){var e=this;this.processManager.tool="watermarkimage",t("#loadImages").on("click",function(){t("#memeSearch").modal(),e.search=e.searchImages(t("#search").val().toString()),e.searchLocal=e.searchLocalImages(t("#search").val().toString())}),t(".meme-nav__prev").on("click",function(){e.page--,e.search=e.searchImages(t("#search").val().toString(),e.page),e.searchLocal=e.searchLocalImages(t("#search").val().toString(),e.page)}),t(".meme-nav__next").on("click",function(){e.page++,e.search=e.searchImages(t("#search").val().toString(),e.page),e.searchLocal=e.searchLocalImages(t("#search").val().toString(),e.page)}),t("#search").on("change",function(){e.page=1,e.search=e.searchImages(t("#search").val().toString()),e.searchLocal=e.searchLocalImages(t("#search").val().toString())})},n.prototype.searchImages=function(e,n){void 0===e&&(e=""),void 0===n&&(n=1);var i=this;return null!=this.search&&this.search.abort(),t(".meme__list").hide().empty(),t(".meme__list").hide().empty(),t(".meme__loading").show(),t(".meme-nav__page").html(n.toString()),n>1?t(".meme-nav__prev").show():(t(".meme-nav").hide(),t(".meme-nav__prev").hide()),this.searchResults=null,t.get(this.serviceUrl,{q:e,p:n},function(e){i.searchResults=e.length,i.cancelNextPage()?t(".meme-nav__next").hide():(t(".meme-nav__next").show(),t(".meme__list").show(),t(".meme__loading").hide(),t(".meme-nav").show(),t.each(e,function(t,e){i.search=null,i.showMeme(e)}))})},n.prototype.cancelNextPage=function(){return 0==this.searchResults&&0==this.searchLocalResults},n.prototype.searchLocalImages=function(e,n){void 0===e&&(e=""),void 0===n&&(n=1);var i=this;return null!=this.searchLocal&&this.searchLocal.abort(),t.get(this.serviceUrl+"/local",{q:e,p:n},function(e){i.searchLocalResults=e.length,i.cancelNextPage()?t(".meme-nav__next").hide():(t(".meme-nav__next").show(),t(".meme__list").show(),t(".meme__loading").hide(),t(".meme-nav").show(),t.each(e,function(t,e){i.search=null,i.showMeme(e)}))})},n.prototype.showMeme=function(e){var n=this,i=e.name.replace(/[^a-zA-Z0-9]+/g,"_");if(0==t("#"+i).length){var r=t(".meme__list__item.template").clone().appendTo(t(".meme__list"));r.attr("id",i),r.find("img").attr("src",e.url),r.find(".meme__list__item__title").html(e.name),r.find("button, img, meme__list__item__title").on("click",function(){n.setImage(e.url,e.name),t("#memeSearch").modal("toggle")}),r.removeClass("template")}},n.prototype.setImage=function(e,n){var i=this,r=new l.File({canvasId:"memeUrl",runtime:"html5",percent:0,name:e,filename:n,type:"image",service:"user",id:"fromUrl",url:e});i.files.addFile(r),i.fileAdded(r,"urlInput"),this.processManager.api.uploadFromUrl(e).then(function(t){t.percent=100,i.files.updateFile("fromUrl",t),i.renderFileEditor(r)},function(){}),t("#loadImages").hide(),this.loadFonts()},n.prototype.loadFonts=function(){for(var t in window.fonts)window.fonts.hasOwnProperty(t)&&"arial"!=t&&s.lazyloadCss("/font/"+t+".css")},n.prototype.initViewer=function(){e.prototype.initViewer.call(this),t("#fileGroups").hide(),t("#loadImages").hide()},n.prototype.fileRendered=function(){e.prototype.fileRendered.call(this),this.enableProcessBtn();var t=this;setTimeout(function(){t.initFistElements()},500)},n.prototype.initFistElements=function(){t("#fileGroups").hide();var e=t(".editor__content").width()+"px",n=48*t(".editor__content").width()/800;this.topElement=new a.EditElement({id:"elementTop",draggable:!0,resizable:!0,rotable:!0,restrict:!1,width:e,width_container:e,fontSize:n,left:0,top:0,type:"text",fontFamily:"Impact"}),this.bottomElement=new a.EditElement({id:"elementBottom",draggable:!0,resizable:!0,rotable:!0,restrict:!1,width:e,width_container:e,fontSize:n,bottom:0,left:0,type:"text",fontFamily:"Impact"}),this.topElement.initStyle(),this.bottomElement.initStyle(),this.topElement.init(),this.bottomElement.init(),this.elements.push(this.topElement),this.elements.push(this.bottomElement)},n.prototype.actionFormMode=function(e){var n=this;if(null!=e){var i=this.getOption("mode"),r=t("#elementTop,#elementBottom"),o=r.find(".editor__content__item__content");if("outside"==i)this.elementStyles={},r.each(function(e,i){var r=t(i).attr("id");n.elementStyles[r]=t(i).attr("style"),n.elementStylesSub[r]=t(i).find(".editor__content__item__content").attr("style")}),r.attr("style","").css({position:"relative",background:"white",display:"block",width:"100%"}),o.attr("style","").css({position:"relative",background:"white",display:"block",width:"100%",padding:"24px"}),r.find(".text").css("display","inline-block"),r.each(function(e,n){try{t(n).draggable({disabled:!0}),t(n).resizable({disabled:!0})}catch(n){}}),r.addClass("fixed");else{for(var a in this.elementStyles)t("#"+a).attr("style",this.elementStyles[a]),t("#"+a+" .editor__content__item__content").attr("style",this.elementStylesSub[a]);try{r.draggable("enable"),o.resizable("enable"),r.find(".text").css("display","block"),r.removeClass("fixed")}catch(t){}}}},n.prototype.actionFormAddText=function(){var t=new a.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"text",resizableAspectRatio:!1,fontFamily:"Impact",restrict:!1});this.elements.length>0&&t.cloneStyle(this.elements[this.elements.length-1]),t.top=0,t.left=0,t.initStyle(),t.init(),t.select(),this.elements.push(t)},n.prototype.actionFormAddImage=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var n=new a.EditElement({draggable:!0,resizable:!0,rotable:!0,type:"image",imgSrc:e,fileId:t,resizableAspectRatio:!0,restrict:!1});n.initStyle(),n.init(),n.select(),this.elements.push(n)},n.prototype.checkLimits=function(t,n){return"pickwatermark"==n?t:"picktextwatermark"==n?t:e.prototype.checkLimits.call(this,t,n)},n.prototype.fileAdded=function(t,n){var i=this;return"pickwatermark"==n?e.prototype.fileAdded.call(this,t,n,!0):"picktextwatermark"==n?e.prototype.fileAdded.call(this,t,n,!0):new Promise(function(r,o){e.prototype.fileAdded.call(i,t,n).then(function(){"gif"==/(?:\.([^.]+))?$/.exec(t.name)[1]&&a.EditElement.setGifMode(),r()},function(){o()})})},n.prototype.fileReady=function(n){n&&"upBy"in n&&"pickwatermark"==n.upBy&&(t("#"+n.id).hide(),this.actionFormAddImage(n.id,this.viewManager.imageViewer.imageSrc["cover-"+n.id])),e.prototype.fileReady.call(this,n)},n.prototype.fileUploaded=function(t,n){var i=this.files.getFile(t);null!=i&&"pickwatermark"==i.upBy&&(this.processDisabledUploading=!1,this.enableProcessBtn()),e.prototype.fileUploaded.call(this,t,n)},n.prototype.getElementSizeFactorial=function(){var t=document.getElementById("file").naturalWidth;return t<800?1:Math.ceil(t/800)},n}(o.EditorOptionsManager);e.MemeImageOptionsManager=u}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(84),a=n(13),s=n(60),l=n(37),c=n(63),u=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.selectedExtensions=[],"tojpg"==n.subtool&&(n.hideProblemForm=!0),n}return r(n,e),n.prototype.init=function(){e.prototype.init.call(this);var n=this;this.viewManager.onBeforeRemoveFile=function(e){t("#"+e).length>0&&t("#"+e)[0].hasAttribute("data-extension")&&-1==t.inArray(t("#"+e).attr("data-extension").toLowerCase(),["png","webp","svg","gif","psd","tif"])&&(n.selectedExtensions.splice(t.inArray(t("#"+e).attr("data-extension").toUpperCase(),n.selectedExtensions),1),n.selectedExtensions.length<1?(t("#highres-options").hide(),t(".option__panel__content").show()):t(".formats-sel-raw").html(n.uniqueValueArray(n.selectedExtensions).join(", ")))}},n.prototype.actionFormPremiumfeature=function(e,n){var i=this,r=new l.default({dialogName:"becomePremium"});r.setContentBuilder(function(){return new c.PremiumContext({tool:i.tool,triggerReason:s.REASON.ERROR_FEATURE,limits:i.limits})}),a.UserModel.isPremium()||"premium"==window.ilovepdfConfig.levelTemp||(t('#highres-options [data-value="0"]').trigger("click"),r.show(),window.ga("send","event","limits","feature-exceeded","converttojpg"))},n.prototype.fileAdded=function(n,i,r){void 0===r&&(r=!1);var o=e.prototype.fileAdded.call(this,n,i,!1),a=/(?:\.([^.]+))?$/.exec(n.name)[1];return a&&-1==t.inArray(a.toLowerCase(),["png","webp","svg","gif","psd","tif"])&&(this.selectedExtensions.push(a),t("#highres-options").show(),t(".option__panel__content").hide(),t(".formats-sel-raw").html(this.uniqueValueArray(this.selectedExtensions).join(", "))),this.fileChanged(n.id),o},n.prototype.beforeProcess=function(){return this.setGifLoop(),e.prototype.beforeProcess.call(this)},n.prototype.setGifLoop=function(){this.options.gif_time=Math.floor(100*this.options.gif_time),isNaN(this.options.gif_time)&&(this.options.gif_time=100)},n.prototype.uniqueValueArray=function(e){var n=[];return t.each(e,function(e,i){-1==t.inArray(i,n)&&n.push(i)}),n},n}(o.OptionsManager);e.TojpgOptionsManager=u}).call(this,n(1))},function(t,e,n){"use strict";(function(t){var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var o=n(84),a=n(12),s=n(43),l=n(218),c=function(e){function n(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.page=1,n.currentFile=null,n.lastFile=null,n.setPageWidth(),n}return r(n,e),n.prototype.startPanels=function(){e.prototype.startPanels.call(this),this.initControlUrl(),this.initResetActions(),this.saveOptions()},n.prototype.initViewManager=function(){e.prototype.initViewManager.call(this)},n.prototype.initControlUrl=function(){var e=this,n=null;t(".inputUrl").on("keyup",function(i){clearTimeout(n),n=window.setTimeout(function(){!0===l.Url.validate(t(i.target).val())?(t(i.target).removeClass("error"),t(".errorMsg").hide(),e.enableRefresh(),t("#refreshUrl").removeAttr("disabled")):(t(i.target).addClass("error"),t(".errorMsg").show(),e.disableRefresh(),t("#refreshUrl").attr("disabled","disabled"))},500)})},n.prototype.fileAdded=function(t,n,i){return void 0===i&&(i=!1),e.prototype.fileAdded.call(this,t,n,i)},n.prototype.initResetActions=function(){var e=this;t("#reset").on("click",function(){e.resetOptions()}),t(".inputUrl").on("keypress",function(e){"13"==(e.keyCode?e.keyCode:e.which).toString()&&1==l.Url.validate(t(".inputUrl").first().val())&&t("#refreshUrl").click()}),t("#settingsRefresh, #refreshUrl").on("click",function(){e.saveOptions(),window.ilovepdf.uploadPopupManager.urlupload.upload(t(".inputUrl").first().val())})},n.prototype.setPageWidth=function(){t("#view_width_custom").attr("value",window.innerWidth),t("#view_width_custom").html(a.Lang.t(a.Lang.t("Your screen")+" (${pixelsSize})",{pixelsSize:window.innerWidth+"px"}))},n.prototype.fileReady=function(e){var n=this,i=this;this.lastFile=this.currentFile,this.currentFile=e.id,this.files.removeFilesExcept(e.id),this.makeWorkarea().then(function(){i.showLoadingPreview(),n.getPreview(e).then(function(t){i.currentFile===e.id?(e=i.files.updateFile(e.id,{url:i.workerServer+"/thumbnails/"+t.thumbnail,percent:100}),i.fileChanged(e),i.hideLoadingPreview(),i.addCanvas(e),i.renderFile(e).then(function(t){},function(t){})):i.files.removeFile(e.id)},function(){i.hideLoadingPreview(),t(".waitMsgError").show()})},function(){})},n.prototype.saveOptions=function(){this.getPanelActiveOptions(),this.savedOptions=JSON.stringify(this.options),this.hideRefresh()},n.prototype.resetOptions=function(){Object.assign(this.options,JSON.parse(this.savedOptions)),this.applyAllOptions(),this.hideRefresh()},n.prototype.optionsChanged=function(){return this.getPanelActiveOptions(),this.savedOptions!==JSON.stringify(this.options)},n.prototype.setOption=function(t,n){e.prototype.setOption.call(this,t,n),1==this.optionsChanged()?this.showRefresh():this.hideRefresh()},n.prototype.showRefresh=function(){t("#reset").show(),t("#settingsRefresh").show(),t("#settingsRefresh:enabled").length&&(s.Tooltip.setContent(t("#settingsRefresh"),a.Lang.t("Click to refresh changes")),s.Tooltip.show(t("#settingsRefresh")))},n.prototype.hideRefresh=function(){t("#reset").hide(),t("#settingsRefresh").hide(),s.Tooltip.hide(t("#settingsRefresh"))},n.prototype.disableRefresh=function(){t("#settingsRefresh").attr("disabled","disabled"),this.disableProcessBtn()},n.prototype.enableRefresh=function(){t("#reset").hide(),t("#settingsRefresh").removeAttr("disabled"),this.enableProcessBtn()},n.prototype.addCanvas=function(e){t(".editor__content").append('<img id="image_'+e.id+'">')},n.prototype.getPreview=function(t){return this.getPanelActiveOptions(),this.saveOptions(),this.processManager.api.getPreview(t.server_filename,this.options)},n.prototype.showLoadingPreview=function(){t(".waitMsgError").hide(),t(".tool__workarea")[0].scrollTop=0,t(".waitMsg").show(),t(".tool__workarea").addClass("waiting"),this.startWaitMessages()},n.prototype.hideLoadingPreview=function(){t(".tool__workarea").removeClass("waiting"),t(".waitMsg").hide(),this.stopWaitMessages()},n.prototype.startWaitMessages=function(){var e=0,n=t(".waitMsg_message").length,i=t(".waitMsg_message");function r(){i.hide().filter(function(t){return t==e%n}).show(),e++}r(),this.waitInterval=setInterval(function(){r()},3e3)},n.prototype.stopWaitMessages=function(){clearInterval(this.waitInterval)},n.prototype.renderFile=function(e){var n=this;return this.rendering=!0,t(".editor__content img").hide(),t("#image_"+e.id).show(),new Promise(function(t,i){void 0!==e?n.viewManager.imageViewer.renderUrl(e.url,"image_"+e.id,!0).then(function(){},function(){}):i()})},n.prototype.beforeProcess=function(){return t(".waitMsg, .waitMsgError").hide(),t("#settingsRefresh").hide(),e.prototype.beforeProcess.call(this)},n}(o.OptionsManager);e.HtmlimageOptionsManager=c}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(279),r=n(218),o=function(){function e(t){this.id="pickfiles",this.optionsManager=null,this.processManager=null,this.config=null,this.files=null,this.workerServer=null,this.startServer=null,this.token=null,this.tool=null,this.taskId=null,this.servers=null,this.openTab="url",Object.assign(this,t),this.urlupload=null,this.firstFile=!1,this.init()}return e.prototype.init=function(){var e=this,n=this;this.urlupload=new i.UrlUpload({id:this.id,optionsManager:this.optionsManager,processManager:this.processManager,files:this.files,workerServer:this.workerServer,startServer:this.startServer,token:this.token,tool:this.tool,taskId:this.taskId,servers:this.servers,haveDrop:!0}),t("form").on("submit",function(e){e.preventDefault(),t("#addWeb").click()}),t("#inputWeb").on("change",function(e){!0===r.Url.validate(t(e.target).val())?(t(e.target).removeClass("error"),t(".errorMsg").hide()):(t(e.target).addClass("error"),t(".errorMsg").show())}),t("#addWeb").on("click",function(){if(n.openTab=t(".tab-pane.active").attr("id"),"url"==n.openTab){if(0==r.Url.validate(t("#inputWeb").val()))return!1;t(".inputUrl").first().val(t("#inputWeb").val()),t("#htmlModal").modal("hide"),t("body").removeClass("modal-open"),t(".modal-backdrop").remove(),e.urlupload.upload(t("#inputWeb").val())}})},e}();e.UploadPopupManager=o}).call(this,n(1))},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),r=n(47),o=n(218),a=function(){function e(t){void 0===t&&(t={}),Object.assign(this,t),this.init()}return e.prototype.init=function(){t(".errorMsg").hide()},e.prototype.upload=function(t){if(!0===o.Url.validate(t)){var e=new r.File({id:(new Date).getTime(),link:o.Url.correct(t)});this.fileAdded(e),this.uploadFile(e)}},e.prototype.fileAdded=function(t){t.runtime="html5",t.percent=0,t.service="user",t.url=t.link,t.size=t.bytes,t.canvasId=t.id,t.name=new URL(t.link).hostname.replace(".","_"),t.filename=t.name,t.origin="url",this.optionsManager.files.addFile(t),this.optionsManager.fileAdded(t,"urlUploader")},e.prototype.uploadFile=function(t){var e=this;this.processManager.api.request("POST","upload",{task:this.processManager.taskId,cloud_file:t.link}).then(function(n){e.processManager.files.updateFile(t.id,{process:100,percent:100,server_filename:n.server_filename}),e.optionsManager.fileReady(t)},function(n){t.error=!0,e.processManager.files.updateFile(t.id,{process:0,percent:0,error:!0}),e.optionsManager.invalidUpload({error:"CloudError",file:{id:t.id}}),i.configureScope(function(t){t.setExtra("error",JSON.parse(n))}),i.captureMessage("Upload from url error")})},e}();e.UrlUpload=a}).call(this,n(1))},function(t,e,n){}]);